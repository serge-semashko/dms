[comments]
descr=S: Заполнить рабочее workflow для документа значениями на основе данных документа
input=doc_id - ID документа
output=Заполнение полей всех шагов workflow на основе данных документа (ID цели, персоны)
parents=wf/start_wf_for_doc.cfg
childs=wf/set_wf_step_params.cfg
testURL=?c=wf/set_wf_params&doc_id=1
author=Куняев
[end]

[parameters]
service=dubna.walt.service.TableServiceSpecial
request_name=S:заполнение wf для документа #doc_id#
KeepLog=false
ClearLog=true
[end]


[report header]
$GET_DATA [get wf id]
[end]


[item]
======= Цикл по шагам workflow ======= ??
$INCLUDE [item_] ??!ERROR
[end]

[item_]
<hr>ШАГ: #step#; ??
$CALL_SERVICE c=wf/set_wf_step_params
[end]

[report footer]
[end]

==============================================================
==============================================================
==============================================================


[get wf id]
select id as "WF_ID" from wf_list where doc_id=#doc_id#
;
[end]

[SQL]
select distinct step
from wf
where wf_id=#WF_ID# and step>0
[end]