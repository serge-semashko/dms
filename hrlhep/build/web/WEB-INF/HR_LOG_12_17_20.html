<html>
    <head>
        <title>HR LHEP Log</title>
        <META http-equiv=Content-Type content="text/html; charset=utf-8">
        <style>
            body{background-color:#eefff4;}
            xmp {margin:0;} 
            .pt {cursor:pointer;} 
            span.req_start {border:solid 1px red; font-weight:bold; background-color:#FFFFA0;}
            span.req_end {border:solid 1px red; font-weight:bold; background-color:#D0FFB0;}
            div.req {display:none; border:solid 1px red; padding:4px; background-color:white;}

            span.ss_start {border:solid 1px red; background-color:#D0E8FF;}
            span.ss_back {border:solid 1px blue; background-color:#D0FFB0;}
            div.ss {display:none; border:solid 1px green; border-right:none; padding:6px; margin-left:5px;}
        </style>
        <script type="text/javascript">
            var toggleDiv = function (id) {
                var d = document.getElementById(id);
                if (d.style.display === "block")
                    d.style.display = "none";
                else
                    d.style.display = "block";
            };
        </script>
    </head><body>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_17_20.html maxLength=500000
</xmp>------ SQL done, 1ms.<br><BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_41");'> Request_HR_LHEP_41 [17.12 20:55:20] 2309: 0:0:0:0:0:0:0:1 c=tab_salary</span><div id='Request_HR_LHEP_41' class='req'> queryString:c=tab_salary&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_salary_table1513533320127");'> $CALL_SERVICE: <b>tab_salary.cfg => tab_salary_table</b> (request:HR_LHEP_41)</span><div id='tab_salary_table1513533320127' class='ss'><b>$INCLUDE </b>[total table]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp>*** EXCEPTION:<br><xmp>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel , sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year , oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav , oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo from sotrudniki sotr left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '</xmp><hr>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel , sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year , oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav , oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo from sotrudniki sotr left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '
	at dubna.walt.util.DBUtil.getResults(DBUtil.java:448)
	at dubna.walt.service.TableServiceSimple.runSQL(TableServiceSimple.java:1033)
	at dubna.walt.service.TableServiceSimple.makeTable(TableServiceSimple.java:478)
	at dubna.walt.service.TableServiceSimple.start(TableServiceSimple.java:304)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.service.Service.callService(Service.java:1118)
	at dubna.walt.service.Service.callService(Service.java:1041)
	at dubna.walt.util.BasicTuner.getCustomSection(BasicTuner.java:475)
	at dubna.walt.util.Tuner.outCustomSection(Tuner.java:338)
	at dubna.walt.service.Service.start(Service.java:378)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.SimpleQueryThread.startService(SimpleQueryThread.java:581)
	at jinr.hrlhep.QueryThread.start(QueryThread.java:61)
	at dubna.walt.Query.<init>(Query.java:75)
	at jinr.hrlhep.Servlet.doGet(Servlet.java:89)
	at dubna.walt.BasicServlet.doPost(BasicServlet.java:191)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_42");'> Request_HR_LHEP_42 [17.12 20:57:44] 2309: 0:0:0:0:0:0:0:1 c=tab_premii</span><div id='Request_HR_LHEP_42' class='req'> queryString:c=tab_premii&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_premii_table1513533465009");'> $CALL_SERVICE: <b>tab_premii.cfg => tab_premii_table</b> (request:HR_LHEP_42)</span><div id='tab_premii_table1513533465009' class='ss'><br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_POST
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_POST=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post
, sotr.division, sotr.category, premii.year, premii.month, premii.istochnik1, premii.istochnik2
, premii.istochnik3, premii.istochnik4, premii.istochnik5
, premii.summa
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_OTDEL
from sotrudniki sotr
left join premii on sotr.person_id=premii.person_id
left join oklad on sotr.tab_n=oklad.tab_n
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp>*** EXCEPTION:<br><xmp>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post , sotr.division, sotr.category, premii.year, premii.month, premii.istochnik1, premii.istochnik2 , premii.istochnik3, premii.istochnik4, premii.istochnik5 , premii.summa , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_OTDEL from sotrudniki sotr left join premii on sotr.person_id=premii.person_id left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '</xmp><hr>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post , sotr.division, sotr.category, premii.year, premii.month, premii.istochnik1, premii.istochnik2 , premii.istochnik3, premii.istochnik4, premii.istochnik5 , premii.summa , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_OTDEL from sotrudniki sotr left join premii on sotr.person_id=premii.person_id left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '
	at dubna.walt.util.DBUtil.getResults(DBUtil.java:448)
	at dubna.walt.service.TableServiceSimple.runSQL(TableServiceSimple.java:1033)
	at dubna.walt.service.TableServiceSimple.makeTable(TableServiceSimple.java:478)
	at dubna.walt.service.TableServiceSimple.start(TableServiceSimple.java:304)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.service.Service.callService(Service.java:1118)
	at dubna.walt.service.Service.callService(Service.java:1041)
	at dubna.walt.util.BasicTuner.getCustomSection(BasicTuner.java:475)
	at dubna.walt.util.Tuner.outCustomSection(Tuner.java:338)
	at dubna.walt.service.Service.start(Service.java:378)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.SimpleQueryThread.startService(SimpleQueryThread.java:581)
	at jinr.hrlhep.QueryThread.start(QueryThread.java:61)
	at dubna.walt.Query.<init>(Query.java:75)
	at jinr.hrlhep.Servlet.doGet(Servlet.java:89)
	at dubna.walt.BasicServlet.doPost(BasicServlet.java:191)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_43");'> Request_HR_LHEP_43 [17.12 20:57:47] 2309: 0:0:0:0:0:0:0:1 c=tab_personal</span><div id='Request_HR_LHEP_43' class='req'> queryString:c=tab_personal&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br> #############SSS<br><span class='ss_start pt'  onClick='toggleDiv("tab_personal_table1513533467723");'> $CALL_SERVICE: <b>tab_personal.cfg => tab_personal_table</b> (request:HR_LHEP_43)</span><div id='tab_personal_table1513533467723' class='ss'><b>$INCLUDE </b>[criteria]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select count(*) as "NUM_RECORDS"
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
NUM_RECORDS=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[criteria]<BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.tab_n,sotr.topparent_name,sotr.subtopparent_name, sotr.FIO, sotr.history_contract, sotr.stepen, sotr.otdel, sotr.shtat_direct
, sotr.division, sotr.div_code, sotr.post, date_format(sotr.dr,'%d.%m.%Y') birthday
, sotr.usl_truda, sotr.usl_rab, sotr.category, sotr.grazhdan, date_format(sotr.nachalo_rab,'%d.%m.%Y') nachalo_rab
, date_format(sotr.okonch_rab,'%d.%m.%Y') okonch_rab, sotr.otdel, sotr.shtat_direct
, sotr.sovmeshenie
, ((YEAR(CURRENT_DATE)-YEAR(dr))-(DATE_FORMAT(CURRENT_DATE, '%m%d')<DATE_FORMAT(dr, '%m%d'))) AS age
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 70ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_personal_table1513533467723");'> BACK: <b>tab_personal_table => tab_personal.cfg; (255ms.)</b></span><BR>
<br> #############SSS</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_43");'>Request_HR_LHEP_43 (tab_personal) DONE! (364ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_44");'> Request_HR_LHEP_44 [17.12 20:57:49] 2309: 0:0:0:0:0:0:0:1 c=tab_salary</span><div id='Request_HR_LHEP_44' class='req'> queryString:c=tab_salary&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_salary_table1513533469725");'> $CALL_SERVICE: <b>tab_salary.cfg => tab_salary_table</b> (request:HR_LHEP_44)</span><div id='tab_salary_table1513533469725' class='ss'><b>$INCLUDE </b>[total table]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 214ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp>*** EXCEPTION:<br><xmp>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel , sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year , oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav , oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo from sotrudniki sotr left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '</xmp><hr>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel , sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year , oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav , oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo from sotrudniki sotr left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '
	at dubna.walt.util.DBUtil.getResults(DBUtil.java:448)
	at dubna.walt.service.TableServiceSimple.runSQL(TableServiceSimple.java:1033)
	at dubna.walt.service.TableServiceSimple.makeTable(TableServiceSimple.java:478)
	at dubna.walt.service.TableServiceSimple.start(TableServiceSimple.java:304)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.service.Service.callService(Service.java:1118)
	at dubna.walt.service.Service.callService(Service.java:1041)
	at dubna.walt.util.BasicTuner.getCustomSection(BasicTuner.java:475)
	at dubna.walt.util.Tuner.outCustomSection(Tuner.java:338)
	at dubna.walt.service.Service.start(Service.java:378)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.SimpleQueryThread.startService(SimpleQueryThread.java:581)
	at jinr.hrlhep.QueryThread.start(QueryThread.java:61)
	at dubna.walt.Query.<init>(Query.java:75)
	at jinr.hrlhep.Servlet.doGet(Servlet.java:89)
	at dubna.walt.BasicServlet.doPost(BasicServlet.java:191)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_45");'> Request_HR_LHEP_45 [17.12 20:58:2] 2309: 0:0:0:0:0:0:0:1 c=tab_personal</span><div id='Request_HR_LHEP_45' class='req'> queryString:c=tab_personal&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br> #############SSS<br><span class='ss_start pt'  onClick='toggleDiv("tab_personal_table1513533482150");'> $CALL_SERVICE: <b>tab_personal.cfg => tab_personal_table</b> (request:HR_LHEP_45)</span><div id='tab_personal_table1513533482150' class='ss'><b>$INCLUDE </b>[criteria]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select count(*) as "NUM_RECORDS"
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
NUM_RECORDS=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[criteria]<BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.tab_n,sotr.topparent_name,sotr.subtopparent_name, sotr.FIO, sotr.history_contract, sotr.stepen, sotr.otdel, sotr.shtat_direct
, sotr.division, sotr.div_code, sotr.post, date_format(sotr.dr,'%d.%m.%Y') birthday
, sotr.usl_truda, sotr.usl_rab, sotr.category, sotr.grazhdan, date_format(sotr.nachalo_rab,'%d.%m.%Y') nachalo_rab
, date_format(sotr.okonch_rab,'%d.%m.%Y') okonch_rab, sotr.otdel, sotr.shtat_direct
, sotr.sovmeshenie
, ((YEAR(CURRENT_DATE)-YEAR(dr))-(DATE_FORMAT(CURRENT_DATE, '%m%d')<DATE_FORMAT(dr, '%m%d'))) AS age
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 478ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_personal_table1513533482150");'> BACK: <b>tab_personal_table => tab_personal.cfg; (704ms.)</b></span><BR>
<br> #############SSS</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_45");'>Request_HR_LHEP_45 (tab_personal) DONE! (830ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_46");'> Request_HR_LHEP_46 [17.12 20:58:3] 2309: 0:0:0:0:0:0:0:1 c=tab_salary</span><div id='Request_HR_LHEP_46' class='req'> queryString:c=tab_salary&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_salary_table1513533483616");'> $CALL_SERVICE: <b>tab_salary.cfg => tab_salary_table</b> (request:HR_LHEP_46)</span><div id='tab_salary_table1513533483616' class='ss'><b>$INCLUDE </b>[total table]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp>*** EXCEPTION:<br><xmp>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel , sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year , oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav , oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo from sotrudniki sotr left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '</xmp><hr>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel , sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year , oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav , oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo from sotrudniki sotr left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '
	at dubna.walt.util.DBUtil.getResults(DBUtil.java:448)
	at dubna.walt.service.TableServiceSimple.runSQL(TableServiceSimple.java:1033)
	at dubna.walt.service.TableServiceSimple.makeTable(TableServiceSimple.java:478)
	at dubna.walt.service.TableServiceSimple.start(TableServiceSimple.java:304)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.service.Service.callService(Service.java:1118)
	at dubna.walt.service.Service.callService(Service.java:1041)
	at dubna.walt.util.BasicTuner.getCustomSection(BasicTuner.java:475)
	at dubna.walt.util.Tuner.outCustomSection(Tuner.java:338)
	at dubna.walt.service.Service.start(Service.java:378)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.SimpleQueryThread.startService(SimpleQueryThread.java:581)
	at jinr.hrlhep.QueryThread.start(QueryThread.java:61)
	at dubna.walt.Query.<init>(Query.java:75)
	at jinr.hrlhep.Servlet.doGet(Servlet.java:89)
	at dubna.walt.BasicServlet.doPost(BasicServlet.java:191)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_17_20.html maxLength=500000
</xmp>------ SQL done, 14ms.<br><BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_48");'> Request_HR_LHEP_48 [17.12 20:59:51] 2309: 0:0:0:0:0:0:0:1 c=tab_personal</span><div id='Request_HR_LHEP_48' class='req'> queryString:c=tab_personal&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br> #############SSS<br><span class='ss_start pt'  onClick='toggleDiv("tab_personal_table1513533591535");'> $CALL_SERVICE: <b>tab_personal.cfg => tab_personal_table</b> (request:HR_LHEP_48)</span><div id='tab_personal_table1513533591535' class='ss'><b>$INCLUDE </b>[criteria]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select count(*) as "NUM_RECORDS"
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
NUM_RECORDS=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[criteria]<BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.tab_n,sotr.topparent_name,sotr.subtopparent_name, sotr.FIO, sotr.history_contract, sotr.stepen, sotr.otdel, sotr.shtat_direct
, sotr.division, sotr.div_code, sotr.post, date_format(sotr.dr,'%d.%m.%Y') birthday
, sotr.usl_truda, sotr.usl_rab, sotr.category, sotr.grazhdan, date_format(sotr.nachalo_rab,'%d.%m.%Y') nachalo_rab
, date_format(sotr.okonch_rab,'%d.%m.%Y') okonch_rab, sotr.otdel, sotr.shtat_direct
, sotr.sovmeshenie
, ((YEAR(CURRENT_DATE)-YEAR(dr))-(DATE_FORMAT(CURRENT_DATE, '%m%d')<DATE_FORMAT(dr, '%m%d'))) AS age
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 103ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_personal_table1513533591535");'> BACK: <b>tab_personal_table => tab_personal.cfg; (320ms.)</b></span><BR>
<br> #############SSS</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_48");'>Request_HR_LHEP_48 (tab_personal) DONE! (440ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_49");'> Request_HR_LHEP_49 [17.12 20:59:52] 2309: 0:0:0:0:0:0:0:1 c=tab_salary</span><div id='Request_HR_LHEP_49' class='req'> queryString:c=tab_salary&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_salary_table1513533592772");'> $CALL_SERVICE: <b>tab_salary.cfg => tab_salary_table</b> (request:HR_LHEP_49)</span><div id='tab_salary_table1513533592772' class='ss'><b>$INCLUDE </b>[total table]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 7ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 268ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_salary_table1513533592772");'> BACK: <b>tab_salary_table => tab_salary.cfg; (502ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_49");'>Request_HR_LHEP_49 (tab_salary) DONE! (631ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_50");'> Request_HR_LHEP_50 [17.12 20:59:54] 2309: 0:0:0:0:0:0:0:1 c=tab_premii</span><div id='Request_HR_LHEP_50' class='req'> queryString:c=tab_premii&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>dat/utils.cfg[personal filters]<BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_premii_table1513533594332");'> $CALL_SERVICE: <b>tab_premii.cfg => tab_premii_table</b> (request:HR_LHEP_50)</span><div id='tab_premii_table1513533594332' class='ss'><br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 21ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_POST
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_POST=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>dat/utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post
, sotr.division, sotr.category, premii.year, premii.month, premii.istochnik1, premii.istochnik2
, premii.istochnik3, premii.istochnik4, premii.istochnik5
, premii.summa
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_OTDEL
from sotrudniki sotr
left join premii on sotr.person_id=premii.person_id
left join oklad on sotr.tab_n=oklad.tab_n
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp>*** EXCEPTION:<br><xmp>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post , sotr.division, sotr.category, premii.year, premii.month, premii.istochnik1, premii.istochnik2 , premii.istochnik3, premii.istochnik4, premii.istochnik5 , premii.summa , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_OTDEL from sotrudniki sotr left join premii on sotr.person_id=premii.person_id left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '</xmp><hr>java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from sotrudniki sotr where lab_id = 100000 order by sotr.FIO' at line 1; SQL: 'select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post , sotr.division, sotr.category, premii.year, premii.month, premii.istochnik1, premii.istochnik2 , premii.istochnik3, premii.istochnik4, premii.istochnik5 , premii.summa , ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0) +ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0) +ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_OTDEL from sotrudniki sotr left join premii on sotr.person_id=premii.person_id left join oklad on sotr.tab_n=oklad.tab_n from sotrudniki sotr where lab_id = 100000 order by sotr.FIO '
	at dubna.walt.util.DBUtil.getResults(DBUtil.java:448)
	at dubna.walt.service.TableServiceSimple.runSQL(TableServiceSimple.java:1033)
	at dubna.walt.service.TableServiceSimple.makeTable(TableServiceSimple.java:478)
	at dubna.walt.service.TableServiceSimple.start(TableServiceSimple.java:304)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.service.Service.callService(Service.java:1118)
	at dubna.walt.service.Service.callService(Service.java:1041)
	at dubna.walt.util.BasicTuner.getCustomSection(BasicTuner.java:475)
	at dubna.walt.util.Tuner.outCustomSection(Tuner.java:338)
	at dubna.walt.service.Service.start(Service.java:378)
	at dubna.walt.service.Service.doIt(Service.java:202)
	at dubna.walt.SimpleQueryThread.startService(SimpleQueryThread.java:581)
	at jinr.hrlhep.QueryThread.start(QueryThread.java:61)
	at dubna.walt.Query.<init>(Query.java:75)
	at jinr.hrlhep.Servlet.doGet(Servlet.java:89)
	at dubna.walt.BasicServlet.doPost(BasicServlet.java:191)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:648)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.netbeans.modules.web.monitor.server.MonitorFilter.doFilter(MonitorFilter.java:393)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:217)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:518)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1091)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:673)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
