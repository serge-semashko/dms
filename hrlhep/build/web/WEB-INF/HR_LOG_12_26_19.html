<html>
    <head>
        <title>HR LHEP Log</title>
        <META http-equiv=Content-Type content="text/html; charset=utf-8">
        <style>
            body{background-color:#eefff4;}
            xmp {margin:0;} 
            .pt {cursor:pointer;} 
            span.req_start {border:solid 1px red; font-weight:bold; background-color:#FFFFA0;}
            span.req_end {border:solid 1px red; font-weight:bold; background-color:#D0FFB0;}
            div.req {display:none; border:solid 1px red; padding:4px; background-color:white;}

            span.ss_start {border:solid 1px red; background-color:#D0E8FF;}
            span.ss_back {border:solid 1px blue; background-color:#D0FFB0;}
            div.ss {display:none; border:solid 1px green; border-right:none; padding:6px; margin-left:5px;}
        </style>
        <script type="text/javascript">
            var toggleDiv = function (id) {
                var d = document.getElementById(id);
                if (d.style.display === "block")
                    d.style.display = "none";
                else
                    d.style.display = "block";
            };
        </script>
    </head><body>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_26_19.html maxLength=500000
</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_26_19.html maxLength=500000
</xmp>------ SQL done, 0ms.<br><BR>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_26_19.html maxLength=500000
</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_26_19.html maxLength=500000
</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_26_19.html maxLength=500000
</xmp>------ SQL done, 1ms.<br><BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_277");'> Request_HR_LHEP_277 [26.12 19:45:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_277' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b294-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=360&ClientObjectID=931000&Time=08.09.2016 18:07:09&Object={
"Код": "931000",
"Наименование": "Участок пожарной автоматики",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=931000;<br> Наименование=Участок пожарной автоматики<BR>
 РодительКод=<BR>
 Код=931000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733327");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_277)</span><div id='gateway/receive_3_podrazd1514306733327' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "931000",
"Наименование": "Участок пожарной автоматики",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=931000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=931000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Участок пожарной автоматики', is_deleted=0, changed=now() where ID=931000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733335");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_277)</span><div id='gateway/jinr_setDivParents1514306733335' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=931000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 9ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=931000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УПА' where id=931000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733335");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (21ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733327");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (29ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_277");'>Request_HR_LHEP_277 (gateway/receive) DONE! (118ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_278");'> Request_HR_LHEP_278 [26.12 19:45:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_278' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b245-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115492&ClientObjectID=650000&Time=27.02.2017 12:38:49&Object={
"Код": "650000",
"Наименование": "НХП по предоставлению доступа к сети интернет  (ЛИТ)",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=650000;<br> Наименование=НХП по предоставлению доступа к сети интернет  (ЛИТ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=650000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733466");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_278)</span><div id='gateway/receive_3_podrazd1514306733466' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "650000",
"Наименование": "НХП по предоставлению доступа к сети интернет  (ЛИТ)",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=650000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=650000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='НХП по предоставлению доступа к сети интернет  (ЛИТ)', is_deleted=0, changed=now() where ID=650000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733472");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_278)</span><div id='gateway/jinr_setDivParents1514306733472' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=650000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=650000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП сеть интернет  (ЛИТ)' where id=650000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733472");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (21ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733466");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (27ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_278");'>Request_HR_LHEP_278 (gateway/receive) DONE! (96ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_279");'> Request_HR_LHEP_279 [26.12 19:45:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_279' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=745812c4-9d23-11e2-93f3-0025907d24fa&GateObjectID=115501&ClientObjectID=910000&Time=27.02.2017 12:38:42&Object={
"Код": "910000",
"Наименование": "Резерв дирекции",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=910000;<br> Наименование=Резерв дирекции<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=910000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733575");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_279)</span><div id='gateway/receive_3_podrazd1514306733575' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "910000",
"Наименование": "Резерв дирекции",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=910000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=910000
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Резерв дирекции', is_deleted=0, changed=now() where ID=910000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733581");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_279)</span><div id='gateway/jinr_setDivParents1514306733581' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=910000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=910000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Резерв дирекции' where id=910000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733581");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733575");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_279");'>Request_HR_LHEP_279 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_280");'> Request_HR_LHEP_280 [26.12 19:45:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_280' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef92-8a54-11e2-93f1-0025907d24fa&GateObjectID=115502&ClientObjectID=999999&Time=27.02.2017 12:38:41&Object={
"Код": "999999",
"Наименование": "Базовые установки",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999999;<br> Наименование=Базовые установки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=999999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733667");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_280)</span><div id='gateway/receive_3_podrazd1514306733667' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999999",
"Наименование": "Базовые установки",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999999
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Базовые установки', is_deleted=0, changed=now() where ID=999999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733673");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_280)</span><div id='gateway/jinr_setDivParents1514306733673' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки' where id=999999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733673");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733667");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_280");'>Request_HR_LHEP_280 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_281");'> Request_HR_LHEP_281 [26.12 19:45:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_281' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=82409cfa-75cc-11e6-9468-0025907d24fa&GateObjectID=354&ClientObjectID=10000&Time=08.09.2016 18:07:09&Object={
"Код": "0010000",
"Наименование": "Аппарат директора Института",
"РодительКод": "009000"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=10000;<br> Наименование=Аппарат директора Института<BR>
 РодительКод=009000<BR>
 Код=0010000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733976");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_281)</span><div id='gateway/receive_3_podrazd1514306733976' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "0010000",
"Наименование": "Аппарат директора Института",
"РодительКод": "009000"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=0010000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=10000
OLD_PID=0
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=009000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 009000 => 0</b>;<br><b>Сохранен старый РодительКод=0!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=0, name='Аппарат директора Института', is_deleted=0, changed=now() where ID=0010000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733981");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_281)</span><div id='gateway/jinr_setDivParents1514306733981' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=10000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=0
LEV_OLD=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=1</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=10000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Руководство' where id=10000
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306733981");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306733976");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_281");'>Request_HR_LHEP_281 (gateway/receive) DONE! (308ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_282");'> Request_HR_LHEP_282 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_282' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ec8f0323-88d8-11e3-9407-0025907d24fa&GateObjectID=115500&ClientObjectID=999002&Time=27.02.2017 12:38:43&Object={
"Код": "999002",
"Наименование": "Закрытие инфраструктуры ОИЯИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999002;<br> Наименование=Закрытие инфраструктуры ОИЯИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=999002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734088");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_282)</span><div id='gateway/receive_3_podrazd1514306734088' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999002",
"Наименование": "Закрытие инфраструктуры ОИЯИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999002
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Закрытие инфраструктуры ОИЯИ', is_deleted=0, changed=now() where ID=999002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734093");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_282)</span><div id='gateway/jinr_setDivParents1514306734093' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Закрытие инфраструктуры ОИЯИ' where id=999002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734093");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734088");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_282");'>Request_HR_LHEP_282 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_283");'> Request_HR_LHEP_283 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_283' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b296-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=361&ClientObjectID=50000&Time=08.09.2016 18:07:09&Object={
"Код": "050000",
"Наименование": "Отдел контрольно-измерительных приборов",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=50000;<br> Наименование=Отдел контрольно-измерительных приборов<BR>
 РодительКод=<BR>
 Код=050000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734214");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_283)</span><div id='gateway/receive_3_podrazd1514306734214' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "050000",
"Наименование": "Отдел контрольно-измерительных приборов",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=050000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=50000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Отдел контрольно-измерительных приборов', is_deleted=0, changed=now() where ID=050000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734219");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_283)</span><div id='gateway/jinr_setDivParents1514306734219' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=50000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=50000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОКИП' where id=50000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734219");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734214");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_283");'>Request_HR_LHEP_283 (gateway/receive) DONE! (120ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_284");'> Request_HR_LHEP_284 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_284' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=745812c4-9d23-11e2-93f3-0025907d24fa&GateObjectID=352&ClientObjectID=910000&Time=08.09.2016 18:07:09&Object={
"Код": "910000",
"Наименование": "Резерв дирекции",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=910000;<br> Наименование=Резерв дирекции<BR>
 РодительКод=<BR>
 Код=910000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734358");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_284)</span><div id='gateway/receive_3_podrazd1514306734358' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "910000",
"Наименование": "Резерв дирекции",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=910000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=910000
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Резерв дирекции', is_deleted=0, changed=now() where ID=910000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734365");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_284)</span><div id='gateway/jinr_setDivParents1514306734365' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=910000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=910000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Резерв дирекции' where id=910000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734365");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734358");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_284");'>Request_HR_LHEP_284 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_285");'> Request_HR_LHEP_285 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_285' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=f580ef92-8a54-11e2-93f1-0025907d24fa&GateObjectID=351&ClientObjectID=999999&Time=08.09.2016 18:07:09&Object={
"Код": "999999",
"Наименование": "Базовые установки",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999999;<br> Наименование=Базовые установки<BR>
 РодительКод=<BR>
 Код=999999<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734455");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_285)</span><div id='gateway/receive_3_podrazd1514306734455' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999999",
"Наименование": "Базовые установки",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999999
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Базовые установки', is_deleted=0, changed=now() where ID=999999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734461");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_285)</span><div id='gateway/jinr_setDivParents1514306734461' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999999
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки' where id=999999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734461");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734455");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_285");'>Request_HR_LHEP_285 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_286");'> Request_HR_LHEP_286 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_286' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a1-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=362&ClientObjectID=930000&Time=08.09.2016 18:07:09&Object={
"Код": "930000",
"Наименование": "Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=930000;<br> Наименование=Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений<BR>
 РодительКод=<BR>
 Код=930000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734549");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_286)</span><div id='gateway/receive_3_podrazd1514306734549' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "930000",
"Наименование": "Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=930000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=930000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений', is_deleted=0, changed=now() where ID=930000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734555");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_286)</span><div id='gateway/jinr_setDivParents1514306734555' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=930000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=930000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ПрПо' where id=930000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734555");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734549");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_286");'>Request_HR_LHEP_286 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_287");'> Request_HR_LHEP_287 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_287' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b28e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=359&ClientObjectID=980000&Time=08.09.2016 18:07:09&Object={
"Код": "980000",
"Наименование": "Участок технической связи",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=980000;<br> Наименование=Участок технической связи<BR>
 РодительКод=<BR>
 Код=980000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734642");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_287)</span><div id='gateway/receive_3_podrazd1514306734642' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "980000",
"Наименование": "Участок технической связи",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=980000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=980000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Участок технической связи', is_deleted=0, changed=now() where ID=980000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734650");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_287)</span><div id='gateway/jinr_setDivParents1514306734650' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=980000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=980000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УТС' where id=980000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734650");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734642");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_287");'>Request_HR_LHEP_287 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_288");'> Request_HR_LHEP_288 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_288' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=358&ClientObjectID=60000&Time=08.09.2016 18:07:09&Object={
"Код": "060000",
"Наименование": "УГРК",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=60000;<br> Наименование=УГРК<BR>
 РодительКод=<BR>
 Код=060000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734745");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_288)</span><div id='gateway/receive_3_podrazd1514306734745' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "060000",
"Наименование": "УГРК",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=060000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=60000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='УГРК', is_deleted=0, changed=now() where ID=060000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734751");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_288)</span><div id='gateway/jinr_setDivParents1514306734751' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=60000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК' where id=60000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734751");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734745");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_288");'>Request_HR_LHEP_288 (gateway/receive) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_289");'> Request_HR_LHEP_289 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_289' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b23c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=357&ClientObjectID=603&Time=08.09.2016 18:07:09&Object={
"Код": "603",
"Наименование": "сектор РЭСИ",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=603;<br> Наименование=сектор РЭСИ<BR>
 РодительКод=<BR>
 Код=603<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734839");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_289)</span><div id='gateway/receive_3_podrazd1514306734839' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "603",
"Наименование": "сектор РЭСИ",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=603
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=603
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='сектор РЭСИ', is_deleted=0, changed=now() where ID=603
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734845");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_289)</span><div id='gateway/jinr_setDivParents1514306734845' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=603
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=603
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / сектор РЭСИ' where id=603
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734845");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734839");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_289");'>Request_HR_LHEP_289 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_290");'> Request_HR_LHEP_290 [26.12 19:45:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_290' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b236-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=356&ClientObjectID=511&Time=08.09.2016 18:07:09&Object={
"Код": "511",
"Наименование": "НТОУ",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=511;<br> Наименование=НТОУ<BR>
 РодительКод=<BR>
 Код=511<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734934");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_290)</span><div id='gateway/receive_3_podrazd1514306734934' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "511",
"Наименование": "НТОУ",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=511
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=511
OLD_PID=0
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 0</b>;<br><b>Сохранен старый РодительКод=0!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=0, name='НТОУ', is_deleted=0, changed=now() where ID=511
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734940");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_290)</span><div id='gateway/jinr_setDivParents1514306734940' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=511
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=0
LEV_OLD=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=1</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=511
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НТОУ' where id=511
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306734940");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306734934");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_290");'>Request_HR_LHEP_290 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_291");'> Request_HR_LHEP_291 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_291' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=fb62b22a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=355&ClientObjectID=70000&Time=08.09.2016 18:07:09&Object={
"Код": "070000",
"Наименование": "УСИ",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=70000;<br> Наименование=УСИ<BR>
 РодительКод=<BR>
 Код=070000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735029");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_291)</span><div id='gateway/receive_3_podrazd1514306735029' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "070000",
"Наименование": "УСИ",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=070000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=70000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<b>РодительКод: 0 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='УСИ', is_deleted=0, changed=now() where ID=070000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735038");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_291)</span><div id='gateway/jinr_setDivParents1514306735038' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=70000
</xmp> <b> Processed in 5ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ' where id=70000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735038");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (16ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735029");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (25ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_291");'>Request_HR_LHEP_291 (gateway/receive) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_292");'> Request_HR_LHEP_292 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_292' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=11&Command=PutObject&ObjectType=3&SrcObjectID=0de0bc0b-d7c2-11e1-bad5-e0cb4eda5b1f&GateObjectID=363&ClientObjectID=999000&Time=08.09.2016 18:07:09&Object={
"Код": "999000",
"Наименование": "Пансионат \"ДУБНА\"",
"РодительКод": ""
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=11; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999000;<br> Наименование=Пансионат "ДУБНА"<BR>
 РодительКод=<BR>
 Код=999000<BR>
* JSON Keys=Наименование, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735141");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_292)</span><div id='gateway/receive_3_podrazd1514306735141' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999000",
"Наименование": "Пансионат \"ДУБНА\"",
"РодительКод": ""
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Пансионат "ДУБНА"', is_deleted=0, changed=now() where ID=999000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735147");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_292)</span><div id='gateway/jinr_setDivParents1514306735147' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат' where id=999000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735147");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735141");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_292");'>Request_HR_LHEP_292 (gateway/receive) DONE! (127ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_293");'> Request_HR_LHEP_293 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_293' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b282-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115487&ClientObjectID=400000&Time=27.02.2017 12:38:55&Object={
"Код": "400000",
"Наименование": "ЛНФ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=400000;<br> Наименование=ЛНФ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=400000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735277");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_293)</span><div id='gateway/receive_3_podrazd1514306735277' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "400000",
"Наименование": "ЛНФ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=400000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛНФ', is_deleted=0, changed=now() where ID=400000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735283");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_293)</span><div id='gateway/jinr_setDivParents1514306735283' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=400000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ' where id=400000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735283");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735277");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_293");'>Request_HR_LHEP_293 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_294");'> Request_HR_LHEP_294 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_294' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b210-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=1639&ClientObjectID=94000&Time=27.02.2017 12:38:46&Object={
"Код": "094000",
"Наименование": "Отдел радиационной безопасности",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=94000;<br> Наименование=Отдел радиационной безопасности<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=094000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735380");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_294)</span><div id='gateway/receive_3_podrazd1514306735380' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "094000",
"Наименование": "Отдел радиационной безопасности",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=094000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=94000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Отдел радиационной безопасности', is_deleted=0, changed=now() where ID=094000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735386");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_294)</span><div id='gateway/jinr_setDivParents1514306735386' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=94000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=94000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ОРБ' where id=94000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735386");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735380");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_294");'>Request_HR_LHEP_294 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_295");'> Request_HR_LHEP_295 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_295' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b286-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115486&ClientObjectID=960000&Time=27.02.2017 12:38:56&Object={
"Код": "960000",
"Наименование": "Автохозяйство",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=960000;<br> Наименование=Автохозяйство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=960000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735479");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_295)</span><div id='gateway/receive_3_podrazd1514306735479' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "960000",
"Наименование": "Автохозяйство",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=960000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Автохозяйство', is_deleted=0, changed=now() where ID=960000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735486");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_295)</span><div id='gateway/jinr_setDivParents1514306735486' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=960000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ' where id=960000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735486");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735479");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_295");'>Request_HR_LHEP_295 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_296");'> Request_HR_LHEP_296 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_296' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b288-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115485&ClientObjectID=827000&Time=27.02.2017 12:38:57&Object={
"Код": "827000",
"Наименование": "НХП \"Отдел фазотрона\" (ЛЯП)",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827000;<br> Наименование=НХП "Отдел фазотрона" (ЛЯП)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=827000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735577");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_296)</span><div id='gateway/receive_3_podrazd1514306735577' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827000",
"Наименование": "НХП \"Отдел фазотрона\" (ЛЯП)",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='НХП "Отдел фазотрона" (ЛЯП)', is_deleted=0, changed=now() where ID=827000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735583");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_296)</span><div id='gateway/jinr_setDivParents1514306735583' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП' where id=827000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735583");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735577");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_296");'>Request_HR_LHEP_296 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_297");'> Request_HR_LHEP_297 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_297' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b28b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115484&ClientObjectID=38000&Time=27.02.2017 12:38:57&Object={
"Код": "038000",
"Наименование": "Группа советников и консультантов",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=38000;<br> Наименование=Группа советников и консультантов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=038000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735667");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_297)</span><div id='gateway/receive_3_podrazd1514306735667' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "038000",
"Наименование": "Группа советников и консультантов",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=038000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=38000
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Группа советников и консультантов', is_deleted=0, changed=now() where ID=038000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735673");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_297)</span><div id='gateway/jinr_setDivParents1514306735673' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=38000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=38000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Гр. советников и консультантов' where id=38000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735673");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735667");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_297");'>Request_HR_LHEP_297 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_298");'> Request_HR_LHEP_298 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_298' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b28e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115483&ClientObjectID=980000&Time=27.02.2017 12:38:58&Object={
"Код": "980000",
"Наименование": "Участок технической связи",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=980000;<br> Наименование=Участок технической связи<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=980000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735773");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_298)</span><div id='gateway/receive_3_podrazd1514306735773' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "980000",
"Наименование": "Участок технической связи",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=980000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=980000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Участок технической связи', is_deleted=0, changed=now() where ID=980000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735779");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_298)</span><div id='gateway/jinr_setDivParents1514306735779' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=980000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=980000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УТС' where id=980000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735779");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735773");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_298");'>Request_HR_LHEP_298 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_299");'> Request_HR_LHEP_299 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_299' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b294-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115482&ClientObjectID=931000&Time=27.02.2017 12:38:59&Object={
"Код": "931000",
"Наименование": "Участок пожарной автоматики",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=931000;<br> Наименование=Участок пожарной автоматики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=931000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735862");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_299)</span><div id='gateway/receive_3_podrazd1514306735862' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "931000",
"Наименование": "Участок пожарной автоматики",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=931000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=931000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Участок пожарной автоматики', is_deleted=0, changed=now() where ID=931000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735867");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_299)</span><div id='gateway/jinr_setDivParents1514306735867' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=931000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=931000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УПА' where id=931000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735867");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735862");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_299");'>Request_HR_LHEP_299 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_300");'> Request_HR_LHEP_300 [26.12 19:45:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_300' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=969b7bc8-56fd-11e2-9bcf-000e0ce597c9&GateObjectID=1638&ClientObjectID=900000&Time=27.02.2017 12:38:44&Object={
"Код": "900000",
"Наименование": "Управление Института",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=900000;<br> Наименование=Управление Института<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=900000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735952");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_300)</span><div id='gateway/receive_3_podrazd1514306735952' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "900000",
"Наименование": "Управление Института",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=900000
OLD_PID=0
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 0</b>;<br><b>Сохранен старый РодительКод=0!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=0, name='Управление Института', is_deleted=0, changed=now() where ID=900000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735957");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_300)</span><div id='gateway/jinr_setDivParents1514306735957' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=0
LEV_OLD=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=900000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление' where id=900000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306735957");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306735952");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_300");'>Request_HR_LHEP_300 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_301");'> Request_HR_LHEP_301 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_301' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b285-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115488&ClientObjectID=801000&Time=27.02.2017 12:38:55&Object={
"Код": "801000",
"Наименование": "НХП ЦПФ (ЛЯР)",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=801000;<br> Наименование=НХП ЦПФ (ЛЯР)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=801000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736043");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_301)</span><div id='gateway/receive_3_podrazd1514306736043' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "801000",
"Наименование": "НХП ЦПФ (ЛЯР)",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=801000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=801000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='НХП ЦПФ (ЛЯР)', is_deleted=0, changed=now() where ID=801000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736049");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_301)</span><div id='gateway/jinr_setDivParents1514306736049' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=801000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=801000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР)' where id=801000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736049");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736043");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_301");'>Request_HR_LHEP_301 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_302");'> Request_HR_LHEP_302 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_302' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b281-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115489&ClientObjectID=90000&Time=27.02.2017 12:38:54&Object={
"Код": "090000",
"Наименование": "ЛРБ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=90000;<br> Наименование=ЛРБ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=090000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736135");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_302)</span><div id='gateway/receive_3_podrazd1514306736135' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "090000",
"Наименование": "ЛРБ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=090000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=90000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛРБ', is_deleted=0, changed=now() where ID=090000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736142");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_302)</span><div id='gateway/jinr_setDivParents1514306736142' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=90000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=90000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ' where id=90000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736142");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736135");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_302");'>Request_HR_LHEP_302 (gateway/receive) DONE! (208ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_303");'> Request_HR_LHEP_303 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_303' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115490&ClientObjectID=600000&Time=27.02.2017 12:38:53&Object={
"Код": "600000",
"Наименование": "ЛИТ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=600000;<br> Наименование=ЛИТ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=600000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736368");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_303)</span><div id='gateway/receive_3_podrazd1514306736368' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "600000",
"Наименование": "ЛИТ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=600000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛИТ', is_deleted=0, changed=now() where ID=600000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736374");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_303)</span><div id='gateway/jinr_setDivParents1514306736374' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=600000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ' where id=600000
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736374");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736368");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_303");'>Request_HR_LHEP_303 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_304");'> Request_HR_LHEP_304 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_304' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844801-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115497&ClientObjectID=32030&Time=27.02.2017 12:38:45&Object={
"Код": "032030",
"Наименование": "Аспиранты",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=32030;<br> Наименование=Аспиранты<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=032030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736492");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_304)</span><div id='gateway/receive_3_podrazd1514306736492' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032030",
"Наименование": "Аспиранты",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32030
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Аспиранты', is_deleted=0, changed=now() where ID=032030
</xmp> DONE! 1 record(s) affected------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736503");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_304)</span><div id='gateway/jinr_setDivParents1514306736503' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32030
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Аспиранты' where id=32030
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736503");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (18ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736492");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (29ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_304");'>Request_HR_LHEP_304 (gateway/receive) DONE! (94ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_305");'> Request_HR_LHEP_305 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_305' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b22a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115496&ClientObjectID=70000&Time=27.02.2017 12:38:46&Object={
"Код": "070000",
"Наименование": "УСИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=70000;<br> Наименование=УСИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=070000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736598");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_305)</span><div id='gateway/receive_3_podrazd1514306736598' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "070000",
"Наименование": "УСИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=070000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=70000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='УСИ', is_deleted=0, changed=now() where ID=070000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736604");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_305)</span><div id='gateway/jinr_setDivParents1514306736604' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=70000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ' where id=70000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736604");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736598");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_305");'>Request_HR_LHEP_305 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_306");'> Request_HR_LHEP_306 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_306' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b22e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115495&ClientObjectID=540000&Time=27.02.2017 12:38:47&Object={
"Код": "540000",
"Наименование": "Производственно-технологический хозрасчетный отдел ЛЯР",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=540000;<br> Наименование=Производственно-технологический хозрасчетный отдел ЛЯР<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=540000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736727");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_306)</span><div id='gateway/receive_3_podrazd1514306736727' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "540000",
"Наименование": "Производственно-технологический хозрасчетный отдел ЛЯР",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=540000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=540000
OLD_PID=500000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 500000</b>;<br><b>Сохранен старый РодительКод=500000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Производственно-технологический хозрасчетный отдел ЛЯР', is_deleted=0, changed=now() where ID=540000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736734");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_306)</span><div id='gateway/jinr_setDivParents1514306736734' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=540000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=540000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Производственно – технологический хозрасчетный отдел  ЛЯР' where id=540000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736734");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736727");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_306");'>Request_HR_LHEP_306 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_307");'> Request_HR_LHEP_307 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_307' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b23c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115494&ClientObjectID=603&Time=27.02.2017 12:38:48&Object={
"Код": "603",
"Наименование": "сектор РЭСИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=603;<br> Наименование=сектор РЭСИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=603<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736822");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_307)</span><div id='gateway/receive_3_podrazd1514306736822' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "603",
"Наименование": "сектор РЭСИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=603
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=603
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='сектор РЭСИ', is_deleted=0, changed=now() where ID=603
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736829");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_307)</span><div id='gateway/jinr_setDivParents1514306736829' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=603
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=603
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / сектор РЭСИ' where id=603
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736829");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736822");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_307");'>Request_HR_LHEP_307 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_308");'> Request_HR_LHEP_308 [26.12 19:45:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_308' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b236-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115493&ClientObjectID=511&Time=27.02.2017 12:38:47&Object={
"Код": "511",
"Наименование": "НТОУ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=511;<br> Наименование=НТОУ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=511<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736919");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_308)</span><div id='gateway/receive_3_podrazd1514306736919' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "511",
"Наименование": "НТОУ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=511
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=511
OLD_PID=0
is_manual=1</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<b>РодительКод: 0 => 0</b>;<br><b>Сохранен старый РодительКод=0!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=0, name='НТОУ', is_deleted=0, changed=now() where ID=511
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736929");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_308)</span><div id='gateway/jinr_setDivParents1514306736929' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=511
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=0
LEV_OLD=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=511
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НТОУ' where id=511
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306736929");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306736919");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_308");'>Request_HR_LHEP_308 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_309");'> Request_HR_LHEP_309 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_309' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=4ec9b51e-fcf8-11e3-941a-0025907d24fa&GateObjectID=115498&ClientObjectID=999100&Time=27.02.2017 12:38:44&Object={
"Код": "999100",
"Наименование": "ОМУС",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999100;<br> Наименование=ОМУС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=999100<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737006");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_309)</span><div id='gateway/receive_3_podrazd1514306737006' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999100",
"Наименование": "ОМУС",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999100
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999100
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='ОМУС', is_deleted=0, changed=now() where ID=999100
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737011");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_309)</span><div id='gateway/jinr_setDivParents1514306737011' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999100
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999100
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / ОМУС' where id=999100
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737011");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737006");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_309");'>Request_HR_LHEP_309 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_310");'> Request_HR_LHEP_310 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_310' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7444-8242-11e2-93f0-0025907d24fa&GateObjectID=115469&ClientObjectID=402021&Time=27.02.2017 12:39:08&Object={
"Код": "402021",
"Наименование": "Группа №1 РЕМУР",
"РодительКод": "402020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402021;<br> Наименование=Группа №1 РЕМУР<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402020<BR>
 Код=402021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737088");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_310)</span><div id='gateway/receive_3_podrazd1514306737088' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402021",
"Наименование": "Группа №1 РЕМУР",
"РодительКод": "402020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402021
OLD_PID=402020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402020, name='Группа №1 РЕМУР', is_deleted=0, changed=now() where ID=402021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737094");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_310)</span><div id='gateway/jinr_setDivParents1514306737094' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402020
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402021
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №2 нейтронной оптики / Группа №1 РЕМУР' where id=402021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737094");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737088");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_310");'>Request_HR_LHEP_310 (gateway/receive) DONE! (96ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_311");'> Request_HR_LHEP_311 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_311' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7441-8242-11e2-93f0-0025907d24fa&GateObjectID=115470&ClientObjectID=402013&Time=27.02.2017 12:39:07&Object={
"Код": "402013",
"Наименование": "Группа №3 ДН-12",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402013;<br> Наименование=Группа №3 ДН-12<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402010<BR>
 Код=402013<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737195");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_311)</span><div id='gateway/receive_3_podrazd1514306737195' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402013",
"Наименование": "Группа №3 ДН-12",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402013
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402013
OLD_PID=402010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402010, name='Группа №3 ДН-12', is_deleted=0, changed=now() where ID=402013
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737201");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_311)</span><div id='gateway/jinr_setDivParents1514306737201' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402013
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402013
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №1 дифрактометрии / Группа №3 ДН-12' where id=402013
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737201");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737195");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_311");'>Request_HR_LHEP_311 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_312");'> Request_HR_LHEP_312 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_312' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed743e-8242-11e2-93f0-0025907d24fa&GateObjectID=115477&ClientObjectID=402010&Time=27.02.2017 12:39:03&Object={
"Код": "402010",
"Наименование": "Сектор №1 дифрактометрии",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402010;<br> Наименование=Сектор №1 дифрактометрии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402000<BR>
 Код=402010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737308");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_312)</span><div id='gateway/receive_3_podrazd1514306737308' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402010",
"Наименование": "Сектор №1 дифрактометрии",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402010
OLD_PID=402000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402000, name='Сектор №1 дифрактометрии', is_deleted=0, changed=now() where ID=402010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737315");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_312)</span><div id='gateway/jinr_setDivParents1514306737315' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №1 дифрактометрии' where id=402010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737315");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737308");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_312");'>Request_HR_LHEP_312 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_313");'> Request_HR_LHEP_313 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_313' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7442-8242-11e2-93f0-0025907d24fa&GateObjectID=115468&ClientObjectID=402014&Time=27.02.2017 12:39:07&Object={
"Код": "402014",
"Наименование": "Группа №4 СКАТ",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402014;<br> Наименование=Группа №4 СКАТ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402010<BR>
 Код=402014<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737407");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_313)</span><div id='gateway/receive_3_podrazd1514306737407' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402014",
"Наименование": "Группа №4 СКАТ",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402014
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402014
OLD_PID=402010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402010, name='Группа №4 СКАТ', is_deleted=0, changed=now() where ID=402014
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737413");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_313)</span><div id='gateway/jinr_setDivParents1514306737413' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402014
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402014
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №1 дифрактометрии / Группа №4 СКАТ' where id=402014
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737413");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737407");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_313");'>Request_HR_LHEP_313 (gateway/receive) DONE! (360ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_314");'> Request_HR_LHEP_314 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_314' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7446-8242-11e2-93f0-0025907d24fa&GateObjectID=115467&ClientObjectID=402023&Time=27.02.2017 12:39:09&Object={
"Код": "402023",
"Наименование": "Группа №3 ГРЭЙНС",
"РодительКод": "402020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402023;<br> Наименование=Группа №3 ГРЭЙНС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402020<BR>
 Код=402023<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737787");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_314)</span><div id='gateway/receive_3_podrazd1514306737787' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402023",
"Наименование": "Группа №3 ГРЭЙНС",
"РодительКод": "402020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402023
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402023
OLD_PID=402020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402020, name='Группа №3 ГРЭЙНС', is_deleted=0, changed=now() where ID=402023
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737794");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_314)</span><div id='gateway/jinr_setDivParents1514306737794' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402023
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402020
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402023
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №2 нейтронной оптики / Группа №3 ГРЭЙНС' where id=402023
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737794");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737787");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_314");'>Request_HR_LHEP_314 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_315");'> Request_HR_LHEP_315 [26.12 19:45:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_315' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7445-8242-11e2-93f0-0025907d24fa&GateObjectID=115466&ClientObjectID=402022&Time=27.02.2017 12:39:09&Object={
"Код": "402022",
"Наименование": "Группа №2 РЕФЛЕКС",
"РодительКод": "402020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402022;<br> Наименование=Группа №2 РЕФЛЕКС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402020<BR>
 Код=402022<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737882");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_315)</span><div id='gateway/receive_3_podrazd1514306737882' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402022",
"Наименование": "Группа №2 РЕФЛЕКС",
"РодительКод": "402020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402022
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402022
OLD_PID=402020
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402020, name='Группа №2 РЕФЛЕКС', is_deleted=0, changed=now() where ID=402022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737889");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_315)</span><div id='gateway/jinr_setDivParents1514306737889' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402022
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402020
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402022
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №2 нейтронной оптики / Группа №2 РЕФЛЕКС' where id=402022
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306737889");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306737882");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_315");'>Request_HR_LHEP_315 (gateway/receive) DONE! (127ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_316");'> Request_HR_LHEP_316 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_316' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed744a-8242-11e2-93f0-0025907d24fa&GateObjectID=115465&ClientObjectID=406010&Time=27.02.2017 12:39:10&Object={
"Код": "406010",
"Наименование": "Группа №1 детекторов",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406010;<br> Наименование=Группа №1 детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=406000<BR>
 Код=406010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738031");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_316)</span><div id='gateway/receive_3_podrazd1514306738031' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406010",
"Наименование": "Группа №1 детекторов",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406010
OLD_PID=406000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=406000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=406000, name='Группа №1 детекторов', is_deleted=0, changed=now() where ID=406010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738037");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_316)</span><div id='gateway/jinr_setDivParents1514306738037' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=406000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406010
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2 / Группа №1 детекторов' where id=406010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738037");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738031");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_316");'>Request_HR_LHEP_316 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_317");'> Request_HR_LHEP_317 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_317' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed744b-8242-11e2-93f0-0025907d24fa&GateObjectID=115463&ClientObjectID=406020&Time=27.02.2017 12:39:11&Object={
"Код": "406020",
"Наименование": "Группа №2 электроники",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406020;<br> Наименование=Группа №2 электроники<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=406000<BR>
 Код=406020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738121");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_317)</span><div id='gateway/receive_3_podrazd1514306738121' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406020",
"Наименование": "Группа №2 электроники",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406020
OLD_PID=406000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=406000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=406000, name='Группа №2 электроники', is_deleted=0, changed=now() where ID=406020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738126");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_317)</span><div id='gateway/jinr_setDivParents1514306738126' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=406000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2 / Группа №2 электроники' where id=406020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738126");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738121");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_317");'>Request_HR_LHEP_317 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_318");'> Request_HR_LHEP_318 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_318' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed743f-8242-11e2-93f0-0025907d24fa&GateObjectID=115471&ClientObjectID=402011&Time=27.02.2017 12:39:06&Object={
"Код": "402011",
"Наименование": "Группа №1 ФДВР/ФСД",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402011;<br> Наименование=Группа №1 ФДВР/ФСД<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402010<BR>
 Код=402011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738221");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_318)</span><div id='gateway/receive_3_podrazd1514306738221' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402011",
"Наименование": "Группа №1 ФДВР/ФСД",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402011
OLD_PID=402010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402010, name='Группа №1 ФДВР/ФСД', is_deleted=0, changed=now() where ID=402011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738227");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_318)</span><div id='gateway/jinr_setDivParents1514306738227' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №1 дифрактометрии / Группа №1 ФДВР/ФСД' where id=402011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738227");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738221");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_318");'>Request_HR_LHEP_318 (gateway/receive) DONE! (101ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_319");'> Request_HR_LHEP_319 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_319' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a1-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115481&ClientObjectID=930000&Time=27.02.2017 12:39:00&Object={
"Код": "930000",
"Наименование": "Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=930000;<br> Наименование=Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=930000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738332");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_319)</span><div id='gateway/receive_3_podrazd1514306738332' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "930000",
"Наименование": "Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=930000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=930000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Проектно-производственный отдел по ремонту, реконструкции зданий и сооружений', is_deleted=0, changed=now() where ID=930000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738338");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_319)</span><div id='gateway/jinr_setDivParents1514306738338' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=930000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=930000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ПрПо' where id=930000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738338");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738332");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_319");'>Request_HR_LHEP_319 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_320");'> Request_HR_LHEP_320 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_320' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115491&ClientObjectID=300000&Time=27.02.2017 12:38:51&Object={
"Код": "300000",
"Наименование": "ЛТФ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=300000;<br> Наименование=ЛТФ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=300000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738424");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_320)</span><div id='gateway/receive_3_podrazd1514306738424' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "300000",
"Наименование": "ЛТФ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=300000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛТФ', is_deleted=0, changed=now() where ID=300000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738430");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_320)</span><div id='gateway/jinr_setDivParents1514306738430' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=300000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ' where id=300000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738430");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738424");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_320");'>Request_HR_LHEP_320 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_321");'> Request_HR_LHEP_321 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_321' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2b0-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115480&ClientObjectID=9000&Time=27.02.2017 12:39:01&Object={
"Код": "009000",
"Наименование": "Дирекция Института",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=9000;<br> Наименование=Дирекция Института<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=009000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738517");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_321)</span><div id='gateway/receive_3_podrazd1514306738517' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "009000",
"Наименование": "Дирекция Института",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=009000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=9000
OLD_PID=0
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 0</b>;<br><b>Сохранен старый РодительКод=0!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=0, name='Дирекция Института', is_deleted=0, changed=now() where ID=009000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738523");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_321)</span><div id='gateway/jinr_setDivParents1514306738523' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=9000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=0
LEV_OLD=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=9000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Дирекция' where id=9000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738523");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738517");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_321");'>Request_HR_LHEP_321 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_322");'> Request_HR_LHEP_322 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_322' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2ac-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115479&ClientObjectID=10000&Time=27.02.2017 12:39:00&Object={
"Код": "010000",
"Наименование": "Руководство Института",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=10000;<br> Наименование=Руководство Института<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=010000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738620");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_322)</span><div id='gateway/receive_3_podrazd1514306738620' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "010000",
"Наименование": "Руководство Института",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=010000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=10000
OLD_PID=0
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 0</b>;<br><b>Сохранен старый РодительКод=0!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=0, name='Руководство Института', is_deleted=0, changed=now() where ID=010000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738625");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_322)</span><div id='gateway/jinr_setDivParents1514306738625' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=10000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=0
LEV_OLD=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=10000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Руководство' where id=10000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738625");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738620");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_322");'>Request_HR_LHEP_322 (gateway/receive) DONE! (70ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_323");'> Request_HR_LHEP_323 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_323' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7449-8242-11e2-93f0-0025907d24fa&GateObjectID=115478&ClientObjectID=406000&Time=27.02.2017 12:39:02&Object={
"Код": "406000",
"Наименование": "Научно-экспериментальный отдел комплекса спектрометров ИБР-2",
"РодительКод": "404000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406000;<br> Наименование=Научно-экспериментальный отдел комплекса спектрометров ИБР-2<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=404000<BR>
 Код=406000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738712");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_323)</span><div id='gateway/receive_3_podrazd1514306738712' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406000",
"Наименование": "Научно-экспериментальный отдел комплекса спектрометров ИБР-2",
"РодительКод": "404000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406000
OLD_PID=404000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=404000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=404000, name='Научно-экспериментальный отдел комплекса спектрометров ИБР-2', is_deleted=0, changed=now() where ID=406000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738718");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_323)</span><div id='gateway/jinr_setDivParents1514306738718' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=404000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=404000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2' where id=406000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738718");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738712");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_323");'>Request_HR_LHEP_323 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_324");'> Request_HR_LHEP_324 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_324' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed743d-8242-11e2-93f0-0025907d24fa&GateObjectID=115476&ClientObjectID=402000&Time=27.02.2017 12:39:03&Object={
"Код": "402000",
"Наименование": "Научно-экспериментальный отдел нейтронных исследований конденсированных сред",
"РодительКод": "404000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402000;<br> Наименование=Научно-экспериментальный отдел нейтронных исследований конденсированных сред<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=404000<BR>
 Код=402000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738798");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_324)</span><div id='gateway/receive_3_podrazd1514306738798' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402000",
"Наименование": "Научно-экспериментальный отдел нейтронных исследований конденсированных сред",
"РодительКод": "404000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402000
OLD_PID=404000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=404000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=404000, name='Научно-экспериментальный отдел нейтронных исследований конденсированных сред', is_deleted=0, changed=now() where ID=402000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738808");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_324)</span><div id='gateway/jinr_setDivParents1514306738808' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=404000
LEV_OLD=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=404000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред' where id=402000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738808");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738798");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_324");'>Request_HR_LHEP_324 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_325");'> Request_HR_LHEP_325 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_325' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7443-8242-11e2-93f0-0025907d24fa&GateObjectID=115475&ClientObjectID=402020&Time=27.02.2017 12:39:04&Object={
"Код": "402020",
"Наименование": "Сектор №2 нейтронной оптики",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402020;<br> Наименование=Сектор №2 нейтронной оптики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402000<BR>
 Код=402020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738892");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_325)</span><div id='gateway/receive_3_podrazd1514306738892' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402020",
"Наименование": "Сектор №2 нейтронной оптики",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402020
OLD_PID=402000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402000, name='Сектор №2 нейтронной оптики', is_deleted=0, changed=now() where ID=402020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738899");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_325)</span><div id='gateway/jinr_setDivParents1514306738899' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №2 нейтронной оптики' where id=402020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738899");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738892");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_325");'>Request_HR_LHEP_325 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_326");'> Request_HR_LHEP_326 [26.12 19:45:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_326' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7447-8242-11e2-93f0-0025907d24fa&GateObjectID=115473&ClientObjectID=402030&Time=27.02.2017 12:39:04&Object={
"Код": "402030",
"Наименование": "Группа ЮМО",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402030;<br> Наименование=Группа ЮМО<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402000<BR>
 Код=402030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738981");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_326)</span><div id='gateway/receive_3_podrazd1514306738981' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402030",
"Наименование": "Группа ЮМО",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402030
OLD_PID=402000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402000, name='Группа ЮМО', is_deleted=0, changed=now() where ID=402030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738987");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_326)</span><div id='gateway/jinr_setDivParents1514306738987' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Группа ЮМО' where id=402030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306738987");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306738981");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_326");'>Request_HR_LHEP_326 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_327");'> Request_HR_LHEP_327 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_327' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef9e-8a54-11e2-93f1-0025907d24fa&GateObjectID=115454&ClientObjectID=431999&Time=27.02.2017 12:39:16&Object={
"Код": "431999",
"Наименование": "Установка ИБР-2 (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=431999;<br> Наименование=Установка ИБР-2 (ЛНФ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=431999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739120");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_327)</span><div id='gateway/receive_3_podrazd1514306739120' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "431999",
"Наименование": "Установка ИБР-2 (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=431999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=431999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Установка ИБР-2 (ЛНФ)', is_deleted=0, changed=now() where ID=431999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739125");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_327)</span><div id='gateway/jinr_setDivParents1514306739125' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=431999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=431999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Установка ИБР-2 (ЛНФ)' where id=431999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739125");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739120");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_327");'>Request_HR_LHEP_327 (gateway/receive) DONE! (162ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_328");'> Request_HR_LHEP_328 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_328' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580efa6-8a54-11e2-93f1-0025907d24fa&GateObjectID=1496&ClientObjectID=513999&Time=27.02.2017 12:39:19&Object={
"Код": "513999",
"Наименование": "Установка У-400 (ЛЯР)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=513999;<br> Наименование=Установка У-400 (ЛЯР)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=513999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739303");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_328)</span><div id='gateway/receive_3_podrazd1514306739303' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "513999",
"Наименование": "Установка У-400 (ЛЯР)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=513999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=513999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Установка У-400 (ЛЯР)', is_deleted=0, changed=now() where ID=513999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739309");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_328)</span><div id='gateway/jinr_setDivParents1514306739309' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=513999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=513999
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Установка У-400 (ЛЯР)' where id=513999
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739309");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739303");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_328");'>Request_HR_LHEP_328 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_329");'> Request_HR_LHEP_329 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_329' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a8cca793-ac0f-11e2-93f5-0025907d24fa&GateObjectID=115447&ClientObjectID=28120&Time=27.02.2017 12:39:22&Object={
"Код": "028120",
"Наименование": "Группа хозяйственного обслуживания общеинститутских служб",
"РодительКод": "028100",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=28120;<br> Наименование=Группа хозяйственного обслуживания общеинститутских служб<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=028100<BR>
 Код=028120<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739399");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_329)</span><div id='gateway/receive_3_podrazd1514306739399' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "028120",
"Наименование": "Группа хозяйственного обслуживания общеинститутских служб",
"РодительКод": "028100",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=028120
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=28120
OLD_PID=28100
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=028100 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=028100, name='Группа хозяйственного обслуживания общеинститутских служб', is_deleted=0, changed=now() where ID=028120
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739407");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_329)</span><div id='gateway/jinr_setDivParents1514306739407' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=28120
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=28100
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=28100
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=28120
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Административно-хозяйственный отдел / Группа хозяйственного обслуживания общеинститутских служб' where id=28120
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739407");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739399");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_329");'>Request_HR_LHEP_329 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_330");'> Request_HR_LHEP_330 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_330' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=89e6cf39-ac0f-11e2-93f5-0025907d24fa&GateObjectID=115446&ClientObjectID=28110&Time=27.02.2017 12:39:22&Object={
"Код": "028110",
"Наименование": "Группа технической эксплуатации объектов недвижимости Института",
"РодительКод": "028100",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=28110;<br> Наименование=Группа технической эксплуатации объектов недвижимости Института<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=028100<BR>
 Код=028110<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739492");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_330)</span><div id='gateway/receive_3_podrazd1514306739492' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "028110",
"Наименование": "Группа технической эксплуатации объектов недвижимости Института",
"РодительКод": "028100",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=028110
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=28110
OLD_PID=28100
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=028100 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=028100, name='Группа технической эксплуатации объектов недвижимости Института', is_deleted=0, changed=now() where ID=028110
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739501");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_330)</span><div id='gateway/jinr_setDivParents1514306739501' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=28110
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=28100
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=28100
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=28110
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Административно-хозяйственный отдел / Группа технической эксплуатации объектов недвижимости Института' where id=28110
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739501");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739492");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_330");'>Request_HR_LHEP_330 (gateway/receive) DONE! (242ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_331");'> Request_HR_LHEP_331 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_331' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c1ad9fba-ac0f-11e2-93f5-0025907d24fa&GateObjectID=115445&ClientObjectID=28130&Time=27.02.2017 12:39:23&Object={
"Код": "028130",
"Наименование": "Туристский приют \"Липня\"",
"РодительКод": "028100",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=28130;<br> Наименование=Туристский приют "Липня"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=028100<BR>
 Код=028130<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739753");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_331)</span><div id='gateway/receive_3_podrazd1514306739753' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "028130",
"Наименование": "Туристский приют \"Липня\"",
"РодительКод": "028100",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=028130
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=28130
OLD_PID=28100
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=028100 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=028100, name='Туристский приют "Липня"', is_deleted=0, changed=now() where ID=028130
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739761");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_331)</span><div id='gateway/jinr_setDivParents1514306739761' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=28130
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=28100
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=28100
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=28130
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Административно-хозяйственный отдел / Туристский приют "Липня"' where id=28130
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739761");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739753");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_331");'>Request_HR_LHEP_331 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_332");'> Request_HR_LHEP_332 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_332' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=cc607745-b937-11e5-9450-0025907d24fa&GateObjectID=115444&ClientObjectID=45000&Time=27.02.2017 12:39:24&Object={
"Код": "045000",
"Наименование": "Группа ускорительных технологий",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=45000;<br> Наименование=Группа ускорительных технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999998<BR>
 Код=045000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739844");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_332)</span><div id='gateway/receive_3_podrazd1514306739844' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "045000",
"Наименование": "Группа ускорительных технологий",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=045000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=45000
OLD_PID=999998
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999998 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999998, name='Группа ускорительных технологий', is_deleted=0, changed=now() where ID=045000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739851");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_332)</span><div id='gateway/jinr_setDivParents1514306739851' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=45000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999998
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=45000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Группа ускорительных технологий' where id=45000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739851");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739844");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_332");'>Request_HR_LHEP_332 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_333");'> Request_HR_LHEP_333 [26.12 19:45:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_333' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7440-8242-11e2-93f0-0025907d24fa&GateObjectID=115472&ClientObjectID=402012&Time=27.02.2017 12:39:06&Object={
"Код": "402012",
"Наименование": "Группа №2 ДН-2",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402012;<br> Наименование=Группа №2 ДН-2<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402010<BR>
 Код=402012<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739941");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_333)</span><div id='gateway/receive_3_podrazd1514306739941' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402012",
"Наименование": "Группа №2 ДН-2",
"РодительКод": "402010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402012
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402012
OLD_PID=402010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402010, name='Группа №2 ДН-2', is_deleted=0, changed=now() where ID=402012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739947");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_333)</span><div id='gateway/jinr_setDivParents1514306739947' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402012
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402010
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402012
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Сектор №1 дифрактометрии / Группа №2 ДН-2' where id=402012
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306739947");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306739941");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_333");'>Request_HR_LHEP_333 (gateway/receive) DONE! (107ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_334");'> Request_HR_LHEP_334 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_334' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0de0bc0c-d7c2-11e1-bad5-e0cb4eda5b1f&GateObjectID=115441&ClientObjectID=34000&Time=27.02.2017 12:39:25&Object={
"Код": "034000",
"Наименование": "Группа производственного контроля и технического надзора",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=34000;<br> Наименование=Группа производственного контроля и технического надзора<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999998<BR>
 Код=034000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740058");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_334)</span><div id='gateway/receive_3_podrazd1514306740058' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "034000",
"Наименование": "Группа производственного контроля и технического надзора",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=034000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=34000
OLD_PID=999998
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999998 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999998, name='Группа производственного контроля и технического надзора', is_deleted=0, changed=now() where ID=034000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740064");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_334)</span><div id='gateway/jinr_setDivParents1514306740064' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=34000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999998
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=34000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Группа производственного контроля и технического надзора' where id=34000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740064");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740058");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_334");'>Request_HR_LHEP_334 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_335");'> Request_HR_LHEP_335 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_335' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef9c-8a54-11e2-93f1-0025907d24fa&GateObjectID=115456&ClientObjectID=209999&Time=27.02.2017 12:39:16&Object={
"Код": "209999",
"Наименование": "Опытно-экспериментальное производство (ЛЯП)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=209999;<br> Наименование=Опытно-экспериментальное производство (ЛЯП)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=209999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740151");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_335)</span><div id='gateway/receive_3_podrazd1514306740151' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "209999",
"Наименование": "Опытно-экспериментальное производство (ЛЯП)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=209999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=209999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Опытно-экспериментальное производство (ЛЯП)', is_deleted=0, changed=now() where ID=209999
</xmp> DONE! 1 record(s) affected------ SQL done, 203ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740360");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_335)</span><div id='gateway/jinr_setDivParents1514306740360' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=209999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=209999
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Опытно-экспериментальное производство (ЛЯП)' where id=209999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740360");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740151");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (223ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_335");'>Request_HR_LHEP_335 (gateway/receive) DONE! (281ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_336");'> Request_HR_LHEP_336 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_336' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef98-8a54-11e2-93f1-0025907d24fa&GateObjectID=115457&ClientObjectID=144999&Time=27.02.2017 12:39:15&Object={
"Код": "144999",
"Наименование": "Опытно-экспериментальное производство (ЛФВЭ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=144999;<br> Наименование=Опытно-экспериментальное производство (ЛФВЭ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=144999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740463");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_336)</span><div id='gateway/receive_3_podrazd1514306740463' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "144999",
"Наименование": "Опытно-экспериментальное производство (ЛФВЭ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=144999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=144999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Опытно-экспериментальное производство (ЛФВЭ)', is_deleted=0, changed=now() where ID=144999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740470");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_336)</span><div id='gateway/jinr_setDivParents1514306740470' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=144999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=144999
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Опытно-экспериментальное производство (ЛФВЭ)' where id=144999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740470");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740463");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_336");'>Request_HR_LHEP_336 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_337");'> Request_HR_LHEP_337 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_337' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed7448-8242-11e2-93f0-0025907d24fa&GateObjectID=115474&ClientObjectID=402040&Time=27.02.2017 12:39:05&Object={
"Код": "402040",
"Наименование": "Группа НЕРА",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=402040;<br> Наименование=Группа НЕРА<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=402000<BR>
 Код=402040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740551");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_337)</span><div id='gateway/receive_3_podrazd1514306740551' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "402040",
"Наименование": "Группа НЕРА",
"РодительКод": "402000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=402040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=402040
OLD_PID=402000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=402000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=402000, name='Группа НЕРА', is_deleted=0, changed=now() where ID=402040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740557");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_337)</span><div id='gateway/jinr_setDivParents1514306740557' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=402040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=402000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=402000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=402040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел нейтронных исследований конденсированных сред / Группа НЕРА' where id=402040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740557");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740551");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_337");'>Request_HR_LHEP_337 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_338");'> Request_HR_LHEP_338 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_338' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed744c-8242-11e2-93f0-0025907d24fa&GateObjectID=115464&ClientObjectID=406030&Time=27.02.2017 12:39:11&Object={
"Код": "406030",
"Наименование": "Группа №3 информационных технологий",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406030;<br> Наименование=Группа №3 информационных технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=406000<BR>
 Код=406030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740641");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_338)</span><div id='gateway/receive_3_podrazd1514306740641' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406030",
"Наименование": "Группа №3 информационных технологий",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406030
OLD_PID=406000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=406000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=406000, name='Группа №3 информационных технологий', is_deleted=0, changed=now() where ID=406030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740647");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_338)</span><div id='gateway/jinr_setDivParents1514306740647' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=406000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2 / Группа №3 информационных технологий' where id=406030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740647");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740641");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_338");'>Request_HR_LHEP_338 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_339");'> Request_HR_LHEP_339 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_339' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed744e-8242-11e2-93f0-0025907d24fa&GateObjectID=115462&ClientObjectID=406050&Time=27.02.2017 12:39:12&Object={
"Код": "406050",
"Наименование": "Группа №5 криогенных исследований",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406050;<br> Наименование=Группа №5 криогенных исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=406000<BR>
 Код=406050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740746");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_339)</span><div id='gateway/receive_3_podrazd1514306740746' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406050",
"Наименование": "Группа №5 криогенных исследований",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406050
OLD_PID=406000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=406000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=406000, name='Группа №5 криогенных исследований', is_deleted=0, changed=now() where ID=406050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740751");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_339)</span><div id='gateway/jinr_setDivParents1514306740751' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=406000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2 / Группа №5 криогенных исследований' where id=406050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740751");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740746");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_339");'>Request_HR_LHEP_339 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_340");'> Request_HR_LHEP_340 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_340' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed744f-8242-11e2-93f0-0025907d24fa&GateObjectID=115461&ClientObjectID=406060&Time=27.02.2017 12:39:13&Object={
"Код": "406060",
"Наименование": "Группа №6 холодных замедлителей",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406060;<br> Наименование=Группа №6 холодных замедлителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=406000<BR>
 Код=406060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740846");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_340)</span><div id='gateway/receive_3_podrazd1514306740846' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406060",
"Наименование": "Группа №6 холодных замедлителей",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406060
OLD_PID=406000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=406000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=406000, name='Группа №6 холодных замедлителей', is_deleted=0, changed=now() where ID=406060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740853");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_340)</span><div id='gateway/jinr_setDivParents1514306740853' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=406000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406060
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2 / Группа №6 холодных замедлителей' where id=406060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740853");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740846");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_340");'>Request_HR_LHEP_340 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_341");'> Request_HR_LHEP_341 [26.12 19:45:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_341' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef96-8a54-11e2-93f1-0025907d24fa&GateObjectID=115460&ClientObjectID=143999&Time=27.02.2017 12:39:14&Object={
"Код": "143999",
"Наименование": "Конструкторское бюро (ЛФВЭ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=143999;<br> Наименование=Конструкторское бюро (ЛФВЭ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=143999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740945");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_341)</span><div id='gateway/receive_3_podrazd1514306740945' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "143999",
"Наименование": "Конструкторское бюро (ЛФВЭ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=143999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=143999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Конструкторское бюро (ЛФВЭ)', is_deleted=0, changed=now() where ID=143999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740951");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_341)</span><div id='gateway/jinr_setDivParents1514306740951' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=143999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=143999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Конструкторское бюро (ЛФВЭ)' where id=143999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306740951");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306740945");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_341");'>Request_HR_LHEP_341 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_342");'> Request_HR_LHEP_342 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_342' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef94-8a54-11e2-93f1-0025907d24fa&GateObjectID=115459&ClientObjectID=111999&Time=27.02.2017 12:39:13&Object={
"Код": "111999",
"Наименование": "Установка У-111 (ЛФВЭ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=111999;<br> Наименование=Установка У-111 (ЛФВЭ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=111999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741045");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_342)</span><div id='gateway/receive_3_podrazd1514306741045' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "111999",
"Наименование": "Установка У-111 (ЛФВЭ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=111999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=111999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Установка У-111 (ЛФВЭ)', is_deleted=0, changed=now() where ID=111999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741054");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_342)</span><div id='gateway/jinr_setDivParents1514306741054' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=111999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=111999
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Установка У-111 (ЛФВЭ)' where id=111999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741054");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741045");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_342");'>Request_HR_LHEP_342 (gateway/receive) DONE! (120ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_343");'> Request_HR_LHEP_343 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_343' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580ef9a-8a54-11e2-93f1-0025907d24fa&GateObjectID=115458&ClientObjectID=208999&Time=27.02.2017 12:39:15&Object={
"Код": "208999",
"Наименование": "Конструкторское бюро (ЛЯП)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=208999;<br> Наименование=Конструкторское бюро (ЛЯП)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=208999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741189");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_343)</span><div id='gateway/receive_3_podrazd1514306741189' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "208999",
"Наименование": "Конструкторское бюро (ЛЯП)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=208999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=208999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Конструкторское бюро (ЛЯП)', is_deleted=0, changed=now() where ID=208999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741197");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_343)</span><div id='gateway/jinr_setDivParents1514306741197' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=208999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=208999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Конструкторское бюро (ЛЯП)' where id=208999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741197");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741189");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_343");'>Request_HR_LHEP_343 (gateway/receive) DONE! (137ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_344");'> Request_HR_LHEP_344 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_344' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=142e2f50-4896-11e4-9424-0025907d24fa&GateObjectID=115426&ClientObjectID=36002&Time=27.02.2017 12:39:35&Object={
"Код": "036002",
"Наименование": "Группа №1 маркетинга и оформления договоров",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=36002;<br> Наименование=Группа №1 маркетинга и оформления договоров<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=036000<BR>
 Код=036002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741344");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_344)</span><div id='gateway/receive_3_podrazd1514306741344' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "036002",
"Наименование": "Группа №1 маркетинга и оформления договоров",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=036002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=36002
OLD_PID=36000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=036000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=036000, name='Группа №1 маркетинга и оформления договоров', is_deleted=0, changed=now() where ID=036002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741349");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_344)</span><div id='gateway/jinr_setDivParents1514306741349' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=36002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=36000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=36000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=36002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СМТС / Группа №1 маркетинга и оформления договоров' where id=36002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741349");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741344");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_344");'>Request_HR_LHEP_344 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_345");'> Request_HR_LHEP_345 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_345' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=47a0da2a-6962-11e3-9403-0025907d24fa&GateObjectID=115435&ClientObjectID=129020&Time=27.02.2017 12:39:29&Object={
"Код": "129020",
"Наименование": "Сектор №2 сверхпроводящих обмоток",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129020;<br> Наименование=Сектор №2 сверхпроводящих обмоток<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=129000<BR>
 Код=129020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741450");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_345)</span><div id='gateway/receive_3_podrazd1514306741450' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129020",
"Наименование": "Сектор №2 сверхпроводящих обмоток",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129020
OLD_PID=129000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=129000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=129000, name='Сектор №2 сверхпроводящих обмоток', is_deleted=0, changed=now() where ID=129020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741460");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_345)</span><div id='gateway/jinr_setDivParents1514306741460' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=129000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий / Сектор №2 сверхпроводящих обмоток' where id=129020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741460");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741450");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_345");'>Request_HR_LHEP_345 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_346");'> Request_HR_LHEP_346 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_346' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=73fa481b-6962-11e3-9403-0025907d24fa&GateObjectID=115434&ClientObjectID=129040&Time=27.02.2017 12:39:30&Object={
"Код": "129040",
"Наименование": "Группа №2 магнитных измерений",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129040;<br> Наименование=Группа №2 магнитных измерений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=129000<BR>
 Код=129040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741547");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_346)</span><div id='gateway/receive_3_podrazd1514306741547' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129040",
"Наименование": "Группа №2 магнитных измерений",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129040
OLD_PID=129000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=129000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=129000, name='Группа №2 магнитных измерений', is_deleted=0, changed=now() where ID=129040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741553");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_346)</span><div id='gateway/jinr_setDivParents1514306741553' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=129000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий / Группа №2 магнитных измерений' where id=129040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741553");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741547");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_346");'>Request_HR_LHEP_346 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_347");'> Request_HR_LHEP_347 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_347' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6405b266-6962-11e3-9403-0025907d24fa&GateObjectID=115433&ClientObjectID=129030&Time=27.02.2017 12:39:29&Object={
"Код": "129030",
"Наименование": "Группа №1 вакуумного и криогенного обеспечения",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129030;<br> Наименование=Группа №1 вакуумного и криогенного обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=129000<BR>
 Код=129030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741635");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_347)</span><div id='gateway/receive_3_podrazd1514306741635' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129030",
"Наименование": "Группа №1 вакуумного и криогенного обеспечения",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129030
OLD_PID=129000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=129000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=129000, name='Группа №1 вакуумного и криогенного обеспечения', is_deleted=0, changed=now() where ID=129030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741641");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_347)</span><div id='gateway/jinr_setDivParents1514306741641' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=129000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий / Группа №1 вакуумного и криогенного обеспечения' where id=129030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741641");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741635");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_347");'>Request_HR_LHEP_347 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_348");'> Request_HR_LHEP_348 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_348' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=20dafbba-9ce1-11e5-944b-0025907d24fa&GateObjectID=115436&ClientObjectID=129050&Time=27.02.2017 12:39:28&Object={
"Код": "129050",
"Наименование": "Группа №3 криогенных установок и технологий",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129050;<br> Наименование=Группа №3 криогенных установок и технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=129000<BR>
 Код=129050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741776");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_348)</span><div id='gateway/receive_3_podrazd1514306741776' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129050",
"Наименование": "Группа №3 криогенных установок и технологий",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129050
OLD_PID=129000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=129000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=129000, name='Группа №3 криогенных установок и технологий', is_deleted=0, changed=now() where ID=129050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741782");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_348)</span><div id='gateway/jinr_setDivParents1514306741782' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=129000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129050
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий / Группа №3 криогенных установок и технологий' where id=129050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741782");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741776");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_348");'>Request_HR_LHEP_348 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_349");'> Request_HR_LHEP_349 [26.12 19:45:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_349' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2aca3e54-4896-11e4-9424-0025907d24fa&GateObjectID=115424&ClientObjectID=36003&Time=27.02.2017 12:39:36&Object={
"Код": "036003",
"Наименование": "Группа №2 таможенного оформления",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=36003;<br> Наименование=Группа №2 таможенного оформления<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=036000<BR>
 Код=036003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741912");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_349)</span><div id='gateway/receive_3_podrazd1514306741912' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "036003",
"Наименование": "Группа №2 таможенного оформления",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=036003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=36003
OLD_PID=36000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=036000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=036000, name='Группа №2 таможенного оформления', is_deleted=0, changed=now() where ID=036003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741918");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_349)</span><div id='gateway/jinr_setDivParents1514306741918' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=36003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=36000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=36000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=36003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СМТС / Группа №2 таможенного оформления' where id=36003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306741918");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306741912");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_349");'>Request_HR_LHEP_349 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_350");'> Request_HR_LHEP_350 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_350' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=4e28a210-bfa8-11e3-940d-0025907d24fa&GateObjectID=115427&ClientObjectID=602043&Time=27.02.2017 12:39:34&Object={
"Код": "602043",
"Наименование": "Группа №3 технического обеспечения и администрирования серверов административных информационных систем",
"РодительКод": "602040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602043;<br> Наименование=Группа №3 технического обеспечения и администрирования серверов административных информационных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602040<BR>
 Код=602043<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742002");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_350)</span><div id='gateway/receive_3_podrazd1514306742002' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602043",
"Наименование": "Группа №3 технического обеспечения и администрирования серверов административных информационных систем",
"РодительКод": "602040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602043
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602043
OLD_PID=602040
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602040, name='Группа №3 технического обеспечения и администрирования серверов административных информационных систем', is_deleted=0, changed=now() where ID=602043
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742008");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_350)</span><div id='gateway/jinr_setDivParents1514306742008' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602043
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602040
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602043
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №4 развития и сопровождения административных информационных систем / Группа №3 технического обеспечения и администрирования серверов административных информационных систем' where id=602043
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742008");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742002");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_350");'>Request_HR_LHEP_350 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_351");'> Request_HR_LHEP_351 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_351' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ec67b8ff-4895-11e4-9424-0025907d24fa&GateObjectID=115425&ClientObjectID=36001&Time=27.02.2017 12:39:35&Object={
"Код": "036001",
"Наименование": "Руководство",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=36001;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=036000<BR>
 Код=036001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742098");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_351)</span><div id='gateway/receive_3_podrazd1514306742098' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "036001",
"Наименование": "Руководство",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=036001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=36001
OLD_PID=36000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=036000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=036000, name='Руководство', is_deleted=0, changed=now() where ID=036001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742103");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_351)</span><div id='gateway/jinr_setDivParents1514306742103' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=36001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=36000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=36000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=36001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СМТС / Руководство' where id=36001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742103");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742098");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_351");'>Request_HR_LHEP_351 (gateway/receive) DONE! (106ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_352");'> Request_HR_LHEP_352 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_352' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=d673b330-6961-11e3-9403-0025907d24fa&GateObjectID=115437&ClientObjectID=129010&Time=27.02.2017 12:39:28&Object={
"Код": "129010",
"Наименование": "Сектор №1 автоматизации и систем питания",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129010;<br> Наименование=Сектор №1 автоматизации и систем питания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=129000<BR>
 Код=129010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742226");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_352)</span><div id='gateway/receive_3_podrazd1514306742226' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129010",
"Наименование": "Сектор №1 автоматизации и систем питания",
"РодительКод": "129000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129010
OLD_PID=129000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=129000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=129000, name='Сектор №1 автоматизации и систем питания', is_deleted=0, changed=now() where ID=129010
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742235");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_352)</span><div id='gateway/jinr_setDivParents1514306742235' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=129000
LEV_OLD=5</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129010
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий / Сектор №1 автоматизации и систем питания' where id=129010
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742235");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (18ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742226");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (27ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_352");'>Request_HR_LHEP_352 (gateway/receive) DONE! (94ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_353");'> Request_HR_LHEP_353 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_353' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2aa-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115442&ClientObjectID=13000&Time=27.02.2017 12:39:25&Object={
"Код": "013000",
"Наименование": "Отдел радиоактивных и делящихся веществ",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=13000;<br> Наименование=Отдел радиоактивных и делящихся веществ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999998<BR>
 Код=013000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742334");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_353)</span><div id='gateway/receive_3_podrazd1514306742334' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "013000",
"Наименование": "Отдел радиоактивных и делящихся веществ",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=013000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=13000
OLD_PID=999998
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999998 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999998, name='Отдел радиоактивных и делящихся веществ', is_deleted=0, changed=now() where ID=013000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742340");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_353)</span><div id='gateway/jinr_setDivParents1514306742340' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=13000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999998
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=13000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Отдел радиоактивных и делящихся веществ' where id=13000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742340");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742334");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_353");'>Request_HR_LHEP_353 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_354");'> Request_HR_LHEP_354 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_354' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580efa4-8a54-11e2-93f1-0025907d24fa&GateObjectID=115453&ClientObjectID=442999&Time=27.02.2017 12:39:18&Object={
"Код": "442999",
"Наименование": "Опытно-экспериментальное производство (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=442999;<br> Наименование=Опытно-экспериментальное производство (ЛНФ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=442999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742439");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_354)</span><div id='gateway/receive_3_podrazd1514306742439' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "442999",
"Наименование": "Опытно-экспериментальное производство (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=442999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=442999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Опытно-экспериментальное производство (ЛНФ)', is_deleted=0, changed=now() where ID=442999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742444");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_354)</span><div id='gateway/jinr_setDivParents1514306742444' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=442999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=442999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Опытно-экспериментальное производство (ЛНФ)' where id=442999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742444");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742439");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_354");'>Request_HR_LHEP_354 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_355");'> Request_HR_LHEP_355 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_355' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580efa0-8a54-11e2-93f1-0025907d24fa&GateObjectID=115455&ClientObjectID=432999&Time=27.02.2017 12:39:17&Object={
"Код": "432999",
"Наименование": "Установка ИРЕН (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=432999;<br> Наименование=Установка ИРЕН (ЛНФ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=432999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742739");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_355)</span><div id='gateway/receive_3_podrazd1514306742739' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "432999",
"Наименование": "Установка ИРЕН (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=432999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=432999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Установка ИРЕН (ЛНФ)', is_deleted=0, changed=now() where ID=432999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742748");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_355)</span><div id='gateway/jinr_setDivParents1514306742748' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=432999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=432999
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Установка ИРЕН (ЛНФ)' where id=432999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742748");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742739");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (24ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_355");'>Request_HR_LHEP_355 (gateway/receive) DONE! (311ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_356");'> Request_HR_LHEP_356 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_356' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f580efa2-8a54-11e2-93f1-0025907d24fa&GateObjectID=115452&ClientObjectID=441999&Time=27.02.2017 12:39:18&Object={
"Код": "441999",
"Наименование": "Конструкторское бюро (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=441999;<br> Наименование=Конструкторское бюро (ЛНФ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=441999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742865");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_356)</span><div id='gateway/receive_3_podrazd1514306742865' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "441999",
"Наименование": "Конструкторское бюро (ЛНФ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=441999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=441999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Конструкторское бюро (ЛНФ)', is_deleted=0, changed=now() where ID=441999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742872");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_356)</span><div id='gateway/jinr_setDivParents1514306742872' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=441999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=441999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Конструкторское бюро (ЛНФ)' where id=441999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742872");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742865");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_356");'>Request_HR_LHEP_356 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_357");'> Request_HR_LHEP_357 [26.12 19:45:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_357' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b28d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115440&ClientObjectID=21000&Time=27.02.2017 12:39:26&Object={
"Код": "021000",
"Наименование": "Отдел охраны труда",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=21000;<br> Наименование=Отдел охраны труда<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999998<BR>
 Код=021000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742962");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_357)</span><div id='gateway/receive_3_podrazd1514306742962' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "021000",
"Наименование": "Отдел охраны труда",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=021000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=21000
OLD_PID=999998
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999998 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999998, name='Отдел охраны труда', is_deleted=0, changed=now() where ID=021000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742972");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_357)</span><div id='gateway/jinr_setDivParents1514306742972' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=21000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999998
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=21000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Отдел охраны труда' where id=21000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306742972");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306742962");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_357");'>Request_HR_LHEP_357 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_358");'> Request_HR_LHEP_358 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_358' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b283-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115439&ClientObjectID=44000&Time=27.02.2017 12:39:27&Object={
"Код": "044000",
"Наименование": "Энергомеханическое и метрологическое бюро",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=44000;<br> Наименование=Энергомеханическое и метрологическое бюро<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999998<BR>
 Код=044000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743061");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_358)</span><div id='gateway/receive_3_podrazd1514306743061' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "044000",
"Наименование": "Энергомеханическое и метрологическое бюро",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=044000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=44000
OLD_PID=999998
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999998 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999998, name='Энергомеханическое и метрологическое бюро', is_deleted=0, changed=now() where ID=044000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743067");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_358)</span><div id='gateway/jinr_setDivParents1514306743067' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=44000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999998
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=44000
</xmp> <b> Processed in 203ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Энергомеханическое и метрологическое бюро' where id=44000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743067");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (211ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743061");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (217ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_358");'>Request_HR_LHEP_358 (gateway/receive) DONE! (281ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_359");'> Request_HR_LHEP_359 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_359' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b29d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115438&ClientObjectID=14000&Time=27.02.2017 12:39:26&Object={
"Код": "014000",
"Наименование": "Штаб гражданской обороны",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=14000;<br> Наименование=Штаб гражданской обороны<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999998<BR>
 Код=014000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743364");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_359)</span><div id='gateway/receive_3_podrazd1514306743364' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "014000",
"Наименование": "Штаб гражданской обороны",
"РодительКод": "999998",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=014000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=14000
OLD_PID=999998
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999998 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999998, name='Штаб гражданской обороны', is_deleted=0, changed=now() where ID=014000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743370");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_359)</span><div id='gateway/jinr_setDivParents1514306743370' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=14000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999998
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=14000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Штаб гражданской обороны' where id=14000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743370");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743364");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_359");'>Request_HR_LHEP_359 (gateway/receive) DONE! (107ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_360");'> Request_HR_LHEP_360 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_360' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=3b496556-b363-11e4-9432-0025907d24fa&GateObjectID=115418&ClientObjectID=84030&Time=27.02.2017 12:39:40&Object={
"Код": "084030",
"Наименование": "Сектор №3 радиационной физиологии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84030;<br> Наименование=Сектор №3 радиационной физиологии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084000<BR>
 Код=084030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743488");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_360)</span><div id='gateway/receive_3_podrazd1514306743488' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084030",
"Наименование": "Сектор №3 радиационной физиологии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84030
OLD_PID=84000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084000, name='Сектор №3 радиационной физиологии', is_deleted=0, changed=now() where ID=084030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743494");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_360)</span><div id='gateway/jinr_setDivParents1514306743494' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №3 радиационной физиологии' where id=84030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743494");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743488");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_360");'>Request_HR_LHEP_360 (gateway/receive) DONE! (64ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_361");'> Request_HR_LHEP_361 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_361' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=7d4c21c5-b363-11e4-9432-0025907d24fa&GateObjectID=115416&ClientObjectID=84050&Time=27.02.2017 12:39:41&Object={
"Код": "084050",
"Наименование": "Сектор №5 математического моделирования радиационно-индуцированных эффектов",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84050;<br> Наименование=Сектор №5 математического моделирования радиационно-индуцированных эффектов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084000<BR>
 Код=084050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743564");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_361)</span><div id='gateway/receive_3_podrazd1514306743564' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084050",
"Наименование": "Сектор №5 математического моделирования радиационно-индуцированных эффектов",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84050
OLD_PID=84000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084000, name='Сектор №5 математического моделирования радиационно-индуцированных эффектов', is_deleted=0, changed=now() where ID=084050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743570");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_361)</span><div id='gateway/jinr_setDivParents1514306743570' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №5 математического моделирования радиационно-индуцированных эффектов' where id=84050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743570");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743564");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_361");'>Request_HR_LHEP_361 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_362");'> Request_HR_LHEP_362 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_362' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=defad612-b362-11e4-9432-0025907d24fa&GateObjectID=115417&ClientObjectID=84020&Time=27.02.2017 12:39:40&Object={
"Код": "084020",
"Наименование": "Сектор №2 радиационной цитологии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84020;<br> Наименование=Сектор №2 радиационной цитологии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084000<BR>
 Код=084020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743660");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_362)</span><div id='gateway/receive_3_podrazd1514306743660' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084020",
"Наименование": "Сектор №2 радиационной цитологии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84020
OLD_PID=84000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084000, name='Сектор №2 радиационной цитологии', is_deleted=0, changed=now() where ID=084020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743668");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_362)</span><div id='gateway/jinr_setDivParents1514306743668' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №2 радиационной цитологии' where id=84020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743668");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743660");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_362");'>Request_HR_LHEP_362 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_363");'> Request_HR_LHEP_363 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_363' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=53bea050-b363-11e4-9432-0025907d24fa&GateObjectID=115415&ClientObjectID=84040&Time=27.02.2017 12:39:41&Object={
"Код": "084040",
"Наименование": "Сектор №4 радиационной нейрохимии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84040;<br> Наименование=Сектор №4 радиационной нейрохимии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084000<BR>
 Код=084040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743758");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_363)</span><div id='gateway/receive_3_podrazd1514306743758' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084040",
"Наименование": "Сектор №4 радиационной нейрохимии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84040
OLD_PID=84000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084000, name='Сектор №4 радиационной нейрохимии', is_deleted=0, changed=now() where ID=084040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743764");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_363)</span><div id='gateway/jinr_setDivParents1514306743764' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №4 радиационной нейрохимии' where id=84040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743764");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743758");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_363");'>Request_HR_LHEP_363 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_364");'> Request_HR_LHEP_364 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_364' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=203db32e-5b9b-11e5-9445-0025907d24fa&GateObjectID=115408&ClientObjectID=309010&Time=27.02.2017 12:39:46&Object={
"Код": "309010",
"Наименование": "Сектор №1 квантовой теории поля",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309010;<br> Наименование=Сектор №1 квантовой теории поля<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=309000<BR>
 Код=309010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743855");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_364)</span><div id='gateway/receive_3_podrazd1514306743855' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309010",
"Наименование": "Сектор №1 квантовой теории поля",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309010
OLD_PID=309000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=309000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=309000, name='Сектор №1 квантовой теории поля', is_deleted=0, changed=now() where ID=309010
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743863");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_364)</span><div id='gateway/jinr_setDivParents1514306743863' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=309000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий / Сектор №1 квантовой теории поля' where id=309010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743863");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743855");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_364");'>Request_HR_LHEP_364 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_365");'> Request_HR_LHEP_365 [26.12 19:45:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_365' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=547b9856-5b9b-11e5-9445-0025907d24fa&GateObjectID=115407&ClientObjectID=309030&Time=27.02.2017 12:39:47&Object={
"Код": "309030",
"Наименование": "Сектор №3 нейтринной физики",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309030;<br> Наименование=Сектор №3 нейтринной физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=309000<BR>
 Код=309030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743953");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_365)</span><div id='gateway/receive_3_podrazd1514306743953' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309030",
"Наименование": "Сектор №3 нейтринной физики",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309030
OLD_PID=309000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=309000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=309000, name='Сектор №3 нейтринной физики', is_deleted=0, changed=now() where ID=309030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743959");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_365)</span><div id='gateway/jinr_setDivParents1514306743959' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=309000
LEV_OLD=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий / Сектор №3 нейтринной физики' where id=309030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306743959");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306743953");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_365");'>Request_HR_LHEP_365 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_366");'> Request_HR_LHEP_366 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_366' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=34c2aad4-5b9b-11e5-9445-0025907d24fa&GateObjectID=115406&ClientObjectID=309020&Time=27.02.2017 12:39:46&Object={
"Код": "309020",
"Наименование": "Сектор №2 методов сильной связи",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309020;<br> Наименование=Сектор №2 методов сильной связи<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=309000<BR>
 Код=309020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744051");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_366)</span><div id='gateway/receive_3_podrazd1514306744051' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309020",
"Наименование": "Сектор №2 методов сильной связи",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309020
OLD_PID=309000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=309000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=309000, name='Сектор №2 методов сильной связи', is_deleted=0, changed=now() where ID=309020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744058");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_366)</span><div id='gateway/jinr_setDivParents1514306744058' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=309000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий / Сектор №2 методов сильной связи' where id=309020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744058");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744051");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_366");'>Request_HR_LHEP_366 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_367");'> Request_HR_LHEP_367 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_367' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=8ecfbe38-843c-11e4-942f-0025907d24fa&GateObjectID=115419&ClientObjectID=189003&Time=27.02.2017 12:39:38&Object={
"Код": "189003",
"Наименование": "Группа №3 тепловодоснабжения и вентиляции",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=189003;<br> Наименование=Группа №3 тепловодоснабжения и вентиляции<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=189000<BR>
 Код=189003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744151");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_367)</span><div id='gateway/receive_3_podrazd1514306744151' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "189003",
"Наименование": "Группа №3 тепловодоснабжения и вентиляции",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=189003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=189003
OLD_PID=189000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=189000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=189000, name='Группа №3 тепловодоснабжения и вентиляции', is_deleted=0, changed=now() where ID=189003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744157");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_367)</span><div id='gateway/jinr_setDivParents1514306744157' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=189003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=189000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=189000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=189003
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Инженерный энерготехнологический отдел / Группа №3 тепловодоснабжения и вентиляции' where id=189003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744157");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744151");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_367");'>Request_HR_LHEP_367 (gateway/receive) DONE! (127ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_368");'> Request_HR_LHEP_368 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_368' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b9a593d5-843c-11e4-942f-0025907d24fa&GateObjectID=115420&ClientObjectID=189004&Time=27.02.2017 12:39:39&Object={
"Код": "189004",
"Наименование": "Группа №4 электротехническая - высоковольтного оборудования",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=189004;<br> Наименование=Группа №4 электротехническая - высоковольтного оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=189000<BR>
 Код=189004<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744299");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_368)</span><div id='gateway/receive_3_podrazd1514306744299' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "189004",
"Наименование": "Группа №4 электротехническая - высоковольтного оборудования",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=189004
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=189004
OLD_PID=189000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=189000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=189000, name='Группа №4 электротехническая - высоковольтного оборудования', is_deleted=0, changed=now() where ID=189004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744305");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_368)</span><div id='gateway/jinr_setDivParents1514306744305' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=189004
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=189000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=189000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=189004
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Инженерный энерготехнологический отдел / Группа №4 электротехническая - высоковольтного оборудования' where id=189004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744305");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744299");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_368");'>Request_HR_LHEP_368 (gateway/receive) DONE! (70ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_369");'> Request_HR_LHEP_369 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_369' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=7a448f8c-843c-11e4-942f-0025907d24fa&GateObjectID=115421&ClientObjectID=189002&Time=27.02.2017 12:39:38&Object={
"Код": "189002",
"Наименование": "Группа №2 низковольтного оборудования",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=189002;<br> Наименование=Группа №2 низковольтного оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=189000<BR>
 Код=189002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744383");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_369)</span><div id='gateway/receive_3_podrazd1514306744383' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "189002",
"Наименование": "Группа №2 низковольтного оборудования",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=189002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=189002
OLD_PID=189000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=189000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=189000, name='Группа №2 низковольтного оборудования', is_deleted=0, changed=now() where ID=189002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744389");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_369)</span><div id='gateway/jinr_setDivParents1514306744389' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=189002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=189000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=189000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=189002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Инженерный энерготехнологический отдел / Группа №2 низковольтного оборудования' where id=189002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744389");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744383");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_369");'>Request_HR_LHEP_369 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_370");'> Request_HR_LHEP_370 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_370' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=3d36f3bf-4896-11e4-9424-0025907d24fa&GateObjectID=115422&ClientObjectID=36004&Time=27.02.2017 12:39:36&Object={
"Код": "036004",
"Наименование": "Группа №3 хранения и учета ТМЦ",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=36004;<br> Наименование=Группа №3 хранения и учета ТМЦ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=036000<BR>
 Код=036004<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744473");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_370)</span><div id='gateway/receive_3_podrazd1514306744473' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "036004",
"Наименование": "Группа №3 хранения и учета ТМЦ",
"РодительКод": "036000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=036004
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=36004
OLD_PID=36000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=036000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=036000, name='Группа №3 хранения и учета ТМЦ', is_deleted=0, changed=now() where ID=036004
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744481");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_370)</span><div id='gateway/jinr_setDivParents1514306744481' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=36004
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=36000
LEV_OLD=3</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=36000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=36004
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СМТС / Группа №3 хранения и учета ТМЦ' where id=36004
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744481");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744473");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (23ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_370");'>Request_HR_LHEP_370 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_371");'> Request_HR_LHEP_371 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_371' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6803a5fd-843c-11e4-942f-0025907d24fa&GateObjectID=115423&ClientObjectID=189001&Time=27.02.2017 12:39:37&Object={
"Код": "189001",
"Наименование": "Группа №1 высоковольтного оборудования",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=189001;<br> Наименование=Группа №1 высоковольтного оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=189000<BR>
 Код=189001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744564");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_371)</span><div id='gateway/receive_3_podrazd1514306744564' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "189001",
"Наименование": "Группа №1 высоковольтного оборудования",
"РодительКод": "189000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=189001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=189001
OLD_PID=189000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=189000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=189000, name='Группа №1 высоковольтного оборудования', is_deleted=0, changed=now() where ID=189001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744570");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_371)</span><div id='gateway/jinr_setDivParents1514306744570' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=189001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=189000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=189000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=189001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Инженерный энерготехнологический отдел / Группа №1 высоковольтного оборудования' where id=189001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744570");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744564");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_371");'>Request_HR_LHEP_371 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_372");'> Request_HR_LHEP_372 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_372' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=82a88f63-b0bb-11e3-940c-0025907d24fa&GateObjectID=115430&ClientObjectID=158010&Time=27.02.2017 12:39:31&Object={
"Код": "158010",
"Наименование": "Сектор №1 прикладных радиационных технологий",
"РодительКод": "158000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=158010;<br> Наименование=Сектор №1 прикладных радиационных технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=158000<BR>
 Код=158010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744695");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_372)</span><div id='gateway/receive_3_podrazd1514306744695' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "158010",
"Наименование": "Сектор №1 прикладных радиационных технологий",
"РодительКод": "158000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=158010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=158010
OLD_PID=158000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=158000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=158000, name='Сектор №1 прикладных радиационных технологий', is_deleted=0, changed=now() where ID=158010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744700");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_372)</span><div id='gateway/jinr_setDivParents1514306744700' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=158010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=158000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=158000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=158010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно-методический отдел кремниевых трековых систем / Сектор №1 прикладных радиационных технологий' where id=158010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744700");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744695");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_372");'>Request_HR_LHEP_372 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_373");'> Request_HR_LHEP_373 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_373' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fee600ca-bfa7-11e3-940d-0025907d24fa&GateObjectID=115428&ClientObjectID=602041&Time=27.02.2017 12:39:33&Object={
"Код": "602041",
"Наименование": "Группа №1 развития и сопровождения финансово-учетных систем электронного документооборота",
"РодительКод": "602040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602041;<br> Наименование=Группа №1 развития и сопровождения финансово-учетных систем электронного документооборота<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602040<BR>
 Код=602041<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744780");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_373)</span><div id='gateway/receive_3_podrazd1514306744780' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602041",
"Наименование": "Группа №1 развития и сопровождения финансово-учетных систем электронного документооборота",
"РодительКод": "602040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602041
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602041
OLD_PID=602040
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602040, name='Группа №1 развития и сопровождения финансово-учетных систем электронного документооборота', is_deleted=0, changed=now() where ID=602041
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744786");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_373)</span><div id='gateway/jinr_setDivParents1514306744786' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602041
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602040
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602041
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №4 развития и сопровождения административных информационных систем / Группа №1 развития и сопровождения финансово-учетных систем электронного документооборота' where id=602041
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744786");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744780");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_373");'>Request_HR_LHEP_373 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_374");'> Request_HR_LHEP_374 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_374' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2407eb10-bfa8-11e3-940d-0025907d24fa&GateObjectID=115429&ClientObjectID=602042&Time=27.02.2017 12:39:33&Object={
"Код": "602042",
"Наименование": "Группа №2 развития и сопровождения информационных систем общеинститутского назначения",
"РодительКод": "602040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602042;<br> Наименование=Группа №2 развития и сопровождения информационных систем общеинститутского назначения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602040<BR>
 Код=602042<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744865");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_374)</span><div id='gateway/receive_3_podrazd1514306744865' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602042",
"Наименование": "Группа №2 развития и сопровождения информационных систем общеинститутского назначения",
"РодительКод": "602040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602042
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602042
OLD_PID=602040
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602040, name='Группа №2 развития и сопровождения информационных систем общеинститутского назначения', is_deleted=0, changed=now() where ID=602042
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744870");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_374)</span><div id='gateway/jinr_setDivParents1514306744870' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602042
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602040
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602042
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №4 развития и сопровождения административных информационных систем / Группа №2 развития и сопровождения информационных систем общеинститутского назначения' where id=602042
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744870");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744865");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_374");'>Request_HR_LHEP_374 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_375");'> Request_HR_LHEP_375 [26.12 19:45:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_375' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f04a2f7e-3439-11e5-943f-0025907d24fa&GateObjectID=115432&ClientObjectID=129011&Time=27.02.2017 12:39:31&Object={
"Код": "129011",
"Наименование": "Группа №1 производственного обеспечения сборки и серийных испытаний СП-магнитов",
"РодительКод": "129010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129011;<br> Наименование=Группа №1 производственного обеспечения сборки и серийных испытаний СП-магнитов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=129010<BR>
 Код=129011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744958");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_375)</span><div id='gateway/receive_3_podrazd1514306744958' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129011",
"Наименование": "Группа №1 производственного обеспечения сборки и серийных испытаний СП-магнитов",
"РодительКод": "129010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129011
OLD_PID=129010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=129010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=129010, name='Группа №1 производственного обеспечения сборки и серийных испытаний СП-магнитов', is_deleted=0, changed=now() where ID=129011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744964");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_375)</span><div id='gateway/jinr_setDivParents1514306744964' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=129010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=129010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий / Сектор №1 автоматизации и систем питания / Группа №1 производственного обеспечения сборки и серийных испытаний СП-магнитов' where id=129011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306744964");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306744958");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_375");'>Request_HR_LHEP_375 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_376");'> Request_HR_LHEP_376 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_376' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=efd3ce4e-b0bb-11e3-940c-0025907d24fa&GateObjectID=115431&ClientObjectID=158020&Time=27.02.2017 12:39:32&Object={
"Код": "158020",
"Наименование": "Сектор №2 полупроводниковых детекторов",
"РодительКод": "158000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=158020;<br> Наименование=Сектор №2 полупроводниковых детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=158000<BR>
 Код=158020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745051");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_376)</span><div id='gateway/receive_3_podrazd1514306745051' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "158020",
"Наименование": "Сектор №2 полупроводниковых детекторов",
"РодительКод": "158000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=158020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=158020
OLD_PID=158000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=158000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=158000, name='Сектор №2 полупроводниковых детекторов', is_deleted=0, changed=now() where ID=158020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745057");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_376)</span><div id='gateway/jinr_setDivParents1514306745057' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=158020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=158000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=158000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=158020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно-методический отдел кремниевых трековых систем / Сектор №2 полупроводниковых детекторов' where id=158020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745057");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745051");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_376");'>Request_HR_LHEP_376 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_377");'> Request_HR_LHEP_377 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_377' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=1515e7f6-5b9c-11e5-9445-0025907d24fa&GateObjectID=115401&ClientObjectID=310020&Time=27.02.2017 12:39:50&Object={
"Код": "310020",
"Наименование": "Сектор №2 ядерных реакций и структуры ядра",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=310020;<br> Наименование=Сектор №2 ядерных реакций и структуры ядра<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=310000<BR>
 Код=310020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745138");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_377)</span><div id='gateway/receive_3_podrazd1514306745138' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "310020",
"Наименование": "Сектор №2 ядерных реакций и структуры ядра",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=310020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=310020
OLD_PID=310000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=310000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=310000, name='Сектор №2 ядерных реакций и структуры ядра', is_deleted=0, changed=now() where ID=310020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745144");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_377)</span><div id='gateway/jinr_setDivParents1514306745144' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=310020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=310000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=310000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=310020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории атомного ядра / Сектор №2 ядерных реакций и структуры ядра' where id=310020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745144");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745138");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_377");'>Request_HR_LHEP_377 (gateway/receive) DONE! (129ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_378");'> Request_HR_LHEP_378 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_378' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=d3de51d1-5b9d-11e5-9445-0025907d24fa&GateObjectID=115400&ClientObjectID=310040&Time=27.02.2017 12:39:51&Object={
"Код": "310040",
"Наименование": "Сектор №4 релятивистской ядерной физики",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=310040;<br> Наименование=Сектор №4 релятивистской ядерной физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=310000<BR>
 Код=310040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745286");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_378)</span><div id='gateway/receive_3_podrazd1514306745286' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "310040",
"Наименование": "Сектор №4 релятивистской ядерной физики",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=310040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=310040
OLD_PID=310000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=310000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=310000, name='Сектор №4 релятивистской ядерной физики', is_deleted=0, changed=now() where ID=310040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745291");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_378)</span><div id='gateway/jinr_setDivParents1514306745291' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=310040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=310000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=310000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=310040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории атомного ядра / Сектор №4 релятивистской ядерной физики' where id=310040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745291");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745286");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_378");'>Request_HR_LHEP_378 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_379");'> Request_HR_LHEP_379 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_379' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9f12d4b4-5b9d-11e5-9445-0025907d24fa&GateObjectID=115399&ClientObjectID=310050&Time=27.02.2017 12:39:50&Object={
"Код": "310050",
"Наименование": "Сектор №3 малочастичных систем",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=310050;<br> Наименование=Сектор №3 малочастичных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=310000<BR>
 Код=310050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745386");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_379)</span><div id='gateway/receive_3_podrazd1514306745386' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "310050",
"Наименование": "Сектор №3 малочастичных систем",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=310050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=310050
OLD_PID=310000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=310000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=310000, name='Сектор №3 малочастичных систем', is_deleted=0, changed=now() where ID=310050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745394");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_379)</span><div id='gateway/jinr_setDivParents1514306745394' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=310050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=310000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=310000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=310050
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории атомного ядра / Сектор №3 малочастичных систем' where id=310050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745394");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745386");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_379");'>Request_HR_LHEP_379 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_380");'> Request_HR_LHEP_380 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_380' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6f3f6c63-92a7-11e5-9449-0025907d24fa&GateObjectID=115398&ClientObjectID=311040&Time=27.02.2017 12:39:52&Object={
"Код": "311040",
"Наименование": "Сектор №1 теории твердого тела",
"РодительКод": "311000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=311040;<br> Наименование=Сектор №1 теории твердого тела<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=311000<BR>
 Код=311040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745485");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_380)</span><div id='gateway/receive_3_podrazd1514306745485' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "311040",
"Наименование": "Сектор №1 теории твердого тела",
"РодительКод": "311000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=311040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=311040
OLD_PID=311000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=311000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=311000, name='Сектор №1 теории твердого тела', is_deleted=0, changed=now() where ID=311040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745490");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_380)</span><div id='gateway/jinr_setDivParents1514306745490' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=311040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=311000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=311000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=311040
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории конденсированных сред / Сектор №1 теории твердого тела' where id=311040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745490");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745485");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_380");'>Request_HR_LHEP_380 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_381");'> Request_HR_LHEP_381 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_381' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=1024704c-5b9f-11e5-9445-0025907d24fa&GateObjectID=115395&ClientObjectID=312020&Time=27.02.2017 12:39:54&Object={
"Код": "312020",
"Наименование": "Сектор №2 суперсимметрии",
"РодительКод": "312000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=312020;<br> Наименование=Сектор №2 суперсимметрии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=312000<BR>
 Код=312020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745585");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_381)</span><div id='gateway/receive_3_podrazd1514306745585' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "312020",
"Наименование": "Сектор №2 суперсимметрии",
"РодительКод": "312000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=312020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=312020
OLD_PID=312000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=312000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=312000, name='Сектор №2 суперсимметрии', is_deleted=0, changed=now() where ID=312020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745590");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_381)</span><div id='gateway/jinr_setDivParents1514306745590' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=312020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=312000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=312000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=312020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел современной математической физики / Сектор №2 суперсимметрии' where id=312020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745590");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745585");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_381");'>Request_HR_LHEP_381 (gateway/receive) DONE! (70ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_382");'> Request_HR_LHEP_382 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_382' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=dbe3c95a-92a7-11e5-9449-0025907d24fa&GateObjectID=115394&ClientObjectID=312040&Time=27.02.2017 12:39:53&Object={
"Код": "312040",
"Наименование": "Сектор №1 квантовых групп и интегрируемых систем",
"РодительКод": "312000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=312040;<br> Наименование=Сектор №1 квантовых групп и интегрируемых систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=312000<BR>
 Код=312040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745668");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_382)</span><div id='gateway/receive_3_podrazd1514306745668' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "312040",
"Наименование": "Сектор №1 квантовых групп и интегрируемых систем",
"РодительКод": "312000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=312040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=312040
OLD_PID=312000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=312000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=312000, name='Сектор №1 квантовых групп и интегрируемых систем', is_deleted=0, changed=now() where ID=312040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745674");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_382)</span><div id='gateway/jinr_setDivParents1514306745674' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=312040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=312000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=312000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=312040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел современной математической физики / Сектор №1 квантовых групп и интегрируемых систем' where id=312040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745674");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745668");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_382");'>Request_HR_LHEP_382 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_383");'> Request_HR_LHEP_383 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_383' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0581e11b-fdf9-11e2-93fc-0025907d24fa&GateObjectID=115391&ClientObjectID=999998&Time=27.02.2017 12:40:02&Object={
"Код": "999998",
"Наименование": "Службы, подчиняющиеся главному инженеру Института",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999998;<br> Наименование=Службы, подчиняющиеся главному инженеру Института<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=999998<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745773");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_383)</span><div id='gateway/receive_3_podrazd1514306745773' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999998",
"Наименование": "Службы, подчиняющиеся главному инженеру Института",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999998
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 900000 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Службы, подчиняющиеся главному инженеру Института', is_deleted=0, changed=now() where ID=999998
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745778");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_383)</span><div id='gateway/jinr_setDivParents1514306745778' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999998
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999998
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ' where id=999998
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745778");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745773");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_383");'>Request_HR_LHEP_383 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_384");'> Request_HR_LHEP_384 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_384' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=87d7a7cc-5b9b-11e5-9445-0025907d24fa&GateObjectID=115402&ClientObjectID=309060&Time=27.02.2017 12:39:49&Object={
"Код": "309060",
"Наименование": "Сектор №6 физики адронной материи",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309060;<br> Наименование=Сектор №6 физики адронной материи<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=309000<BR>
 Код=309060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745860");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_384)</span><div id='gateway/receive_3_podrazd1514306745860' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309060",
"Наименование": "Сектор №6 физики адронной материи",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309060
OLD_PID=309000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=309000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=309000, name='Сектор №6 физики адронной материи', is_deleted=0, changed=now() where ID=309060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745866");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_384)</span><div id='gateway/jinr_setDivParents1514306745866' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=309000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309060
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий / Сектор №6 физики адронной материи' where id=309060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745866");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745860");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_384");'>Request_HR_LHEP_384 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_385");'> Request_HR_LHEP_385 [26.12 19:45:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_385' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ddbc88e2-5b9b-11e5-9445-0025907d24fa&GateObjectID=115403&ClientObjectID=310010&Time=27.02.2017 12:39:49&Object={
"Код": "310010",
"Наименование": "Сектор №1 структуры ядра",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=310010;<br> Наименование=Сектор №1 структуры ядра<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=310000<BR>
 Код=310010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745950");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_385)</span><div id='gateway/receive_3_podrazd1514306745950' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "310010",
"Наименование": "Сектор №1 структуры ядра",
"РодительКод": "310000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=310010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=310010
OLD_PID=310000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=310000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=310000, name='Сектор №1 структуры ядра', is_deleted=0, changed=now() where ID=310010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745956");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_385)</span><div id='gateway/jinr_setDivParents1514306745956' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=310010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=310000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=310000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=310010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории атомного ядра / Сектор №1 структуры ядра' where id=310010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306745956");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306745950");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_385");'>Request_HR_LHEP_385 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_386");'> Request_HR_LHEP_386 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_386' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=65c38084-5b9b-11e5-9445-0025907d24fa&GateObjectID=115404&ClientObjectID=309040&Time=27.02.2017 12:39:48&Object={
"Код": "309040",
"Наименование": "Сектор №4 стандартной модели",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309040;<br> Наименование=Сектор №4 стандартной модели<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=309000<BR>
 Код=309040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746033");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_386)</span><div id='gateway/receive_3_podrazd1514306746033' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309040",
"Наименование": "Сектор №4 стандартной модели",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309040
OLD_PID=309000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=309000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=309000, name='Сектор №4 стандартной модели', is_deleted=0, changed=now() where ID=309040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746039");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_386)</span><div id='gateway/jinr_setDivParents1514306746039' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=309000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий / Сектор №4 стандартной модели' where id=309040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746039");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746033");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_386");'>Request_HR_LHEP_386 (gateway/receive) DONE! (71ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_387");'> Request_HR_LHEP_387 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_387' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9ecb6d9c-b363-11e4-9432-0025907d24fa&GateObjectID=115414&ClientObjectID=84060&Time=27.02.2017 12:39:42&Object={
"Код": "084060",
"Наименование": "Группа радиационной генетики низших эукариот",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84060;<br> Наименование=Группа радиационной генетики низших эукариот<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084000<BR>
 Код=084060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746117");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_387)</span><div id='gateway/receive_3_podrazd1514306746117' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084060",
"Наименование": "Группа радиационной генетики низших эукариот",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84060
OLD_PID=84000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084000, name='Группа радиационной генетики низших эукариот', is_deleted=0, changed=now() where ID=084060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746123");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_387)</span><div id='gateway/jinr_setDivParents1514306746123' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84060
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Группа радиационной генетики низших эукариот' where id=84060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746123");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746117");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_387");'>Request_HR_LHEP_387 (gateway/receive) DONE! (123ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_388");'> Request_HR_LHEP_388 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_388' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fc002177-b362-11e4-9432-0025907d24fa&GateObjectID=115413&ClientObjectID=84021&Time=27.02.2017 12:39:43&Object={
"Код": "084021",
"Наименование": "Группа №1 радиационной цитогенетики",
"РодительКод": "084020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84021;<br> Наименование=Группа №1 радиационной цитогенетики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084020<BR>
 Код=084021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746259");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_388)</span><div id='gateway/receive_3_podrazd1514306746259' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084021",
"Наименование": "Группа №1 радиационной цитогенетики",
"РодительКод": "084020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84021
OLD_PID=84020
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084020, name='Группа №1 радиационной цитогенетики', is_deleted=0, changed=now() where ID=084021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746267");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_388)</span><div id='gateway/jinr_setDivParents1514306746267' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84020
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84021
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №2 радиационной цитологии / Группа №1 радиационной цитогенетики' where id=84021
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746267");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746259");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_388");'>Request_HR_LHEP_388 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_389");'> Request_HR_LHEP_389 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_389' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0338e44b-fd5f-11e4-943a-0025907d24fa&GateObjectID=115412&ClientObjectID=84070&Time=27.02.2017 12:39:43&Object={
"Код": "084070",
"Наименование": "Сектор №1 молекулярной радиобиологии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84070;<br> Наименование=Сектор №1 молекулярной радиобиологии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084000<BR>
 Код=084070<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746368");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_389)</span><div id='gateway/receive_3_podrazd1514306746368' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084070",
"Наименование": "Сектор №1 молекулярной радиобиологии",
"РодительКод": "084000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084070
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84070
OLD_PID=84000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084000, name='Сектор №1 молекулярной радиобиологии', is_deleted=0, changed=now() where ID=084070
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746373");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_389)</span><div id='gateway/jinr_setDivParents1514306746373' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84070
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84070
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №1 молекулярной радиобиологии' where id=84070
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746373");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746368");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_389");'>Request_HR_LHEP_389 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_390");'> Request_HR_LHEP_390 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_390' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2746103a-b363-11e4-9432-0025907d24fa&GateObjectID=115411&ClientObjectID=84022&Time=27.02.2017 12:39:44&Object={
"Код": "084022",
"Наименование": "Группа №2 радиобиологии нормальных и опухолевых клеток",
"РодительКод": "084020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84022;<br> Наименование=Группа №2 радиобиологии нормальных и опухолевых клеток<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084020<BR>
 Код=084022<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746450");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_390)</span><div id='gateway/receive_3_podrazd1514306746450' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084022",
"Наименование": "Группа №2 радиобиологии нормальных и опухолевых клеток",
"РодительКод": "084020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084022
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84022
OLD_PID=84020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084020, name='Группа №2 радиобиологии нормальных и опухолевых клеток', is_deleted=0, changed=now() where ID=084022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746456");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_390)</span><div id='gateway/jinr_setDivParents1514306746456' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84022
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84020
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84022
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №2 радиационной цитологии / Группа №2 радиобиологии нормальных и опухолевых клеток' where id=84022
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746456");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746450");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_390");'>Request_HR_LHEP_390 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_391");'> Request_HR_LHEP_391 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_391' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=55e10605-fd5f-11e4-943a-0025907d24fa&GateObjectID=115410&ClientObjectID=84072&Time=27.02.2017 12:39:45&Object={
"Код": "084072",
"Наименование": "Группа №2 иммуноцитологии и цитометрии",
"РодительКод": "084070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84072;<br> Наименование=Группа №2 иммуноцитологии и цитометрии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084070<BR>
 Код=084072<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746549");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_391)</span><div id='gateway/receive_3_podrazd1514306746549' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084072",
"Наименование": "Группа №2 иммуноцитологии и цитометрии",
"РодительКод": "084070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084072
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84072
OLD_PID=84070
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084070, name='Группа №2 иммуноцитологии и цитометрии', is_deleted=0, changed=now() where ID=084072
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746556");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_391)</span><div id='gateway/jinr_setDivParents1514306746556' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84072
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84070
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84072
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №1 молекулярной радиобиологии / Группа №2 иммуноцитологии и цитометрии' where id=84072
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746556");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746549");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_391");'>Request_HR_LHEP_391 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_392");'> Request_HR_LHEP_392 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_392' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=287683bc-fd5f-11e4-943a-0025907d24fa&GateObjectID=115409&ClientObjectID=84071&Time=27.02.2017 12:39:44&Object={
"Код": "084071",
"Наименование": "Группа №1 флуоресцентной микроскопии",
"РодительКод": "084070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=84071;<br> Наименование=Группа №1 флуоресцентной микроскопии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=084070<BR>
 Код=084071<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746640");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_392)</span><div id='gateway/receive_3_podrazd1514306746640' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "084071",
"Наименование": "Группа №1 флуоресцентной микроскопии",
"РодительКод": "084070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=084071
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=84071
OLD_PID=84070
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=084070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=084070, name='Группа №1 флуоресцентной микроскопии', is_deleted=0, changed=now() where ID=084071
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746647");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_392)</span><div id='gateway/jinr_setDivParents1514306746647' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=84071
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=84070
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=84070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=84071
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационной биологии и физиологии / Сектор №1 молекулярной радиобиологии / Группа №1 флуоресцентной микроскопии' where id=84071
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746647");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746640");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_392");'>Request_HR_LHEP_392 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_393");'> Request_HR_LHEP_393 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_393' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=7571f925-5b9b-11e5-9445-0025907d24fa&GateObjectID=115405&ClientObjectID=309050&Time=27.02.2017 12:39:48&Object={
"Код": "309050",
"Наименование": "Сектор №5 структуры адронов",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309050;<br> Наименование=Сектор №5 структуры адронов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=309000<BR>
 Код=309050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746769");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_393)</span><div id='gateway/receive_3_podrazd1514306746769' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309050",
"Наименование": "Сектор №5 структуры адронов",
"РодительКод": "309000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309050
OLD_PID=309000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=309000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=309000, name='Сектор №5 структуры адронов', is_deleted=0, changed=now() where ID=309050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746775");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_393)</span><div id='gateway/jinr_setDivParents1514306746775' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=309000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий / Сектор №5 структуры адронов' where id=309050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746775");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746769");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_393");'>Request_HR_LHEP_393 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_394");'> Request_HR_LHEP_394 [26.12 19:45:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_394' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee39bdc5-5972-11e6-9463-0025907d24fa&GateObjectID=3219&ClientObjectID=195003&Time=27.02.2017 12:39:56&Object={
"Код": "195003",
"Наименование": "Группа №3 обеспечения и контроля закупок",
"РодительКод": "195000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=195003;<br> Наименование=Группа №3 обеспечения и контроля закупок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=195000<BR>
 Код=195003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746919");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_394)</span><div id='gateway/receive_3_podrazd1514306746919' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "195003",
"Наименование": "Группа №3 обеспечения и контроля закупок",
"РодительКод": "195000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=195003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=195003
OLD_PID=195000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=195000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=195000, name='Группа №3 обеспечения и контроля закупок', is_deleted=0, changed=now() where ID=195003
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746924");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_394)</span><div id='gateway/jinr_setDivParents1514306746924' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=195003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=195000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=195000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=195003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Планово-финансовое бюро / Группа №3 обеспечения и контроля закупок' where id=195003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306746924");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306746919");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_394");'>Request_HR_LHEP_394 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_395");'> Request_HR_LHEP_395 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_395' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=d655b6e4-5972-11e6-9463-0025907d24fa&GateObjectID=3218&ClientObjectID=195002&Time=27.02.2017 12:39:56&Object={
"Код": "195002",
"Наименование": "Группа №2 планово- экономическая",
"РодительКод": "195000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=195002;<br> Наименование=Группа №2 планово- экономическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=195000<BR>
 Код=195002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747013");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_395)</span><div id='gateway/receive_3_podrazd1514306747013' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "195002",
"Наименование": "Группа №2 планово- экономическая",
"РодительКод": "195000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=195002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=195002
OLD_PID=195000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=195000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=195000, name='Группа №2 планово- экономическая', is_deleted=0, changed=now() where ID=195002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747018");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_395)</span><div id='gateway/jinr_setDivParents1514306747018' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=195002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=195000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=195000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=195002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Планово-финансовое бюро / Группа №2 планово- экономическая' where id=195002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747018");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747013");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_395");'>Request_HR_LHEP_395 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_396");'> Request_HR_LHEP_396 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_396' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c4138ff3-5972-11e6-9463-0025907d24fa&GateObjectID=3217&ClientObjectID=195001&Time=27.02.2017 12:39:55&Object={
"Код": "195001",
"Наименование": "Группа №1 материального учета и контроля",
"РодительКод": "195000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=195001;<br> Наименование=Группа №1 материального учета и контроля<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=195000<BR>
 Код=195001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747103");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_396)</span><div id='gateway/receive_3_podrazd1514306747103' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "195001",
"Наименование": "Группа №1 материального учета и контроля",
"РодительКод": "195000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=195001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=195001
OLD_PID=195000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=195000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=195000, name='Группа №1 материального учета и контроля', is_deleted=0, changed=now() where ID=195001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747109");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_396)</span><div id='gateway/jinr_setDivParents1514306747109' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=195001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=195000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=195000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=195001
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Планово-финансовое бюро / Гр. №1 мат. учета и контроля' where id=195001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747109");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747103");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_396");'>Request_HR_LHEP_396 (gateway/receive) DONE! (134ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_397");'> Request_HR_LHEP_397 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_397' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b292-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=1640&ClientObjectID=12000&Time=27.02.2017 12:40:05&Object={
"Код": "012000",
"Наименование": "Служба безопасности",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12000;<br> Наименование=Служба безопасности<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=012000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747263");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_397)</span><div id='gateway/receive_3_podrazd1514306747263' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012000",
"Наименование": "Служба безопасности",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12000
OLD_PID=900000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Служба безопасности', is_deleted=0, changed=now() where ID=012000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747269");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_397)</span><div id='gateway/jinr_setDivParents1514306747269' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ' where id=12000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747269");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747263");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_397");'>Request_HR_LHEP_397 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_398");'> Request_HR_LHEP_398 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_398' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=af953320-2c7f-11e5-943d-0025907d24fa&GateObjectID=1637&ClientObjectID=17000&Time=27.02.2017 12:40:01&Object={
"Код": "017000",
"Наименование": "Отдел капитального строительства",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=17000;<br> Наименование=Отдел капитального строительства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=017000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747369");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_398)</span><div id='gateway/receive_3_podrazd1514306747369' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "017000",
"Наименование": "Отдел капитального строительства",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=017000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=17000
OLD_PID=900000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Отдел капитального строительства', is_deleted=0, changed=now() where ID=017000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747375");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_398)</span><div id='gateway/jinr_setDivParents1514306747375' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=17000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=17000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / Отдел капитального строительства' where id=17000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747375");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747369");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_398");'>Request_HR_LHEP_398 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_399");'> Request_HR_LHEP_399 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_399' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=db1a066f-4895-11e4-9424-0025907d24fa&GateObjectID=1636&ClientObjectID=36000&Time=27.02.2017 12:40:01&Object={
"Код": "036000",
"Наименование": "Служба материально-технического снабжения",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=36000;<br> Наименование=Служба материально-технического снабжения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=036000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747457");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_399)</span><div id='gateway/receive_3_podrazd1514306747457' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "036000",
"Наименование": "Служба материально-технического снабжения",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=036000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=36000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 900000 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Служба материально-технического снабжения', is_deleted=0, changed=now() where ID=036000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747462");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_399)</span><div id='gateway/jinr_setDivParents1514306747462' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=36000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=36000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СМТС' where id=36000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747462");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747457");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_399");'>Request_HR_LHEP_399 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_400");'> Request_HR_LHEP_400 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_400' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=4e3737d8-16ec-11e3-93fd-0025907d24fa&GateObjectID=1635&ClientObjectID=47000&Time=27.02.2017 12:40:02&Object={
"Код": "047000",
"Наименование": "Служба внутреннего аудита",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=47000;<br> Наименование=Служба внутреннего аудита<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=047000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747544");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_400)</span><div id='gateway/receive_3_podrazd1514306747544' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "047000",
"Наименование": "Служба внутреннего аудита",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=047000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=47000
OLD_PID=900000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Служба внутреннего аудита', is_deleted=0, changed=now() where ID=047000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747549");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_400)</span><div id='gateway/jinr_setDivParents1514306747549' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=47000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=47000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / Служба внутреннего аудита' where id=47000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747549");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747544");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_400");'>Request_HR_LHEP_400 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_401");'> Request_HR_LHEP_401 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_401' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f12555f1-b86a-11e6-9470-0025907d24fa&GateObjectID=46158&ClientObjectID=171011&Time=27.02.2017 12:40:08&Object={
"Код": "171011",
"Наименование": "Группа №1 сверхпроводящих магнитов",
"РодительКод": "171010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=171011;<br> Наименование=Группа №1 сверхпроводящих магнитов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=171010<BR>
 Код=171011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747633");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_401)</span><div id='gateway/receive_3_podrazd1514306747633' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "171011",
"Наименование": "Группа №1 сверхпроводящих магнитов",
"РодительКод": "171010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=171011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=171011
OLD_PID=171010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=171010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=171010, name='Группа №1 сверхпроводящих магнитов', is_deleted=0, changed=now() where ID=171011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747639");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_401)</span><div id='gateway/jinr_setDivParents1514306747639' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=171011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=171010
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=171010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=171011
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Конструкторский отдел / Конструкторское бюро №1 / Группа №1 сверхпроводящих магнитов' where id=171011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747639");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747633");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_401");'>Request_HR_LHEP_401 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_402");'> Request_HR_LHEP_402 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_402' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94b8-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115384&ClientObjectID=142032&Time=27.02.2017 12:40:07&Object={
"Код": "142032",
"Наименование": "Группа №2 экспериментально-методической поддержки",
"РодительКод": "142030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142032;<br> Наименование=Группа №2 экспериментально-методической поддержки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=142030<BR>
 Код=142032<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747726");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_402)</span><div id='gateway/receive_3_podrazd1514306747726' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142032",
"Наименование": "Группа №2 экспериментально-методической поддержки",
"РодительКод": "142030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142032
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142032
OLD_PID=142030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=142030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=142030, name='Группа №2 экспериментально-методической поддержки', is_deleted=0, changed=now() where ID=142032
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747732");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_402)</span><div id='gateway/jinr_setDivParents1514306747732' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142032
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=142030
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=142030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142032
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC / Сектор №3 теоретической и методической поддержки проектов / Группа №2 экспериментально-методической поддержки' where id=142032
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747732");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747726");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_402");'>Request_HR_LHEP_402 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_403");'> Request_HR_LHEP_403 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_403' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2ccae95e-5b9f-11e5-9445-0025907d24fa&GateObjectID=115393&ClientObjectID=312030&Time=27.02.2017 12:39:55&Object={
"Код": "312030",
"Наименование": "Сектор №3 квантовой гравитации, космологии и струн",
"РодительКод": "312000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=312030;<br> Наименование=Сектор №3 квантовой гравитации, космологии и струн<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=312000<BR>
 Код=312030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747831");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_403)</span><div id='gateway/receive_3_podrazd1514306747831' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "312030",
"Наименование": "Сектор №3 квантовой гравитации, космологии и струн",
"РодительКод": "312000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=312030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=312030
OLD_PID=312000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=312000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=312000, name='Сектор №3 квантовой гравитации, космологии и струн', is_deleted=0, changed=now() where ID=312030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747837");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_403)</span><div id='gateway/jinr_setDivParents1514306747837' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=312030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=312000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=312000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=312030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел современной математической физики / Сектор №3 квантовой гравитации, космологии и струн' where id=312030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747837");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747831");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_403");'>Request_HR_LHEP_403 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_404");'> Request_HR_LHEP_404 [26.12 19:45:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_404' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=90248f34-295a-11e6-945e-0025907d24fa&GateObjectID=115392&ClientObjectID=1000&Time=27.02.2017 12:40:00&Object={
"Код": "001000",
"Наименование": "Аппарат директора Института",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=1000;<br> Наименование=Аппарат директора Института<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=001000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747924");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_404)</span><div id='gateway/receive_3_podrazd1514306747924' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "001000",
"Наименование": "Аппарат директора Института",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=001000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=1000
OLD_PID=900000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='Аппарат директора Института', is_deleted=0, changed=now() where ID=001000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747930");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_404)</span><div id='gateway/jinr_setDivParents1514306747930' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=1000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=1000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / Аппарат директора Института' where id=1000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306747930");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306747924");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_404");'>Request_HR_LHEP_404 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_405");'> Request_HR_LHEP_405 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_405' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b28c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115390&ClientObjectID=80000&Time=27.02.2017 12:40:03&Object={
"Код": "080000",
"Наименование": "УПиИР",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=80000;<br> Наименование=УПиИР<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=080000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748024");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_405)</span><div id='gateway/receive_3_podrazd1514306748024' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "080000",
"Наименование": "УПиИР",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=080000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=80000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 900000 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='УПиИР', is_deleted=0, changed=now() where ID=080000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748032");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_405)</span><div id='gateway/jinr_setDivParents1514306748032' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=80000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР' where id=80000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748032");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748024");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_405");'>Request_HR_LHEP_405 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_406");'> Request_HR_LHEP_406 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_406' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b29f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115389&ClientObjectID=35000&Time=27.02.2017 12:40:04&Object={
"Код": "035000",
"Наименование": "УНОРиМС",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=35000;<br> Наименование=УНОРиМС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=035000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748128");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_406)</span><div id='gateway/receive_3_podrazd1514306748128' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "035000",
"Наименование": "УНОРиМС",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=035000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=35000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 900000 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='УНОРиМС', is_deleted=0, changed=now() where ID=035000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748134");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_406)</span><div id='gateway/jinr_setDivParents1514306748134' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=35000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС' where id=35000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748134");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748128");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_406");'>Request_HR_LHEP_406 (gateway/receive) DONE! (98ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_407");'> Request_HR_LHEP_407 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_407' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b29e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115388&ClientObjectID=30000&Time=27.02.2017 12:40:04&Object={
"Код": "030000",
"Наименование": "ФЭУ",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=30000;<br> Наименование=ФЭУ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=030000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748253");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_407)</span><div id='gateway/receive_3_podrazd1514306748253' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "030000",
"Наименование": "ФЭУ",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=030000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=30000
OLD_PID=900000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='ФЭУ', is_deleted=0, changed=now() where ID=030000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748260");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_407)</span><div id='gateway/jinr_setDivParents1514306748260' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=30000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=30000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ' where id=30000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748260");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748253");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_407");'>Request_HR_LHEP_407 (gateway/receive) DONE! (95ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_408");'> Request_HR_LHEP_408 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_408' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b29c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115387&ClientObjectID=55000&Time=27.02.2017 12:40:05&Object={
"Код": "055000",
"Наименование": "УХОиКС",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=55000;<br> Наименование=УХОиКС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=900000<BR>
 Код=055000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748350");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_408)</span><div id='gateway/receive_3_podrazd1514306748350' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "055000",
"Наименование": "УХОиКС",
"РодительКод": "900000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=055000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=55000
OLD_PID=900000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=900000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 900000 => 900000</b>;<br><b>Сохранен старый РодительКод=900000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=900000, name='УХОиКС', is_deleted=0, changed=now() where ID=055000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748356");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_408)</span><div id='gateway/jinr_setDivParents1514306748356' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=55000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=900000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=900000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=55000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС' where id=55000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748356");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748350");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_408");'>Request_HR_LHEP_408 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_409");'> Request_HR_LHEP_409 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_409' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94b7-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115386&ClientObjectID=142031&Time=27.02.2017 12:40:06&Object={
"Код": "142031",
"Наименование": "Группа №1 теоретической и экспериментальной поддержки",
"РодительКод": "142030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142031;<br> Наименование=Группа №1 теоретической и экспериментальной поддержки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=142030<BR>
 Код=142031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748444");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_409)</span><div id='gateway/receive_3_podrazd1514306748444' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142031",
"Наименование": "Группа №1 теоретической и экспериментальной поддержки",
"РодительКод": "142030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142031
OLD_PID=142030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=142030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=142030, name='Группа №1 теоретической и экспериментальной поддержки', is_deleted=0, changed=now() where ID=142031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748450");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_409)</span><div id='gateway/jinr_setDivParents1514306748450' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=142030
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=142030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142031
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC / Сектор №3 теоретической и методической поддержки проектов / Группа №1 теоретической и экспериментальной поддержки' where id=142031
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748450");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748444");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_409");'>Request_HR_LHEP_409 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_410");'> Request_HR_LHEP_410 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_410' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94b9-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115385&ClientObjectID=142033&Time=27.02.2017 12:40:07&Object={
"Код": "142033",
"Наименование": "Группа №3 реконструкции, систематизации и анализа экспериментальных данных",
"РодительКод": "142030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142033;<br> Наименование=Группа №3 реконструкции, систематизации и анализа экспериментальных данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=142030<BR>
 Код=142033<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748535");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_410)</span><div id='gateway/receive_3_podrazd1514306748535' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142033",
"Наименование": "Группа №3 реконструкции, систематизации и анализа экспериментальных данных",
"РодительКод": "142030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142033
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142033
OLD_PID=142030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=142030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=142030, name='Группа №3 реконструкции, систематизации и анализа экспериментальных данных', is_deleted=0, changed=now() where ID=142033
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748542");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_410)</span><div id='gateway/jinr_setDivParents1514306748542' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142033
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=142030
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=142030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142033
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC / Сектор №3 теоретической и методической поддержки проектов / Группа №3 реконструкции, систематизации и анализа экспериментальных данных' where id=142033
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748542");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (16ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748535");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (23ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_410");'>Request_HR_LHEP_410 (gateway/receive) DONE! (140ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_411");'> Request_HR_LHEP_411 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_411' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=014f4ce0-e7c2-11e3-9416-0025907d24fa&GateObjectID=115372&ClientObjectID=999072&Time=27.02.2017 12:40:15&Object={
"Код": "999072",
"Наименование": "Культсектор",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999072;<br> Наименование=Культсектор<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999070<BR>
 Код=999072<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748692");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_411)</span><div id='gateway/receive_3_podrazd1514306748692' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999072",
"Наименование": "Культсектор",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999072
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999072
OLD_PID=999070
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999070, name='Культсектор', is_deleted=0, changed=now() where ID=999072
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748698");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_411)</span><div id='gateway/jinr_setDivParents1514306748698' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999072
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999070
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999072
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал / Культсектор' where id=999072
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748698");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748692");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_411");'>Request_HR_LHEP_411 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_412");'> Request_HR_LHEP_412 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_412' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=e20dd84d-e7c1-11e3-9416-0025907d24fa&GateObjectID=115371&ClientObjectID=999073&Time=27.02.2017 12:40:15&Object={
"Код": "999073",
"Наименование": "Медицинское отделение",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999073;<br> Наименование=Медицинское отделение<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999070<BR>
 Код=999073<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748781");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_412)</span><div id='gateway/receive_3_podrazd1514306748781' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999073",
"Наименование": "Медицинское отделение",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999073
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999073
OLD_PID=999070
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999070, name='Медицинское отделение', is_deleted=0, changed=now() where ID=999073
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748787");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_412)</span><div id='gateway/jinr_setDivParents1514306748787' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999073
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999070
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999073
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал / Медицинское отделение' where id=999073
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748787");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748781");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_412");'>Request_HR_LHEP_412 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_413");'> Request_HR_LHEP_413 [26.12 19:45:48] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_413' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=268f03da-e7c2-11e3-9416-0025907d24fa&GateObjectID=115370&ClientObjectID=999074&Time=27.02.2017 12:40:16&Object={
"Код": "999074",
"Наименование": "Хозяйственный персонал",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999074;<br> Наименование=Хозяйственный персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999070<BR>
 Код=999074<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748869");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_413)</span><div id='gateway/receive_3_podrazd1514306748869' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999074",
"Наименование": "Хозяйственный персонал",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999074
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999074
OLD_PID=999070
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999070, name='Хозяйственный персонал', is_deleted=0, changed=now() where ID=999074
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748874");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_413)</span><div id='gateway/jinr_setDivParents1514306748874' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999074
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999070
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999074
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал / Хозяйственный персонал' where id=999074
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306748874");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306748869");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_413");'>Request_HR_LHEP_413 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_414");'> Request_HR_LHEP_414 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_414' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844825-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115369&ClientObjectID=62021&Time=27.02.2017 12:40:17&Object={
"Код": "062021",
"Наименование": "Ресторан \"Дубна\"",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62021;<br> Наименование=Ресторан "Дубна"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062020<BR>
 Код=062021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749007");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_414)</span><div id='gateway/receive_3_podrazd1514306749007' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062021",
"Наименование": "Ресторан \"Дубна\"",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62021
OLD_PID=62020
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062020, name='Ресторан "Дубна"', is_deleted=0, changed=now() where ID=062021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749013");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_414)</span><div id='gateway/jinr_setDivParents1514306749013' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62021
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Ресторанный комплекс "Дубна" / Ресторан "Дубна"  ' where id=62021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749013");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749007");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_414");'>Request_HR_LHEP_414 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_415");'> Request_HR_LHEP_415 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_415' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=3ffc38f7-e7c2-11e3-9416-0025907d24fa&GateObjectID=115368&ClientObjectID=999075&Time=27.02.2017 12:40:17&Object={
"Код": "999075",
"Наименование": "Автотранспорт",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999075;<br> Наименование=Автотранспорт<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999070<BR>
 Код=999075<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749098");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_415)</span><div id='gateway/receive_3_podrazd1514306749098' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999075",
"Наименование": "Автотранспорт",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999075
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999075
OLD_PID=999070
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999070, name='Автотранспорт', is_deleted=0, changed=now() where ID=999075
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749105");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_415)</span><div id='gateway/jinr_setDivParents1514306749105' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999075
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999070
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999075
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал / Автотранспорт' where id=999075
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749105");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749098");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_415");'>Request_HR_LHEP_415 (gateway/receive) DONE! (179ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_416");'> Request_HR_LHEP_416 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_416' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844829-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115367&ClientObjectID=62023&Time=27.02.2017 12:40:18&Object={
"Код": "062023",
"Наименование": "Кафе Дома ученых",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62023;<br> Наименование=Кафе Дома ученых<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062020<BR>
 Код=062023<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749305");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_416)</span><div id='gateway/receive_3_podrazd1514306749305' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062023",
"Наименование": "Кафе Дома ученых",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062023
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62023
OLD_PID=62020
is_manual=0</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062020, name='Кафе Дома ученых', is_deleted=0, changed=now() where ID=062023
</xmp> DONE! 1 record(s) affected------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749321");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_416)</span><div id='gateway/jinr_setDivParents1514306749321' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62023
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62020
LEV_OLD=5</xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62023
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Ресторанный комплекс "Дубна" / Кафе Дома ученых  ' where id=62023
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749321");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (16ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749305");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (32ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_416");'>Request_HR_LHEP_416 (gateway/receive) DONE! (116ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_417");'> Request_HR_LHEP_417 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_417' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844828-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115366&ClientObjectID=62022&Time=27.02.2017 12:40:18&Object={
"Код": "062022",
"Наименование": "Кафе ДМС",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62022;<br> Наименование=Кафе ДМС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062020<BR>
 Код=062022<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749413");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_417)</span><div id='gateway/receive_3_podrazd1514306749413' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062022",
"Наименование": "Кафе ДМС",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062022
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62022
OLD_PID=62020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062020, name='Кафе ДМС', is_deleted=0, changed=now() where ID=062022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749419");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_417)</span><div id='gateway/jinr_setDivParents1514306749419' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62022
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62022
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Ресторанный комплекс "Дубна" / Кафе ДМС' where id=62022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749419");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749413");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_417");'>Request_HR_LHEP_417 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_418");'> Request_HR_LHEP_418 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_418' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb5d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115383&ClientObjectID=191000&Time=27.02.2017 12:40:08&Object={
"Код": "191000",
"Наименование": "Административное бюро",
"РодительКод": "190000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=191000;<br> Наименование=Административное бюро<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=190000<BR>
 Код=191000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749501");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_418)</span><div id='gateway/receive_3_podrazd1514306749501' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "191000",
"Наименование": "Административное бюро",
"РодительКод": "190000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=191000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=191000
OLD_PID=190000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=190000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=190000, name='Административное бюро', is_deleted=0, changed=now() where ID=191000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749507");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_418)</span><div id='gateway/jinr_setDivParents1514306749507' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=191000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=190000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=190000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=191000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение / Административное бюро' where id=191000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749507");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749501");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_418");'>Request_HR_LHEP_418 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_419");'> Request_HR_LHEP_419 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_419' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=db01b914-d89a-11e6-9472-0025907d24fa&GateObjectID=115373&ClientObjectID=999076&Time=27.02.2017 12:40:14&Object={
"Код": "999076",
"Наименование": "СПА комплекс",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999076;<br> Наименование=СПА комплекс<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999070<BR>
 Код=999076<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749598");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_419)</span><div id='gateway/receive_3_podrazd1514306749598' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999076",
"Наименование": "СПА комплекс",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999076
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999076
OLD_PID=999070
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999070, name='СПА комплекс', is_deleted=0, changed=now() where ID=999076
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749604");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_419)</span><div id='gateway/jinr_setDivParents1514306749604' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999076
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999070
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999076
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал / СПА комплекс' where id=999076
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749604");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749598");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_419");'>Request_HR_LHEP_419 (gateway/receive) DONE! (187ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_420");'> Request_HR_LHEP_420 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_420' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb69-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115382&ClientObjectID=192000&Time=27.02.2017 12:40:09&Object={
"Код": "192000",
"Наименование": "Хозяйственный отдел",
"РодительКод": "190000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=192000;<br> Наименование=Хозяйственный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=190000<BR>
 Код=192000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749795");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_420)</span><div id='gateway/receive_3_podrazd1514306749795' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "192000",
"Наименование": "Хозяйственный отдел",
"РодительКод": "190000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=192000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=192000
OLD_PID=190000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=190000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=190000, name='Хозяйственный отдел', is_deleted=0, changed=now() where ID=192000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749800");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_420)</span><div id='gateway/jinr_setDivParents1514306749800' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=192000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=190000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=190000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=192000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение / Хозяйственный отдел' where id=192000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749800");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749795");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_420");'>Request_HR_LHEP_420 (gateway/receive) DONE! (97ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_421");'> Request_HR_LHEP_421 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_421' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e3-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115381&ClientObjectID=213031&Time=27.02.2017 12:40:10&Object={
"Код": "213031",
"Наименование": "Группа №1 фотоэмульсионная",
"РодительКод": "213030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213031;<br> Наименование=Группа №1 фотоэмульсионная<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=213030<BR>
 Код=213031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749904");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_421)</span><div id='gateway/receive_3_podrazd1514306749904' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213031",
"Наименование": "Группа №1 фотоэмульсионная",
"РодительКод": "213030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213031
OLD_PID=213030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=213030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=213030, name='Группа №1 фотоэмульсионная', is_deleted=0, changed=now() where ID=213031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749911");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_421)</span><div id='gateway/jinr_setDivParents1514306749911' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=213030
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=213030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213031
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц / Сектор №3 экспериментальной нейтринной физики / Группа №1 фотоэмульсионная' where id=213031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306749911");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749904");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_421");'>Request_HR_LHEP_421 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_422");'> Request_HR_LHEP_422 [26.12 19:45:49] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_422' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d4-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115380&ClientObjectID=204051&Time=27.02.2017 12:40:09&Object={
"Код": "204051",
"Наименование": "Группа №1 органических сцинтилляционных детекторов",
"РодительКод": "204050",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204051;<br> Наименование=Группа №1 органических сцинтилляционных детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204050<BR>
 Код=204051<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749997");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_422)</span><div id='gateway/receive_3_podrazd1514306749997' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204051",
"Наименование": "Группа №1 органических сцинтилляционных детекторов",
"РодительКод": "204050",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204051
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204051
OLD_PID=204050
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204050 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204050, name='Группа №1 органических сцинтилляционных детекторов', is_deleted=0, changed=now() where ID=204051
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750003");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_422)</span><div id='gateway/jinr_setDivParents1514306750003' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204051
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204050
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204050
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204051
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №5 полупроводниковых и сцинтилляционных детекторов / Группа №1 органических сцинтилляционных детекторов' where id=204051
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750003");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306749997");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_422");'>Request_HR_LHEP_422 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_423");'> Request_HR_LHEP_423 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_423' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac342-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115379&ClientObjectID=531071&Time=27.02.2017 12:40:11&Object={
"Код": "531071",
"Наименование": "Группа №1 исследовательских и проектных работ",
"РодительКод": "531070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531071;<br> Наименование=Группа №1 исследовательских и проектных работ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531070<BR>
 Код=531071<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750088");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_423)</span><div id='gateway/receive_3_podrazd1514306750088' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531071",
"Наименование": "Группа №1 исследовательских и проектных работ",
"РодительКод": "531070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531071
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531071
OLD_PID=531070
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531070, name='Группа №1 исследовательских и проектных работ', is_deleted=0, changed=now() where ID=531071
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750093");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_423)</span><div id='gateway/jinr_setDivParents1514306750093' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531071
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531070
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531071
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Сектор физики ускорителей / Группа №1 исследовательских и проектных работ' where id=531071
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750093");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750088");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_423");'>Request_HR_LHEP_423 (gateway/receive) DONE! (102ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_424");'> Request_HR_LHEP_424 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_424' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94f1-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115378&ClientObjectID=248021&Time=27.02.2017 12:40:11&Object={
"Код": "248021",
"Наименование": "Группа №1 физики экзотических ядерных реакций",
"РодительКод": "248020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248021;<br> Наименование=Группа №1 физики экзотических ядерных реакций<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=248020<BR>
 Код=248021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750202");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_424)</span><div id='gateway/receive_3_podrazd1514306750202' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248021",
"Наименование": "Группа №1 физики экзотических ядерных реакций",
"РодительКод": "248020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248021
OLD_PID=248020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=248020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=248020, name='Группа №1 физики экзотических ядерных реакций', is_deleted=0, changed=now() where ID=248021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750209");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_424)</span><div id='gateway/jinr_setDivParents1514306750209' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=248020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=248020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248021
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий / Сектор №2 исследования вещества мюонами / Группа №1 физики экзотических ядерных реакций' where id=248021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750209");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750202");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_424");'>Request_HR_LHEP_424 (gateway/receive) DONE! (98ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_425");'> Request_HR_LHEP_425 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_425' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac348-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115377&ClientObjectID=540021&Time=27.02.2017 12:40:12&Object={
"Код": "540021",
"Наименование": "Механический участок",
"РодительКод": "540020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=540021;<br> Наименование=Механический участок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=540020<BR>
 Код=540021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750318");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_425)</span><div id='gateway/receive_3_podrazd1514306750318' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "540021",
"Наименование": "Механический участок",
"РодительКод": "540020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=540021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=540021
OLD_PID=540020
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=540020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=540020, name='Механический участок', is_deleted=0, changed=now() where ID=540021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750326");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_425)</span><div id='gateway/jinr_setDivParents1514306750326' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=540021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=540020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=540020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=540021
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Производственно – технологический хозрасчетный отдел  ЛЯР / Отделение опытно-экспериментального производства / Механический участок' where id=540021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750326");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750318");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_425");'>Request_HR_LHEP_425 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_426");'> Request_HR_LHEP_426 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_426' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac343-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115376&ClientObjectID=531072&Time=27.02.2017 12:40:12&Object={
"Код": "531072",
"Наименование": "Группа №2  расчетно-технологическая",
"РодительКод": "531070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531072;<br> Наименование=Группа №2  расчетно-технологическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531070<BR>
 Код=531072<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750416");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_426)</span><div id='gateway/receive_3_podrazd1514306750416' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531072",
"Наименование": "Группа №2  расчетно-технологическая",
"РодительКод": "531070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531072
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531072
OLD_PID=531070
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531070, name='Группа №2  расчетно-технологическая', is_deleted=0, changed=now() where ID=531072
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750422");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_426)</span><div id='gateway/jinr_setDivParents1514306750422' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531072
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531070
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531072
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Сектор физики ускорителей / Группа №2  расчетно-технологическая' where id=531072
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750422");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750416");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_426");'>Request_HR_LHEP_426 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_427");'> Request_HR_LHEP_427 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_427' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac349-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115375&ClientObjectID=540022&Time=27.02.2017 12:40:13&Object={
"Код": "540022",
"Наименование": "Слесарный участок",
"РодительКод": "540020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=540022;<br> Наименование=Слесарный участок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=540020<BR>
 Код=540022<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750514");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_427)</span><div id='gateway/receive_3_podrazd1514306750514' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "540022",
"Наименование": "Слесарный участок",
"РодительКод": "540020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=540022
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=540022
OLD_PID=540020
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=540020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=540020, name='Слесарный участок', is_deleted=0, changed=now() where ID=540022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750520");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_427)</span><div id='gateway/jinr_setDivParents1514306750520' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=540022
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=540020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=540020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=540022
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Производственно – технологический хозрасчетный отдел  ЛЯР / Отделение опытно-экспериментального производства / Слесарный участок' where id=540022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750520");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750514");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_427");'>Request_HR_LHEP_427 (gateway/receive) DONE! (113ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_428");'> Request_HR_LHEP_428 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_428' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f28-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115353&ClientObjectID=111021&Time=27.02.2017 12:40:27&Object={
"Код": "111021",
"Наименование": "Группа №1 разработки программного обеспечения",
"РодительКод": "111020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=111021;<br> Наименование=Группа №1 разработки программного обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=111020<BR>
 Код=111021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750630");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_428)</span><div id='gateway/receive_3_podrazd1514306750630' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "111021",
"Наименование": "Группа №1 разработки программного обеспечения",
"РодительКод": "111020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=111021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=111021
OLD_PID=111020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=111020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=111020, name='Группа №1 разработки программного обеспечения', is_deleted=0, changed=now() where ID=111021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750636");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_428)</span><div id='gateway/jinr_setDivParents1514306750636' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=111021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=111020
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=111020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=111021
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел ускорительных систем   / Сектор №2 автоматизации и управления / Группа №1 разработки программного обеспечения ' where id=111021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750636");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750630");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_428");'>Request_HR_LHEP_428 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_429");'> Request_HR_LHEP_429 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_429' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b223-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115352&ClientObjectID=142000&Time=27.02.2017 12:40:27&Object={
"Код": "142000",
"Наименование": "Научно-экспериментальный отдел физики тяжелых ионов на LHC",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142000;<br> Наименование=Научно-экспериментальный отдел физики тяжелых ионов на LHC<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=140000<BR>
 Код=142000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750722");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_429)</span><div id='gateway/receive_3_podrazd1514306750722' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142000",
"Наименование": "Научно-экспериментальный отдел физики тяжелых ионов на LHC",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142000
OLD_PID=140000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=140000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=140000, name='Научно-экспериментальный отдел физики тяжелых ионов на LHC', is_deleted=0, changed=now() where ID=142000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750727");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_429)</span><div id='gateway/jinr_setDivParents1514306750727' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=140000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=140000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC' where id=142000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750727");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750722");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_429");'>Request_HR_LHEP_429 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_430");'> Request_HR_LHEP_430 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_430' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f2a-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115351&ClientObjectID=112011&Time=27.02.2017 12:40:28&Object={
"Код": "112011",
"Наименование": "Группа №1 импульсных систем питания",
"РодительКод": "112010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=112011;<br> Наименование=Группа №1 импульсных систем питания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=112010<BR>
 Код=112011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750816");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_430)</span><div id='gateway/receive_3_podrazd1514306750816' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "112011",
"Наименование": "Группа №1 импульсных систем питания",
"РодительКод": "112010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=112011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=112011
OLD_PID=112010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=112010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=112010, name='Группа №1 импульсных систем питания', is_deleted=0, changed=now() where ID=112011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750823");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_430)</span><div id='gateway/jinr_setDivParents1514306750823' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=112011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=112010
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=112010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=112011
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инженерно-физических проблем ускорителей / Сектор №1 импульсных систем   / Группа №1 импульсных систем питания' where id=112011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750823");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750816");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_430");'>Request_HR_LHEP_430 (gateway/receive) DONE! (106ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_431");'> Request_HR_LHEP_431 [26.12 19:45:50] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_431' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f2e-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115350&ClientObjectID=113011&Time=27.02.2017 12:40:29&Object={
"Код": "113011",
"Наименование": "Группа №1 автоматизации ускорителя",
"РодительКод": "113010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113011;<br> Наименование=Группа №1 автоматизации ускорителя<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113010<BR>
 Код=113011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750954");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_431)</span><div id='gateway/receive_3_podrazd1514306750954' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113011",
"Наименование": "Группа №1 автоматизации ускорителя",
"РодительКод": "113010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113011
OLD_PID=113010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113010, name='Группа №1 автоматизации ускорителя', is_deleted=0, changed=now() where ID=113011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750960");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_431)</span><div id='gateway/jinr_setDivParents1514306750960' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113010
LEV_OLD=6</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №1 динамики и вывода пучка / Группа №1 автоматизации ускорителя' where id=113011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306750960");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306750954");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_431");'>Request_HR_LHEP_431 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_432");'> Request_HR_LHEP_432 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_432' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f31-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115347&ClientObjectID=113031&Time=27.02.2017 12:40:30&Object={
"Код": "113031",
"Наименование": "Группа №1 физико-техническая",
"РодительКод": "113030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113031;<br> Наименование=Группа №1 физико-техническая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113030<BR>
 Код=113031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751060");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_432)</span><div id='gateway/receive_3_podrazd1514306751060' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113031",
"Наименование": "Группа №1 физико-техническая",
"РодительКод": "113030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113031
OLD_PID=113030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113030, name='Группа №1 физико-техническая', is_deleted=0, changed=now() where ID=113031
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751067");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_432)</span><div id='gateway/jinr_setDivParents1514306751067' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113030
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113031
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №3 систем управления и диагностики ускорительных установок  / Группа №1 физико-техническая' where id=113031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751067");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751060");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_432");'>Request_HR_LHEP_432 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_433");'> Request_HR_LHEP_433 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_433' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f2c-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115349&ClientObjectID=112021&Time=27.02.2017 12:40:28&Object={
"Код": "112021",
"Наименование": "Группа №1 линейных индукционных ускорителей",
"РодительКод": "112020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=112021;<br> Наименование=Группа №1 линейных индукционных ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=112020<BR>
 Код=112021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751155");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_433)</span><div id='gateway/receive_3_podrazd1514306751155' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "112021",
"Наименование": "Группа №1 линейных индукционных ускорителей",
"РодительКод": "112020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=112021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=112021
OLD_PID=112020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=112020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=112020, name='Группа №1 линейных индукционных ускорителей', is_deleted=0, changed=now() where ID=112021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751161");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_433)</span><div id='gateway/jinr_setDivParents1514306751161' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=112021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=112020
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=112020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=112021
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инженерно-физических проблем ускорителей / Сектор №2 лазеров на свободных электронах  / Группа №1 линейных индукционных ускорителей ' where id=112021
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751161");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751155");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_433");'>Request_HR_LHEP_433 (gateway/receive) DONE! (147ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_434");'> Request_HR_LHEP_434 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_434' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f32-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115348&ClientObjectID=113032&Time=27.02.2017 12:40:30&Object={
"Код": "113032",
"Наименование": "Группа №2 автоматизации ускорительных установок",
"РодительКод": "113030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113032;<br> Наименование=Группа №2 автоматизации ускорительных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113030<BR>
 Код=113032<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751325");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_434)</span><div id='gateway/receive_3_podrazd1514306751325' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113032",
"Наименование": "Группа №2 автоматизации ускорительных установок",
"РодительКод": "113030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113032
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113032
OLD_PID=113030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113030, name='Группа №2 автоматизации ускорительных установок', is_deleted=0, changed=now() where ID=113032
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751333");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_434)</span><div id='gateway/jinr_setDivParents1514306751333' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113032
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113030
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113032
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №3 систем управления и диагностики ускорительных установок  / Группа №2 автоматизации ускорительных установок  ' where id=113032
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751333");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751325");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_434");'>Request_HR_LHEP_434 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_435");'> Request_HR_LHEP_435 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_435' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb63-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115355&ClientObjectID=141000&Time=27.02.2017 12:40:25&Object={
"Код": "141000",
"Наименование": "Научно-экспериментальный отдел физики тяжелых ионов на RHIC",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=141000;<br> Наименование=Научно-экспериментальный отдел физики тяжелых ионов на RHIC<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=140000<BR>
 Код=141000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751422");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_435)</span><div id='gateway/receive_3_podrazd1514306751422' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "141000",
"Наименование": "Научно-экспериментальный отдел физики тяжелых ионов на RHIC",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=141000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=141000
OLD_PID=140000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=140000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=140000, name='Научно-экспериментальный отдел физики тяжелых ионов на RHIC', is_deleted=0, changed=now() where ID=141000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751429");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_435)</span><div id='gateway/jinr_setDivParents1514306751429' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=141000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=140000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=140000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=141000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на RHIC' where id=141000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751429");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751422");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_435");'>Request_HR_LHEP_435 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_436");'> Request_HR_LHEP_436 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_436' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9b0b5236-ddfc-11e4-9436-0025907d24fa&GateObjectID=115357&ClientObjectID=64051&Time=27.02.2017 12:40:24&Object={
"Код": "064051",
"Наименование": "Общежитие №1",
"РодительКод": "064050",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64051;<br> Наименование=Общежитие №1<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064050<BR>
 Код=064051<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751514");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_436)</span><div id='gateway/receive_3_podrazd1514306751514' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064051",
"Наименование": "Общежитие №1",
"РодительКод": "064050",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064051
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64051
OLD_PID=64050
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064050 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064050, name='Общежитие №1', is_deleted=0, changed=now() where ID=064051
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751520");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_436)</span><div id='gateway/jinr_setDivParents1514306751520' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64051
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=64050
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=64050
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64051
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства / Группа обслуживания общежитий  / Общежитие №1' where id=64051
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751520");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751514");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_436");'>Request_HR_LHEP_436 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_437");'> Request_HR_LHEP_437 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_437' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=78d453f7-ddfc-11e4-9436-0025907d24fa&GateObjectID=115363&ClientObjectID=62025&Time=27.02.2017 12:40:19&Object={
"Код": "062025",
"Наименование": "Кафе \"Дубна\"",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62025;<br> Наименование=Кафе "Дубна"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062020<BR>
 Код=062025<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751617");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_437)</span><div id='gateway/receive_3_podrazd1514306751617' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062025",
"Наименование": "Кафе \"Дубна\"",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062025
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62025
OLD_PID=62020
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062020, name='Кафе "Дубна"', is_deleted=0, changed=now() where ID=062025
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751624");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_437)</span><div id='gateway/jinr_setDivParents1514306751624' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62025
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62020
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62025
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Ресторанный комплекс "Дубна" / Кафе "Дубна"' where id=62025
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751624");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751617");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_437");'>Request_HR_LHEP_437 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_438");'> Request_HR_LHEP_438 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_438' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084482f-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115364&ClientObjectID=62033&Time=27.02.2017 12:40:20&Object={
"Код": "062033",
"Наименование": "Буфет ЛФВЭ, ЛИТ, ЛТФ, ЛНФ",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62033;<br> Наименование=Буфет ЛФВЭ, ЛИТ, ЛТФ, ЛНФ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062030<BR>
 Код=062033<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751718");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_438)</span><div id='gateway/receive_3_podrazd1514306751718' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062033",
"Наименование": "Буфет ЛФВЭ, ЛИТ, ЛТФ, ЛНФ",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062033
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62033
OLD_PID=62030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062030, name='Буфет ЛФВЭ, ЛИТ, ЛТФ, ЛНФ', is_deleted=0, changed=now() where ID=062033
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751726");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_438)</span><div id='gateway/jinr_setDivParents1514306751726' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62033
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62030
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62033
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Объединение столовых / Буфет ЛФВЭ, ЛИТ, ЛТФ, ЛНФ' where id=62033
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751726");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751718");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_438");'>Request_HR_LHEP_438 (gateway/receive) DONE! (93ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_439");'> Request_HR_LHEP_439 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_439' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9209c016-e7c1-11e3-9416-0025907d24fa&GateObjectID=115374&ClientObjectID=999071&Time=27.02.2017 12:40:14&Object={
"Код": "999071",
"Наименование": "Кухня и столовая",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999071;<br> Наименование=Кухня и столовая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999070<BR>
 Код=999071<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751814");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_439)</span><div id='gateway/receive_3_podrazd1514306751814' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999071",
"Наименование": "Кухня и столовая",
"РодительКод": "999070",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999071
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999071
OLD_PID=999070
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999070 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999070, name='Кухня и столовая', is_deleted=0, changed=now() where ID=999071
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751820");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_439)</span><div id='gateway/jinr_setDivParents1514306751820' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999071
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999070
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999071
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал / Кухня и столовая' where id=999071
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751820");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751814");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_439");'>Request_HR_LHEP_439 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_440");'> Request_HR_LHEP_440 [26.12 19:45:51] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_440' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084482a-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115365&ClientObjectID=62024&Time=27.02.2017 12:40:19&Object={
"Код": "062024",
"Наименование": "Кафе \"Гриль\"",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62024;<br> Наименование=Кафе "Гриль"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062020<BR>
 Код=062024<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751906");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_440)</span><div id='gateway/receive_3_podrazd1514306751906' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062024",
"Наименование": "Кафе \"Гриль\"",
"РодительКод": "062020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062024
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62024
OLD_PID=62020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062020, name='Кафе "Гриль"', is_deleted=0, changed=now() where ID=062024
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751912");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_440)</span><div id='gateway/jinr_setDivParents1514306751912' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62024
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62024
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Ресторанный комплекс "Дубна" / Кафе "Гриль"' where id=62024
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306751912");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306751906");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_440");'>Request_HR_LHEP_440 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_441");'> Request_HR_LHEP_441 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_441' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844831-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115362&ClientObjectID=62035&Time=27.02.2017 12:40:21&Object={
"Код": "062035",
"Наименование": "Кафетерий ЛЯР",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62035;<br> Наименование=Кафетерий ЛЯР<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062030<BR>
 Код=062035<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752011");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_441)</span><div id='gateway/receive_3_podrazd1514306752011' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062035",
"Наименование": "Кафетерий ЛЯР",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062035
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62035
OLD_PID=62030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062030, name='Кафетерий ЛЯР', is_deleted=0, changed=now() where ID=062035
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752017");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_441)</span><div id='gateway/jinr_setDivParents1514306752017' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62035
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62030
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62035
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Объединение столовых / Кафетерий ЛЯР ' where id=62035
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752017");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752011");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_441");'>Request_HR_LHEP_441 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_442");'> Request_HR_LHEP_442 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_442' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844830-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115361&ClientObjectID=62034&Time=27.02.2017 12:40:21&Object={
"Код": "062034",
"Наименование": "Кафетерий ЛНФ",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62034;<br> Наименование=Кафетерий ЛНФ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062030<BR>
 Код=062034<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752096");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_442)</span><div id='gateway/receive_3_podrazd1514306752096' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062034",
"Наименование": "Кафетерий ЛНФ",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062034
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62034
OLD_PID=62030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062030, name='Кафетерий ЛНФ', is_deleted=0, changed=now() where ID=062034
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752102");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_442)</span><div id='gateway/jinr_setDivParents1514306752102' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62034
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62030
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62034
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Объединение столовых / Кафетерий ЛНФ  ' where id=62034
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752102");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752096");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_442");'>Request_HR_LHEP_442 (gateway/receive) DONE! (99ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_443");'> Request_HR_LHEP_443 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_443' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084482d-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115360&ClientObjectID=62032&Time=27.02.2017 12:40:23&Object={
"Код": "062032",
"Наименование": "Столовая ЛФВЭ",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62032;<br> Наименование=Столовая ЛФВЭ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062030<BR>
 Код=062032<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752206");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_443)</span><div id='gateway/receive_3_podrazd1514306752206' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062032",
"Наименование": "Столовая ЛФВЭ",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062032
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62032
OLD_PID=62030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062030, name='Столовая ЛФВЭ', is_deleted=0, changed=now() where ID=062032
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752213");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_443)</span><div id='gateway/jinr_setDivParents1514306752213' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62032
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62030
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62032
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Объединение столовых / Столовая ЛФВЭ' where id=62032
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752213");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752206");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_443");'>Request_HR_LHEP_443 (gateway/receive) DONE! (125ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_444");'> Request_HR_LHEP_444 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_444' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084482c-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115359&ClientObjectID=62031&Time=27.02.2017 12:40:22&Object={
"Код": "062031",
"Наименование": "Столовая ЛЯП",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62031;<br> Наименование=Столовая ЛЯП<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062030<BR>
 Код=062031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752343");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_444)</span><div id='gateway/receive_3_podrazd1514306752343' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062031",
"Наименование": "Столовая ЛЯП",
"РодительКод": "062030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62031
OLD_PID=62030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062030, name='Столовая ЛЯП', is_deleted=0, changed=now() where ID=062031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752350");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_444)</span><div id='gateway/jinr_setDivParents1514306752350' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62030
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62031
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Объединение столовых / Столовая ЛЯП ' where id=62031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752350");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752343");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_444");'>Request_HR_LHEP_444 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_445");'> Request_HR_LHEP_445 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_445' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f44-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115337&ClientObjectID=116013&Time=27.02.2017 12:40:35&Object={
"Код": "116013",
"Наименование": "Группа №3 электроники источников питания",
"РодительКод": "116010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=116013;<br> Наименование=Группа №3 электроники источников питания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=116010<BR>
 Код=116013<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752431");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_445)</span><div id='gateway/receive_3_podrazd1514306752431' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "116013",
"Наименование": "Группа №3 электроники источников питания",
"РодительКод": "116010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=116013
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=116013
OLD_PID=116010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=116010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=116010, name='Группа №3 электроники источников питания', is_deleted=0, changed=now() where ID=116013
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752437");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_445)</span><div id='gateway/jinr_setDivParents1514306752437' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=116013
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=116010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=116010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=116013
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-инженерный отдел систем электропитания Нуклотрона / Сектор №1 источников питания / Группа №3 электроники источников питания ' where id=116013
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752437");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752431");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_445");'>Request_HR_LHEP_445 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_446");'> Request_HR_LHEP_446 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_446' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b380-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115333&ClientObjectID=123011&Time=27.02.2017 12:40:38&Object={
"Код": "123011",
"Наименование": "Группа №1 экспериментов на поляризованной мишени",
"РодительКод": "123010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=123011;<br> Наименование=Группа №1 экспериментов на поляризованной мишени<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=123010<BR>
 Код=123011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752516");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_446)</span><div id='gateway/receive_3_podrazd1514306752516' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "123011",
"Наименование": "Группа №1 экспериментов на поляризованной мишени",
"РодительКод": "123010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=123011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=123011
OLD_PID=123010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=123010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=123010, name='Группа №1 экспериментов на поляризованной мишени', is_deleted=0, changed=now() where ID=123011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752522");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_446)</span><div id='gateway/jinr_setDivParents1514306752522' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=123011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=123010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=123010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=123011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем / Сектор №1 поляризационных экспериментов на Нуклотроне   / Группа №1 экспериментов на поляризованной мишени' where id=123011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752522");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752516");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_446");'>Request_HR_LHEP_446 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_447");'> Request_HR_LHEP_447 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_447' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b386-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115332&ClientObjectID=121032&Time=27.02.2017 12:40:39&Object={
"Код": "121032",
"Наименование": "Группа №2 теоретическая",
"РодительКод": "121030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121032;<br> Наименование=Группа №2 теоретическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121030<BR>
 Код=121032<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752599");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_447)</span><div id='gateway/receive_3_podrazd1514306752599' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121032",
"Наименование": "Группа №2 теоретическая",
"РодительКод": "121030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121032
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121032
OLD_PID=121030
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121030, name='Группа №2 теоретическая', is_deleted=0, changed=now() where ID=121032
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752604");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_447)</span><div id='gateway/jinr_setDivParents1514306752604' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121032
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121030
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121032
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №3 математического и методического обеспечения экспериментов / Группа №2 теоретическая' where id=121032
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752604");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752599");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_447");'>Request_HR_LHEP_447 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_448");'> Request_HR_LHEP_448 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_448' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b38e-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115331&ClientObjectID=173012&Time=27.02.2017 12:40:40&Object={
"Код": "173012",
"Наименование": "Группа №2 разработки и эксплуатации детекторов частиц",
"РодительКод": "173010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173012;<br> Наименование=Группа №2 разработки и эксплуатации детекторов частиц<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=173010<BR>
 Код=173012<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752682");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_448)</span><div id='gateway/receive_3_podrazd1514306752682' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173012",
"Наименование": "Группа №2 разработки и эксплуатации детекторов частиц",
"РодительКод": "173010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173012
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173012
OLD_PID=173010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=173010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=173010, name='Группа №2 разработки и эксплуатации детекторов частиц', is_deleted=0, changed=now() where ID=173012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752688");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_448)</span><div id='gateway/jinr_setDivParents1514306752688' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173012
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=173010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=173010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173012
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел / Сектор №1 детекторов частиц и приема данных   / Группа №2 разработки и эксплуатации детекторов частиц ' where id=173012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752688");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752682");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_448");'>Request_HR_LHEP_448 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_449");'> Request_HR_LHEP_449 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_449' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b38d-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115330&ClientObjectID=173011&Time=27.02.2017 12:40:39&Object={
"Код": "173011",
"Наименование": "Группа №1 приема и анализа данных",
"РодительКод": "173010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173011;<br> Наименование=Группа №1 приема и анализа данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=173010<BR>
 Код=173011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752811");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_449)</span><div id='gateway/receive_3_podrazd1514306752811' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173011",
"Наименование": "Группа №1 приема и анализа данных",
"РодительКод": "173010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173011
OLD_PID=173010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=173010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=173010, name='Группа №1 приема и анализа данных', is_deleted=0, changed=now() where ID=173011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752817");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_449)</span><div id='gateway/jinr_setDivParents1514306752817' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=173010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=173010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел / Сектор №1 детекторов частиц и приема данных   / Группа №1 приема и анализа данных ' where id=173011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752817");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752811");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_449");'>Request_HR_LHEP_449 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_450");'> Request_HR_LHEP_450 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_450' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b390-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115328&ClientObjectID=173021&Time=27.02.2017 12:40:41&Object={
"Код": "173021",
"Наименование": "Группа №1 электроники экспериментальных установок",
"РодительКод": "173020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173021;<br> Наименование=Группа №1 электроники экспериментальных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=173020<BR>
 Код=173021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752897");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_450)</span><div id='gateway/receive_3_podrazd1514306752897' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173021",
"Наименование": "Группа №1 электроники экспериментальных установок",
"РодительКод": "173020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173021
OLD_PID=173020
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=173020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=173020, name='Группа №1 электроники экспериментальных установок', is_deleted=0, changed=now() where ID=173021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752903");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_450)</span><div id='gateway/jinr_setDivParents1514306752903' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=173020
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=173020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173021
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел / Сектор №2 аппаратуры физических установок  / Группа №1 электроники экспериментальных установок ' where id=173021
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752903");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752897");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_450");'>Request_HR_LHEP_450 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_451");'> Request_HR_LHEP_451 [26.12 19:45:52] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_451' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b391-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115329&ClientObjectID=173022&Time=27.02.2017 12:40:41&Object={
"Код": "173022",
"Наименование": "Группа №2 разработки и эксплуатации газовых и криогенных  систем и инженерного обеспечения экспериментальных установок",
"РодительКод": "173020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173022;<br> Наименование=Группа №2 разработки и эксплуатации газовых и криогенных  систем и инженерного обеспечения экспериментальных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=173020<BR>
 Код=173022<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752982");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_451)</span><div id='gateway/receive_3_podrazd1514306752982' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173022",
"Наименование": "Группа №2 разработки и эксплуатации газовых и криогенных  систем и инженерного обеспечения экспериментальных установок",
"РодительКод": "173020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173022
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173022
OLD_PID=173020
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=173020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=173020, name='Группа №2 разработки и эксплуатации газовых и криогенных  систем и инженерного обеспечения экспериментальных установок', is_deleted=0, changed=now() where ID=173022
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752989");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_451)</span><div id='gateway/jinr_setDivParents1514306752989' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173022
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=173020
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=173020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173022
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел / Сектор №2 аппаратуры физических установок  / Группа №2 разработки и эксплуатации газовых и криогенных  систем и инженерного обеспечения экспериментальных установок' where id=173022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306752989");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306752982");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_451");'>Request_HR_LHEP_451 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_452");'> Request_HR_LHEP_452 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_452' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f43-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115339&ClientObjectID=116012&Time=27.02.2017 12:40:35&Object={
"Код": "116012",
"Наименование": "Группа №2 защиты электротехнических устройств",
"РодительКод": "116010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=116012;<br> Наименование=Группа №2 защиты электротехнических устройств<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=116010<BR>
 Код=116012<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753068");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_452)</span><div id='gateway/receive_3_podrazd1514306753068' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "116012",
"Наименование": "Группа №2 защиты электротехнических устройств",
"РодительКод": "116010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=116012
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=116012
OLD_PID=116010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=116010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=116010, name='Группа №2 защиты электротехнических устройств', is_deleted=0, changed=now() where ID=116012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753073");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_452)</span><div id='gateway/jinr_setDivParents1514306753073' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=116012
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=116010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=116010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=116012
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-инженерный отдел систем электропитания Нуклотрона / Сектор №1 источников питания / Группа №2 защиты электротехнических устройств' where id=116012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753073");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753068");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_452");'>Request_HR_LHEP_452 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_453");'> Request_HR_LHEP_453 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_453' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f3f-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115340&ClientObjectID=115012&Time=27.02.2017 12:40:34&Object={
"Код": "115012",
"Наименование": "Группа №2 защиты магнитной системы Нуклотрона",
"РодительКод": "115010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=115012;<br> Наименование=Группа №2 защиты магнитной системы Нуклотрона<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=115010<BR>
 Код=115012<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753147");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_453)</span><div id='gateway/receive_3_podrazd1514306753147' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "115012",
"Наименование": "Группа №2 защиты магнитной системы Нуклотрона",
"РодительКод": "115010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=115012
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=115012
OLD_PID=115010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=115010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=115010, name='Группа №2 защиты магнитной системы Нуклотрона', is_deleted=0, changed=now() where ID=115012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753152");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_453)</span><div id='gateway/jinr_setDivParents1514306753152' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=115012
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=115010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=115010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=115012
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел радиоэлектронных систем / Сектор №1 радиоэлектроники / Группа №2 защиты магнитной системы Нуклотрона' where id=115012
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753152");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753147");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_453");'>Request_HR_LHEP_453 (gateway/receive) DONE! (131ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_454");'> Request_HR_LHEP_454 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_454' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f42-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115341&ClientObjectID=116011&Time=27.02.2017 12:40:34&Object={
"Код": "116011",
"Наименование": "Группа №1 эксплуатации источников питания",
"РодительКод": "116010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=116011;<br> Наименование=Группа №1 эксплуатации источников питания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=116010<BR>
 Код=116011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753298");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_454)</span><div id='gateway/receive_3_podrazd1514306753298' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "116011",
"Наименование": "Группа №1 эксплуатации источников питания",
"РодительКод": "116010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=116011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=116011
OLD_PID=116010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=116010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=116010, name='Группа №1 эксплуатации источников питания', is_deleted=0, changed=now() where ID=116011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753304");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_454)</span><div id='gateway/jinr_setDivParents1514306753304' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=116011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=116010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=116010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=116011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-инженерный отдел систем электропитания Нуклотрона / Сектор №1 источников питания / Группа №1 эксплуатации источников питания' where id=116011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753304");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753298");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_454");'>Request_HR_LHEP_454 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_455");'> Request_HR_LHEP_455 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_455' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b231-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115354&ClientObjectID=134000&Time=27.02.2017 12:40:26&Object={
"Код": "134000",
"Наименование": "Сектор физики на АТЛАС",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=134000;<br> Наименование=Сектор физики на АТЛАС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=140000<BR>
 Код=134000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753390");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_455)</span><div id='gateway/receive_3_podrazd1514306753390' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "134000",
"Наименование": "Сектор физики на АТЛАС",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=134000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=134000
OLD_PID=140000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=140000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=140000, name='Сектор физики на АТЛАС', is_deleted=0, changed=now() where ID=134000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753396");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_455)</span><div id='gateway/jinr_setDivParents1514306753396' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=134000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=140000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=140000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=134000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Сектор физики на АТЛАС' where id=134000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753396");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753390");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_455");'>Request_HR_LHEP_455 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_456");'> Request_HR_LHEP_456 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_456' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b24a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115356&ClientObjectID=132000&Time=27.02.2017 12:40:25&Object={
"Код": "132000",
"Наименование": "Научно-экспериментальный отдел физики на CMS",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=132000;<br> Наименование=Научно-экспериментальный отдел физики на CMS<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=140000<BR>
 Код=132000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753475");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_456)</span><div id='gateway/receive_3_podrazd1514306753475' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "132000",
"Наименование": "Научно-экспериментальный отдел физики на CMS",
"РодительКод": "140000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=132000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=132000
OLD_PID=140000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=140000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=140000, name='Научно-экспериментальный отдел физики на CMS', is_deleted=0, changed=now() where ID=132000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753481");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_456)</span><div id='gateway/jinr_setDivParents1514306753481' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=132000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=140000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=140000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=132000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики на CMS' where id=132000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753481");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753475");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_456");'>Request_HR_LHEP_456 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_457");'> Request_HR_LHEP_457 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_457' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f35-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115346&ClientObjectID=114011&Time=27.02.2017 12:40:31&Object={
"Код": "114011",
"Наименование": "Группа №1 эксплуатации",
"РодительКод": "114010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114011;<br> Наименование=Группа №1 эксплуатации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114010<BR>
 Код=114011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753572");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_457)</span><div id='gateway/receive_3_podrazd1514306753572' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114011",
"Наименование": "Группа №1 эксплуатации",
"РодительКод": "114010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114011
OLD_PID=114010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114010, name='Группа №1 эксплуатации', is_deleted=0, changed=now() where ID=114011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753578");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_457)</span><div id='gateway/jinr_setDivParents1514306753578' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114010
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114011
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №1 кольца Нуклотрона / Группа №1 эксплуатации' where id=114011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753578");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753572");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_457");'>Request_HR_LHEP_457 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_458");'> Request_HR_LHEP_458 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_458' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f3b-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115345&ClientObjectID=114051&Time=27.02.2017 12:40:32&Object={
"Код": "114051",
"Наименование": "Группа №1 физико-технических систем",
"РодительКод": "114050",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114051;<br> Наименование=Группа №1 физико-технических систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114050<BR>
 Код=114051<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753657");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_458)</span><div id='gateway/receive_3_podrazd1514306753657' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114051",
"Наименование": "Группа №1 физико-технических систем",
"РодительКод": "114050",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114051
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114051
OLD_PID=114050
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114050 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114050, name='Группа №1 физико-технических систем', is_deleted=0, changed=now() where ID=114051
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753662");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_458)</span><div id='gateway/jinr_setDivParents1514306753662' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114051
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114050
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114050
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114051
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №5 линейных ускорителей / Группа №1 физико-технических систем' where id=114051
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753662");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753657");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_458");'>Request_HR_LHEP_458 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_459");'> Request_HR_LHEP_459 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_459' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f37-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115344&ClientObjectID=114021&Time=27.02.2017 12:40:31&Object={
"Код": "114021",
"Наименование": "Группа №1 эксплуатации",
"РодительКод": "114020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114021;<br> Наименование=Группа №1 эксплуатации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114020<BR>
 Код=114021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753743");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_459)</span><div id='gateway/receive_3_podrazd1514306753743' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114021",
"Наименование": "Группа №1 эксплуатации",
"РодительКод": "114020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114021
OLD_PID=114020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114020, name='Группа №1 эксплуатации', is_deleted=0, changed=now() where ID=114021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753749");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_459)</span><div id='gateway/jinr_setDivParents1514306753749' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114020
LEV_OLD=6</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114021
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №2 инжекции ЛУ-20 / Группа №1 эксплуатации' where id=114021
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753749");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753743");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_459");'>Request_HR_LHEP_459 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_460");'> Request_HR_LHEP_460 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_460' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f3e-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115343&ClientObjectID=115011&Time=27.02.2017 12:40:33&Object={
"Код": "115011",
"Наименование": "Группа №1 широкополосных усилителей",
"РодительКод": "115010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=115011;<br> Наименование=Группа №1 широкополосных усилителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=115010<BR>
 Код=115011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753847");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_460)</span><div id='gateway/receive_3_podrazd1514306753847' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "115011",
"Наименование": "Группа №1 широкополосных усилителей",
"РодительКод": "115010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=115011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=115011
OLD_PID=115010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=115010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=115010, name='Группа №1 широкополосных усилителей', is_deleted=0, changed=now() where ID=115011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753855");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_460)</span><div id='gateway/jinr_setDivParents1514306753855' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=115011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=115010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=115010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=115011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел радиоэлектронных систем / Сектор №1 радиоэлектроники / Группа №1 широкополосных усилителей  ' where id=115011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753855");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753847");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_460");'>Request_HR_LHEP_460 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_461");'> Request_HR_LHEP_461 [26.12 19:45:53] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_461' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f3c-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115342&ClientObjectID=114052&Time=27.02.2017 12:40:33&Object={
"Код": "114052",
"Наименование": "Группа №2 ВЧ-систем",
"РодительКод": "114050",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114052;<br> Наименование=Группа №2 ВЧ-систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114050<BR>
 Код=114052<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753939");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_461)</span><div id='gateway/receive_3_podrazd1514306753939' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114052",
"Наименование": "Группа №2 ВЧ-систем",
"РодительКод": "114050",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114052
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114052
OLD_PID=114050
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114050 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114050, name='Группа №2 ВЧ-систем', is_deleted=0, changed=now() where ID=114052
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753944");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_461)</span><div id='gateway/jinr_setDivParents1514306753944' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114052
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114050
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114050
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114052
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №5 линейных ускорителей / Группа №2 ВЧ-систем' where id=114052
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306753944");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306753939");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_461");'>Request_HR_LHEP_461 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_462");'> Request_HR_LHEP_462 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_462' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ea-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115318&ClientObjectID=215021&Time=27.02.2017 12:40:46&Object={
"Код": "215021",
"Наименование": "Группа №1 теоретико-феноменологического анализа экспериментальных данных",
"РодительКод": "215000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=215021;<br> Наименование=Группа №1 теоретико-феноменологического анализа экспериментальных данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=215000<BR>
 Код=215021<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754035");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_462)</span><div id='gateway/receive_3_podrazd1514306754035' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "215021",
"Наименование": "Группа №1 теоретико-феноменологического анализа экспериментальных данных",
"РодительКод": "215000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=215021
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=215021
OLD_PID=215000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=215000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=215000, name='Группа №1 теоретико-феноменологического анализа экспериментальных данных', is_deleted=0, changed=now() where ID=215021
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754041");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_462)</span><div id='gateway/jinr_setDivParents1514306754041' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=215021
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=215000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=215000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=215021
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики адронов / Группа №1 теоретико-феноменологического анализа экспериментальных данных' where id=215021
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754041");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754035");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_462");'>Request_HR_LHEP_462 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_463");'> Request_HR_LHEP_463 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_463' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef6-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115312&ClientObjectID=608030&Time=27.02.2017 12:40:51&Object={
"Код": "608030",
"Наименование": "Сектор №3 развития и стандартизации прикладного программного обеспечения",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=608030;<br> Наименование=Сектор №3 развития и стандартизации прикладного программного обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=608000<BR>
 Код=608030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754130");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_463)</span><div id='gateway/receive_3_podrazd1514306754130' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "608030",
"Наименование": "Сектор №3 развития и стандартизации прикладного программного обеспечения",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=608030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=608030
OLD_PID=608000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=608000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=608000, name='Сектор №3 развития и стандартизации прикладного программного обеспечения', is_deleted=0, changed=now() where ID=608030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754136");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_463)</span><div id='gateway/jinr_setDivParents1514306754136' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=608030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=608000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=608000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=608030
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОПиИО / Сектор №3 развития и стандартизации прикладного программного обеспечения ' where id=608030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754136");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754130");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_463");'>Request_HR_LHEP_463 (gateway/receive) DONE! (94ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_464");'> Request_HR_LHEP_464 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_464' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f4e-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115311&ClientObjectID=122001&Time=27.02.2017 12:40:52&Object={
"Код": "122001",
"Наименование": "Группа №1 станций внутренних мишеней, электронного и ресурсного обеспечения",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122001;<br> Наименование=Группа №1 станций внутренних мишеней, электронного и ресурсного обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122000<BR>
 Код=122001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754257");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_464)</span><div id='gateway/receive_3_podrazd1514306754257' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122001",
"Наименование": "Группа №1 станций внутренних мишеней, электронного и ресурсного обеспечения",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122001
OLD_PID=122000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122000, name='Группа №1 станций внутренних мишеней, электронного и ресурсного обеспечения', is_deleted=0, changed=now() where ID=122001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754263");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_464)</span><div id='gateway/jinr_setDivParents1514306754263' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Группа №1 станций внутренних мишеней, электронного и ресурсного обеспечения ' where id=122001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754263");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754257");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_464");'>Request_HR_LHEP_464 (gateway/receive) DONE! (98ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_465");'> Request_HR_LHEP_465 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_465' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef7-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115310&ClientObjectID=608040&Time=27.02.2017 12:40:51&Object={
"Код": "608040",
"Наименование": "Сектор №4 распределенных систем реального времени",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=608040;<br> Наименование=Сектор №4 распределенных систем реального времени<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=608000<BR>
 Код=608040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754343");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_465)</span><div id='gateway/receive_3_podrazd1514306754343' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "608040",
"Наименование": "Сектор №4 распределенных систем реального времени",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=608040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=608040
OLD_PID=608000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=608000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=608000, name='Сектор №4 распределенных систем реального времени', is_deleted=0, changed=now() where ID=608040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754348");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_465)</span><div id='gateway/jinr_setDivParents1514306754348' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=608040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=608000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=608000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=608040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОПиИО / Сектор №4 распределенных систем реального времени' where id=608040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754348");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754343");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_465");'>Request_HR_LHEP_465 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_466");'> Request_HR_LHEP_466 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_466' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef4-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115313&ClientObjectID=608010&Time=27.02.2017 12:40:49&Object={
"Код": "608010",
"Наименование": "Сектор №1 сопровождения центральных информационных серверов ОИЯИ и средств  презентаций",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=608010;<br> Наименование=Сектор №1 сопровождения центральных информационных серверов ОИЯИ и средств  презентаций<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=608000<BR>
 Код=608010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754434");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_466)</span><div id='gateway/receive_3_podrazd1514306754434' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "608010",
"Наименование": "Сектор №1 сопровождения центральных информационных серверов ОИЯИ и средств  презентаций",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=608010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=608010
OLD_PID=608000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=608000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=608000, name='Сектор №1 сопровождения центральных информационных серверов ОИЯИ и средств  презентаций', is_deleted=0, changed=now() where ID=608010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754441");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_466)</span><div id='gateway/jinr_setDivParents1514306754441' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=608010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=608000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=608000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=608010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОПиИО / Сектор №1 сопровождения центральных информационных серверов ОИЯИ и средств  презентаций' where id=608010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754441");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754434");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_466");'>Request_HR_LHEP_466 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_467");'> Request_HR_LHEP_467 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_467' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e9-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115320&ClientObjectID=215020&Time=27.02.2017 12:40:46&Object={
"Код": "215020",
"Наименование": "Сектор №2 электронно-методический",
"РодительКод": "215000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=215020;<br> Наименование=Сектор №2 электронно-методический<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=215000<BR>
 Код=215020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754531");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_467)</span><div id='gateway/receive_3_podrazd1514306754531' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "215020",
"Наименование": "Сектор №2 электронно-методический",
"РодительКод": "215000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=215020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=215020
OLD_PID=215000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=215000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=215000, name='Сектор №2 электронно-методический', is_deleted=0, changed=now() where ID=215020
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754539");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_467)</span><div id='gateway/jinr_setDivParents1514306754539' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=215020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=215000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=215000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=215020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики адронов / Сектор №2 электронно-методический' where id=215020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754539");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754531");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_467");'>Request_HR_LHEP_467 (gateway/receive) DONE! (93ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_468");'> Request_HR_LHEP_468 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_468' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf04-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115321&ClientObjectID=821031&Time=27.02.2017 12:40:45&Object={
"Код": "821031",
"Наименование": "Группа №1 производство трековых мембран",
"РодительКод": "821030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821031;<br> Наименование=Группа №1 производство трековых мембран<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821030<BR>
 Код=821031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754635");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_468)</span><div id='gateway/receive_3_podrazd1514306754635' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821031",
"Наименование": "Группа №1 производство трековых мембран",
"РодительКод": "821030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821031
OLD_PID=821030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821030, name='Группа №1 производство трековых мембран', is_deleted=0, changed=now() where ID=821031
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754641");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_468)</span><div id='gateway/jinr_setDivParents1514306754641' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821030
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821031
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Сектор №3 физико-химических структурных и метрологических исследований облученных полимерн.материал. / Группа №1 производство трековых мембран' where id=821031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754641");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754635");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_468");'>Request_HR_LHEP_468 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_469");'> Request_HR_LHEP_469 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_469' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e8-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115322&ClientObjectID=215010&Time=27.02.2017 12:40:45&Object={
"Код": "215010",
"Наименование": "Сектор №1 научно-методический",
"РодительКод": "215000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=215010;<br> Наименование=Сектор №1 научно-методический<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=215000<BR>
 Код=215010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754724");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_469)</span><div id='gateway/receive_3_podrazd1514306754724' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "215010",
"Наименование": "Сектор №1 научно-методический",
"РодительКод": "215000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=215010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=215010
OLD_PID=215000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=215000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=215000, name='Сектор №1 научно-методический', is_deleted=0, changed=now() where ID=215010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754729");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_469)</span><div id='gateway/jinr_setDivParents1514306754729' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=215010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=215000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=215000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=215010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики адронов / Сектор №1 научно-методический' where id=215010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754729");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754724");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_469");'>Request_HR_LHEP_469 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_470");'> Request_HR_LHEP_470 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_470' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef8-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115323&ClientObjectID=608041&Time=27.02.2017 12:40:44&Object={
"Код": "608041",
"Наименование": "Группа №1 систем проектирования",
"РодительКод": "608040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=608041;<br> Наименование=Группа №1 систем проектирования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=608040<BR>
 Код=608041<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754855");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_470)</span><div id='gateway/receive_3_podrazd1514306754855' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "608041",
"Наименование": "Группа №1 систем проектирования",
"РодительКод": "608040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=608041
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=608041
OLD_PID=608040
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=608040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=608040, name='Группа №1 систем проектирования', is_deleted=0, changed=now() where ID=608041
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754862");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_470)</span><div id='gateway/jinr_setDivParents1514306754862' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=608041
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=608040
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=608040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=608041
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОПиИО / Сектор №4 распределенных систем реального времени / Группа №1 систем проектирования' where id=608041
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754862");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754855");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_470");'>Request_HR_LHEP_470 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_471");'> Request_HR_LHEP_471 [26.12 19:45:54] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_471' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cefa-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115324&ClientObjectID=613011&Time=27.02.2017 12:40:44&Object={
"Код": "613011",
"Наименование": "Группа №1 программного и технического обеспечения основного сегмента сети ОИЯИ в ЛИТ",
"РодительКод": "613010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=613011;<br> Наименование=Группа №1 программного и технического обеспечения основного сегмента сети ОИЯИ в ЛИТ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=613010<BR>
 Код=613011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754944");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_471)</span><div id='gateway/receive_3_podrazd1514306754944' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "613011",
"Наименование": "Группа №1 программного и технического обеспечения основного сегмента сети ОИЯИ в ЛИТ",
"РодительКод": "613010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=613011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=613011
OLD_PID=613010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=613010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=613010, name='Группа №1 программного и технического обеспечения основного сегмента сети ОИЯИ в ЛИТ', is_deleted=0, changed=now() where ID=613011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754949");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_471)</span><div id='gateway/jinr_setDivParents1514306754949' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=613011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=613010
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=613010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=613011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ИТО / Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ  / Группа №1 программного и технического обеспечения основного сегмента сети ОИЯИ в ЛИТ' where id=613011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306754949");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306754944");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_471");'>Request_HR_LHEP_471 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_472");'> Request_HR_LHEP_472 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_472' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f54-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115336&ClientObjectID=122042&Time=27.02.2017 12:40:37&Object={
"Код": "122042",
"Наименование": "Группа №2 фотоэмульсионная",
"РодительКод": "122040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122042;<br> Наименование=Группа №2 фотоэмульсионная<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122040<BR>
 Код=122042<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755042");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_472)</span><div id='gateway/receive_3_podrazd1514306755042' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122042",
"Наименование": "Группа №2 фотоэмульсионная",
"РодительКод": "122040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122042
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122042
OLD_PID=122040
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122040, name='Группа №2 фотоэмульсионная', is_deleted=0, changed=now() where ID=122042
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755049");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_472)</span><div id='gateway/jinr_setDivParents1514306755049' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122042
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122040
LEV_OLD=6</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122042
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Сектор №4 обработки толстослойных эмульсий  / Группа №2 фотоэмульсионная' where id=122042
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755049");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755042");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_472");'>Request_HR_LHEP_472 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_473");'> Request_HR_LHEP_473 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_473' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=91640528-37a3-11e2-993a-000e0ce597c9&GateObjectID=115338&ClientObjectID=117011&Time=27.02.2017 12:40:36&Object={
"Код": "117011",
"Наименование": "Группа №1 разработки и  эксплуатации криогенных мишеней",
"РодительКод": "117010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=117011;<br> Наименование=Группа №1 разработки и  эксплуатации криогенных мишеней<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=117010<BR>
 Код=117011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755137");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_473)</span><div id='gateway/receive_3_podrazd1514306755137' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "117011",
"Наименование": "Группа №1 разработки и  эксплуатации криогенных мишеней",
"РодительКод": "117010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=117011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=117011
OLD_PID=117010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=117010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=117010, name='Группа №1 разработки и  эксплуатации криогенных мишеней', is_deleted=0, changed=now() where ID=117011
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755143");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_473)</span><div id='gateway/jinr_setDivParents1514306755143' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=117011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=117010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=117010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=117011
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-исследовательский криогенный отдел / Сектор №1 научных разработок  / Группа №1 разработки и  эксплуатации криогенных мишеней' where id=117011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755143");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755137");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_473");'>Request_HR_LHEP_473 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_474");'> Request_HR_LHEP_474 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_474' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f53-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115335&ClientObjectID=122041&Time=27.02.2017 12:40:37&Object={
"Код": "122041",
"Наименование": "Группа №1 обработки толстослойных эмульсий",
"РодительКод": "122040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122041;<br> Наименование=Группа №1 обработки толстослойных эмульсий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122040<BR>
 Код=122041<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755241");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_474)</span><div id='gateway/receive_3_podrazd1514306755241' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122041",
"Наименование": "Группа №1 обработки толстослойных эмульсий",
"РодительКод": "122040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122041
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122041
OLD_PID=122040
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122040, name='Группа №1 обработки толстослойных эмульсий', is_deleted=0, changed=now() where ID=122041
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755247");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_474)</span><div id='gateway/jinr_setDivParents1514306755247' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122041
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122040
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122041
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Сектор №4 обработки толстослойных эмульсий  / Группа №1 обработки толстослойных эмульсий' where id=122041
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755247");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755241");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_474");'>Request_HR_LHEP_474 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_475");'> Request_HR_LHEP_475 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_475' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b385-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115334&ClientObjectID=121031&Time=27.02.2017 12:40:38&Object={
"Код": "121031",
"Наименование": "Группа №1 программной поддержки",
"РодительКод": "121030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121031;<br> Наименование=Группа №1 программной поддержки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121030<BR>
 Код=121031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755333");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_475)</span><div id='gateway/receive_3_podrazd1514306755333' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121031",
"Наименование": "Группа №1 программной поддержки",
"РодительКод": "121030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121031
OLD_PID=121030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121030, name='Группа №1 программной поддержки', is_deleted=0, changed=now() where ID=121031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755339");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_475)</span><div id='gateway/jinr_setDivParents1514306755339' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121030
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121031
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №3 математического и методического обеспечения экспериментов / Группа №1 программной поддержки ' where id=121031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755339");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755333");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_475");'>Request_HR_LHEP_475 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_476");'> Request_HR_LHEP_476 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_476' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=3fe213b6-c5fc-11e3-940f-0025907d24fa&GateObjectID=115327&ClientObjectID=602022&Time=27.02.2017 12:40:42&Object={
"Код": "602022",
"Наименование": "Группа №2 разработки и сопровождения информационно-аналитических систем",
"РодительКод": "602020",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602022;<br> Наименование=Группа №2 разработки и сопровождения информационно-аналитических систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602020<BR>
 Код=602022<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755420");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_476)</span><div id='gateway/receive_3_podrazd1514306755420' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602022",
"Наименование": "Группа №2 разработки и сопровождения информационно-аналитических систем",
"РодительКод": "602020",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602022
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602022
OLD_PID=602020
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602020 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602020, name='Группа №2 разработки и сопровождения информационно-аналитических систем', is_deleted=0, changed=now() where ID=602022
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755426");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_476)</span><div id='gateway/jinr_setDivParents1514306755426' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602022
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602020
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602020
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602022
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №2 программных серверов и управляющих ЭВМ / Группа №2 разработки и сопровождения информационно-аналитических систем' where id=602022
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755426");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755420");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_476");'>Request_HR_LHEP_476 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_477");'> Request_HR_LHEP_477 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_477' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b397-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115326&ClientObjectID=602011&Time=27.02.2017 12:40:42&Object={
"Код": "602011",
"Наименование": "Группа №1 технического  и системного сопровождения  и развития UNIX",
"РодительКод": "602010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602011;<br> Наименование=Группа №1 технического  и системного сопровождения  и развития UNIX<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602010<BR>
 Код=602011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755505");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_477)</span><div id='gateway/receive_3_podrazd1514306755505' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602011",
"Наименование": "Группа №1 технического  и системного сопровождения  и развития UNIX",
"РодительКод": "602010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602011
OLD_PID=602010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602010, name='Группа №1 технического  и системного сопровождения  и развития UNIX', is_deleted=0, changed=now() where ID=602011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755510");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_477)</span><div id='gateway/jinr_setDivParents1514306755510' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602010
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №1 распределенных систем  / Группа №1 технического  и системного сопровождения  и развития UNIX' where id=602011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755510");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755505");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_477");'>Request_HR_LHEP_477 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_478");'> Request_HR_LHEP_478 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_478' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b39b-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115325&ClientObjectID=602031&Time=27.02.2017 12:40:43&Object={
"Код": "602031",
"Наименование": "Группа №1 оцифровки графической информации",
"РодительКод": "602030",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602031;<br> Наименование=Группа №1 оцифровки графической информации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602030<BR>
 Код=602031<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755605");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_478)</span><div id='gateway/receive_3_podrazd1514306755605' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602031",
"Наименование": "Группа №1 оцифровки графической информации",
"РодительКод": "602030",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602031
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602031
OLD_PID=602030
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602030 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602030, name='Группа №1 оцифровки графической информации', is_deleted=0, changed=now() where ID=602031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755611");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_478)</span><div id='gateway/jinr_setDivParents1514306755611' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602031
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602030
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602030
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602031
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №3 распределенных  информационных систем и баз данных / Группа №1 оцифровки графической информации' where id=602031
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755611");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755605");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_478");'>Request_HR_LHEP_478 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_479");'> Request_HR_LHEP_479 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_479' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94cc-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115303&ClientObjectID=191002&Time=27.02.2017 12:40:56&Object={
"Код": "191002",
"Наименование": "Группа №2 ученого секретаря",
"РодительКод": "191000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=191002;<br> Наименование=Группа №2 ученого секретаря<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=191000<BR>
 Код=191002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755693");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_479)</span><div id='gateway/receive_3_podrazd1514306755693' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "191002",
"Наименование": "Группа №2 ученого секретаря",
"РодительКод": "191000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=191002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=191002
OLD_PID=191000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=191000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=191000, name='Группа №2 ученого секретаря', is_deleted=0, changed=now() where ID=191002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755699");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_479)</span><div id='gateway/jinr_setDivParents1514306755699' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=191002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=191000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=191000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=191002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение / Административное бюро / Группа №2 ученого секретаря' where id=191002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755699");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755693");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_479");'>Request_HR_LHEP_479 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_480");'> Request_HR_LHEP_480 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_480' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d5-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115304&ClientObjectID=204060&Time=27.02.2017 12:40:56&Object={
"Код": "204060",
"Наименование": "Сектор №6 спектрометра ФАЗА",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204060;<br> Наименование=Сектор №6 спектрометра ФАЗА<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204000<BR>
 Код=204060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755779");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_480)</span><div id='gateway/receive_3_podrazd1514306755779' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204060",
"Наименование": "Сектор №6 спектрометра ФАЗА",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204060
OLD_PID=204000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204000, name='Сектор №6 спектрометра ФАЗА', is_deleted=0, changed=now() where ID=204060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755785");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_480)</span><div id='gateway/jinr_setDivParents1514306755785' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204060
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №6 спектрометра ФАЗА' where id=204060
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755785");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755779");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_480");'>Request_HR_LHEP_480 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_481");'> Request_HR_LHEP_481 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_481' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f47-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115291&ClientObjectID=117001&Time=27.02.2017 12:41:03&Object={
"Код": "117001",
"Наименование": "Группа №1 компрессорных установок",
"РодительКод": "117000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=117001;<br> Наименование=Группа №1 компрессорных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=117000<BR>
 Код=117001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755868");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_481)</span><div id='gateway/receive_3_podrazd1514306755868' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "117001",
"Наименование": "Группа №1 компрессорных установок",
"РодительКод": "117000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=117001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=117001
OLD_PID=117000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=117000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=117000, name='Группа №1 компрессорных установок', is_deleted=0, changed=now() where ID=117001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755874");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_481)</span><div id='gateway/jinr_setDivParents1514306755874' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=117001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=117000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=117000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=117001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-исследовательский криогенный отдел / Группа №1 компрессорных установок ' where id=117001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755874");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755868");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_481");'>Request_HR_LHEP_481 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_482");'> Request_HR_LHEP_482 [26.12 19:45:55] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_482' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d0-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115302&ClientObjectID=204020&Time=27.02.2017 12:40:57&Object={
"Код": "204020",
"Наименование": "Сектор №2 слабых взаимодействий",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204020;<br> Наименование=Сектор №2 слабых взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204000<BR>
 Код=204020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755959");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_482)</span><div id='gateway/receive_3_podrazd1514306755959' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204020",
"Наименование": "Сектор №2 слабых взаимодействий",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204020
OLD_PID=204000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204000, name='Сектор №2 слабых взаимодействий', is_deleted=0, changed=now() where ID=204020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755964");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_482)</span><div id='gateway/jinr_setDivParents1514306755964' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204020
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №2 слабых взаимодействий' where id=204020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306755964");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306755959");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_482");'>Request_HR_LHEP_482 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_483");'> Request_HR_LHEP_483 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_483' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94cf-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115301&ClientObjectID=204010&Time=27.02.2017 12:40:57&Object={
"Код": "204010",
"Наименование": "Сектор №1 спектрометрии ядерных излучений",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204010;<br> Наименование=Сектор №1 спектрометрии ядерных излучений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204000<BR>
 Код=204010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756054");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_483)</span><div id='gateway/receive_3_podrazd1514306756054' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204010",
"Наименование": "Сектор №1 спектрометрии ядерных излучений",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204010
OLD_PID=204000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204000, name='Сектор №1 спектрометрии ядерных излучений', is_deleted=0, changed=now() where ID=204010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756060");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_483)</span><div id='gateway/jinr_setDivParents1514306756060' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №1 спектрометрии ядерных излучений' where id=204010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756060");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756054");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_483");'>Request_HR_LHEP_483 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_484");'> Request_HR_LHEP_484 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_484' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f46-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115294&ClientObjectID=117010&Time=27.02.2017 12:41:02&Object={
"Код": "117010",
"Наименование": "Сектор №1 научных разработок",
"РодительКод": "117000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=117010;<br> Наименование=Сектор №1 научных разработок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=117000<BR>
 Код=117010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756144");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_484)</span><div id='gateway/receive_3_podrazd1514306756144' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "117010",
"Наименование": "Сектор №1 научных разработок",
"РодительКод": "117000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=117010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=117010
OLD_PID=117000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=117000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=117000, name='Сектор №1 научных разработок', is_deleted=0, changed=now() where ID=117010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756150");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_484)</span><div id='gateway/jinr_setDivParents1514306756150' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=117010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=117000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=117000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=117010
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-исследовательский криогенный отдел / Сектор №1 научных разработок ' where id=117010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756150");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756144");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_484");'>Request_HR_LHEP_484 (gateway/receive) DONE! (148ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_485");'> Request_HR_LHEP_485 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_485' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b38a-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115293&ClientObjectID=131030&Time=27.02.2017 12:41:01&Object={
"Код": "131030",
"Наименование": "Сектор №3 больших множественностей",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=131030;<br> Наименование=Сектор №3 больших множественностей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=131000<BR>
 Код=131030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756320");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_485)</span><div id='gateway/receive_3_podrazd1514306756320' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "131030",
"Наименование": "Сектор №3 больших множественностей",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=131030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=131030
OLD_PID=131000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=131000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=131000, name='Сектор №3 больших множественностей', is_deleted=0, changed=now() where ID=131030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756325");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_485)</span><div id='gateway/jinr_setDivParents1514306756325' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=131030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=131000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=131000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=131030
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел физики легких кварков и лептонов / Сектор №3 больших множественностей ' where id=131030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756325");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756320");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_485");'>Request_HR_LHEP_485 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_486");'> Request_HR_LHEP_486 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_486' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94cb-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115305&ClientObjectID=191001&Time=27.02.2017 12:40:55&Object={
"Код": "191001",
"Наименование": "Группа №1 управления",
"РодительКод": "191000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=191001;<br> Наименование=Группа №1 управления<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=191000<BR>
 Код=191001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756457");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_486)</span><div id='gateway/receive_3_podrazd1514306756457' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "191001",
"Наименование": "Группа №1 управления",
"РодительКод": "191000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=191001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=191001
OLD_PID=191000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=191000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=191000, name='Группа №1 управления', is_deleted=0, changed=now() where ID=191001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756463");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_486)</span><div id='gateway/jinr_setDivParents1514306756463' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=191001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=191000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=191000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=191001
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение / Административное бюро / Группа №1 управления' where id=191001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756463");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756457");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_486");'>Request_HR_LHEP_486 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_487");'> Request_HR_LHEP_487 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_487' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f51-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115306&ClientObjectID=122030&Time=27.02.2017 12:40:54&Object={
"Код": "122030",
"Наименование": "Сектор №3 корреляционных исследований",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122030;<br> Наименование=Сектор №3 корреляционных исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122000<BR>
 Код=122030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756551");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_487)</span><div id='gateway/receive_3_podrazd1514306756551' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122030",
"Наименование": "Сектор №3 корреляционных исследований",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122030
OLD_PID=122000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122000, name='Сектор №3 корреляционных исследований', is_deleted=0, changed=now() where ID=122030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756560");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_487)</span><div id='gateway/jinr_setDivParents1514306756560' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122000
LEV_OLD=5</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122030
</xmp> <b> Processed in 5ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Сектор №3 корреляционных исследований  ' where id=122030
</xmp> DONE! 1 record(s) affected------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756560");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (21ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756551");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (30ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_487");'>Request_HR_LHEP_487 (gateway/receive) DONE! (98ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_488");'> Request_HR_LHEP_488 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_488' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f52-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115307&ClientObjectID=122040&Time=27.02.2017 12:40:54&Object={
"Код": "122040",
"Наименование": "Сектор №4 обработки толстослойных эмульсий",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122040;<br> Наименование=Сектор №4 обработки толстослойных эмульсий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122000<BR>
 Код=122040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756653");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_488)</span><div id='gateway/receive_3_podrazd1514306756653' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122040",
"Наименование": "Сектор №4 обработки толстослойных эмульсий",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122040
OLD_PID=122000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122000, name='Сектор №4 обработки толстослойных эмульсий', is_deleted=0, changed=now() where ID=122040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756658");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_488)</span><div id='gateway/jinr_setDivParents1514306756658' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Сектор №4 обработки толстослойных эмульсий ' where id=122040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756658");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756653");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_488");'>Request_HR_LHEP_488 (gateway/receive) DONE! (115ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_489");'> Request_HR_LHEP_489 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_489' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844823-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115316&ClientObjectID=62010&Time=27.02.2017 12:40:48&Object={
"Код": "062010",
"Наименование": "Группа продовольственного снабжения",
"РодительКод": "062000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62010;<br> Наименование=Группа продовольственного снабжения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062000<BR>
 Код=062010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756797");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_489)</span><div id='gateway/receive_3_podrazd1514306756797' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062010",
"Наименование": "Группа продовольственного снабжения",
"РодительКод": "062000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62010
OLD_PID=62000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062000, name='Группа продовольственного снабжения', is_deleted=0, changed=now() where ID=062010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756804");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_489)</span><div id='gateway/jinr_setDivParents1514306756804' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Группа продовольственного снабжения' where id=62010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756804");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756797");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_489");'>Request_HR_LHEP_489 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_490");'> Request_HR_LHEP_490 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_490' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084482b-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115317&ClientObjectID=62030&Time=27.02.2017 12:40:48&Object={
"Код": "062030",
"Наименование": "Объединение столовых",
"РодительКод": "062000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62030;<br> Наименование=Объединение столовых<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062000<BR>
 Код=062030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756898");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_490)</span><div id='gateway/receive_3_podrazd1514306756898' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062030",
"Наименование": "Объединение столовых",
"РодительКод": "062000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62030
OLD_PID=62000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062000, name='Объединение столовых', is_deleted=0, changed=now() where ID=062030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756904");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_490)</span><div id='gateway/jinr_setDivParents1514306756904' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Объединение столовых' where id=62030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756904");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756898");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_490");'>Request_HR_LHEP_490 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_491");'> Request_HR_LHEP_491 [26.12 19:45:56] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_491' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac334-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115319&ClientObjectID=521001&Time=27.02.2017 12:40:47&Object={
"Код": "521001",
"Наименование": "Группа №1 электронно-измерительной аппаратуры",
"РодительКод": "521000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=521001;<br> Наименование=Группа №1 электронно-измерительной аппаратуры<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=521000<BR>
 Код=521001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756991");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_491)</span><div id='gateway/receive_3_podrazd1514306756991' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "521001",
"Наименование": "Группа №1 электронно-измерительной аппаратуры",
"РодительКод": "521000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=521001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=521001
OLD_PID=521000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=521000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=521000, name='Группа №1 электронно-измерительной аппаратуры', is_deleted=0, changed=now() where ID=521001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756997");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_491)</span><div id='gateway/jinr_setDivParents1514306756997' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=521001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=521000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=521000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=521001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №1 синтез и свойства сверхтяжелых ядер / Группа №1 электронно-измерительной аппаратуры' where id=521001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306756997");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306756991");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_491");'>Request_HR_LHEP_491 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_492");'> Request_HR_LHEP_492 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_492' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844824-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115315&ClientObjectID=62020&Time=27.02.2017 12:40:49&Object={
"Код": "062020",
"Наименование": "Ресторанный комплекс \"Дубна\"",
"РодительКод": "062000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62020;<br> Наименование=Ресторанный комплекс "Дубна"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=062000<BR>
 Код=062020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757081");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_492)</span><div id='gateway/receive_3_podrazd1514306757081' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062020",
"Наименование": "Ресторанный комплекс \"Дубна\"",
"РодительКод": "062000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62020
OLD_PID=62000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=062000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=062000, name='Ресторанный комплекс "Дубна"', is_deleted=0, changed=now() where ID=062020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757087");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_492)</span><div id='gateway/jinr_setDivParents1514306757087' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=62000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=62000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли / Ресторанный комплекс "Дубна"' where id=62020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757087");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757081");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_492");'>Request_HR_LHEP_492 (gateway/receive) DONE! (107ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_493");'> Request_HR_LHEP_493 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_493' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef5-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115314&ClientObjectID=608020&Time=27.02.2017 12:40:50&Object={
"Код": "608020",
"Наименование": "Сектор №2 разработки математического обеспечения на базе больших программных комплексов и средств визуализации данных",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=608020;<br> Наименование=Сектор №2 разработки математического обеспечения на базе больших программных комплексов и средств визуализации данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=608000<BR>
 Код=608020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757202");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_493)</span><div id='gateway/receive_3_podrazd1514306757202' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "608020",
"Наименование": "Сектор №2 разработки математического обеспечения на базе больших программных комплексов и средств визуализации данных",
"РодительКод": "608000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=608020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=608020
OLD_PID=608000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=608000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=608000, name='Сектор №2 разработки математического обеспечения на базе больших программных комплексов и средств визуализации данных', is_deleted=0, changed=now() where ID=608020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757208");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_493)</span><div id='gateway/jinr_setDivParents1514306757208' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=608020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=608000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=608000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=608020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОПиИО / Сектор №2 разработки математического обеспечения на базе больших программных комплексов и средств визуализации данных' where id=608020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757208");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757202");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_493");'>Request_HR_LHEP_493 (gateway/receive) DONE! (136ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_494");'> Request_HR_LHEP_494 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_494' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f50-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115309&ClientObjectID=122020&Time=27.02.2017 12:40:53&Object={
"Код": "122020",
"Наименование": "Сектор №2 черенковских масс-спектрометров",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122020;<br> Наименование=Сектор №2 черенковских масс-спектрометров<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122000<BR>
 Код=122020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757356");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_494)</span><div id='gateway/receive_3_podrazd1514306757356' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122020",
"Наименование": "Сектор №2 черенковских масс-спектрометров",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122020
OLD_PID=122000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122000, name='Сектор №2 черенковских масс-спектрометров', is_deleted=0, changed=now() where ID=122020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757364");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_494)</span><div id='gateway/jinr_setDivParents1514306757364' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Сектор №2 черенковских масс-спектрометров' where id=122020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757364");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757356");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_494");'>Request_HR_LHEP_494 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_495");'> Request_HR_LHEP_495 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_495' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f4f-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115308&ClientObjectID=122010&Time=27.02.2017 12:40:53&Object={
"Код": "122010",
"Наименование": "Сектор №1 спектрометра СФЕРА",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122010;<br> Наименование=Сектор №1 спектрометра СФЕРА<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=122000<BR>
 Код=122010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757452");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_495)</span><div id='gateway/receive_3_podrazd1514306757452' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122010",
"Наименование": "Сектор №1 спектрометра СФЕРА",
"РодительКод": "122000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122010
OLD_PID=122000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=122000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=122000, name='Сектор №1 спектрометра СФЕРА', is_deleted=0, changed=now() where ID=122010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757457");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_495)</span><div id='gateway/jinr_setDivParents1514306757457' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=122000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов / Сектор №1 спектрометра СФЕРА' where id=122010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757457");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757452");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_495");'>Request_HR_LHEP_495 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_496");'> Request_HR_LHEP_496 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_496' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b39a-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115287&ClientObjectID=602030&Time=27.02.2017 12:41:06&Object={
"Код": "602030",
"Наименование": "Сектор №3 распределенных  информационных систем и баз данных",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602030;<br> Наименование=Сектор №3 распределенных  информационных систем и баз данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602000<BR>
 Код=602030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757558");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_496)</span><div id='gateway/receive_3_podrazd1514306757558' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602030",
"Наименование": "Сектор №3 распределенных  информационных систем и баз данных",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602030
OLD_PID=602000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602000, name='Сектор №3 распределенных  информационных систем и баз данных', is_deleted=0, changed=now() where ID=602030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757565");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_496)</span><div id='gateway/jinr_setDivParents1514306757565' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602030
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №3 распределенных  информационных систем и баз данных' where id=602030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757565");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757558");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_496");'>Request_HR_LHEP_496 (gateway/receive) DONE! (96ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_497");'> Request_HR_LHEP_497 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_497' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b398-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115286&ClientObjectID=602020&Time=27.02.2017 12:41:06&Object={
"Код": "602020",
"Наименование": "Сектор №2 программных серверов и управляющих ЭВМ",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602020;<br> Наименование=Сектор №2 программных серверов и управляющих ЭВМ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602000<BR>
 Код=602020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757651");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_497)</span><div id='gateway/receive_3_podrazd1514306757651' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602020",
"Наименование": "Сектор №2 программных серверов и управляющих ЭВМ",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602020
OLD_PID=602000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602000, name='Сектор №2 программных серверов и управляющих ЭВМ', is_deleted=0, changed=now() where ID=602020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757656");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_497)</span><div id='gateway/jinr_setDivParents1514306757656' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №2 программных серверов и управляющих ЭВМ' where id=602020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757656");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757651");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_497");'>Request_HR_LHEP_497 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_498");'> Request_HR_LHEP_498 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_498' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c84b7f92-bfa7-11e3-940d-0025907d24fa&GateObjectID=115285&ClientObjectID=602040&Time=27.02.2017 12:41:07&Object={
"Код": "602040",
"Наименование": "Сектор №4 развития и сопровождения административных информационных систем",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602040;<br> Наименование=Сектор №4 развития и сопровождения административных информационных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602000<BR>
 Код=602040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757746");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_498)</span><div id='gateway/receive_3_podrazd1514306757746' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602040",
"Наименование": "Сектор №4 развития и сопровождения административных информационных систем",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602040
OLD_PID=602000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602000, name='Сектор №4 развития и сопровождения административных информационных систем', is_deleted=0, changed=now() where ID=602040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757752");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_498)</span><div id='gateway/jinr_setDivParents1514306757752' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №4 развития и сопровождения административных информационных систем' where id=602040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757752");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757746");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_498");'>Request_HR_LHEP_498 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_499");'> Request_HR_LHEP_499 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_499' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da66-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115284&ClientObjectID=442020&Time=27.02.2017 12:41:08&Object={
"Код": "442020",
"Наименование": "Участок №2 слесарно-сборочный",
"РодительКод": "442000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=442020;<br> Наименование=Участок №2 слесарно-сборочный<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=442000<BR>
 Код=442020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757837");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_499)</span><div id='gateway/receive_3_podrazd1514306757837' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "442020",
"Наименование": "Участок №2 слесарно-сборочный",
"РодительКод": "442000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=442020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=442020
OLD_PID=442000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=442000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=442000, name='Участок №2 слесарно-сборочный', is_deleted=0, changed=now() where ID=442020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757843");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_499)</span><div id='gateway/jinr_setDivParents1514306757843' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=442020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=442000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=442000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=442020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Цех опытно-экспериментального производства / Участок №2 слесарно-сборочный' where id=442020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757843");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757837");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_499");'>Request_HR_LHEP_499 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_500");'> Request_HR_LHEP_500 [26.12 19:45:57] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_500' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f19-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115273&ClientObjectID=71010&Time=27.02.2017 12:41:13&Object={
"Код": "071010",
"Наименование": "Стадион",
"РодительКод": "071000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=71010;<br> Наименование=Стадион<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=071000<BR>
 Код=071010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757928");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_500)</span><div id='gateway/receive_3_podrazd1514306757928' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "071010",
"Наименование": "Стадион",
"РодительКод": "071000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=071010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=71010
OLD_PID=71000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=071000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=071000, name='Стадион', is_deleted=0, changed=now() where ID=071010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757934");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_500)</span><div id='gateway/jinr_setDivParents1514306757934' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=71010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=71000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=71000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=71010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Спортивный комплекс ОИЯИ / Стадион ' where id=71010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306757934");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306757928");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_500");'>Request_HR_LHEP_500 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_501");'> Request_HR_LHEP_501 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_501' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da65-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115283&ClientObjectID=442010&Time=27.02.2017 12:41:07&Object={
"Код": "442010",
"Наименование": "Участок №1 механический",
"РодительКод": "442000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=442010;<br> Наименование=Участок №1 механический<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=442000<BR>
 Код=442010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758032");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_501)</span><div id='gateway/receive_3_podrazd1514306758032' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "442010",
"Наименование": "Участок №1 механический",
"РодительКод": "442000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=442010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=442010
OLD_PID=442000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=442000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=442000, name='Участок №1 механический', is_deleted=0, changed=now() where ID=442010
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758041");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_501)</span><div id='gateway/jinr_setDivParents1514306758041' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=442010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=442000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=442000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=442010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Цех опытно-экспериментального производства / Участок №1 механический' where id=442010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758041");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758032");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_501");'>Request_HR_LHEP_501 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_502");'> Request_HR_LHEP_502 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_502' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f1b-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115275&ClientObjectID=71020&Time=27.02.2017 12:41:13&Object={
"Код": "071020",
"Наименование": "Дом физкультуры",
"РодительКод": "071000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=71020;<br> Наименование=Дом физкультуры<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=071000<BR>
 Код=071020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758141");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_502)</span><div id='gateway/receive_3_podrazd1514306758141' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "071020",
"Наименование": "Дом физкультуры",
"РодительКод": "071000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=071020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=71020
OLD_PID=71000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=071000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=071000, name='Дом физкультуры', is_deleted=0, changed=now() where ID=071020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758147");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_502)</span><div id='gateway/jinr_setDivParents1514306758147' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=71020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=71000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=71000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=71020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Спортивный комплекс ОИЯИ / Дом физкультуры' where id=71020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758147");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758141");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_502");'>Request_HR_LHEP_502 (gateway/receive) DONE! (130ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_503");'> Request_HR_LHEP_503 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_503' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b395-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115288&ClientObjectID=141020&Time=27.02.2017 12:41:04&Object={
"Код": "141020",
"Наименование": "Сектор №2 анализа ядро-ядерных взаимодействий и развития методики эксперимента",
"РодительКод": "141000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=141020;<br> Наименование=Сектор №2 анализа ядро-ядерных взаимодействий и развития методики эксперимента<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=141000<BR>
 Код=141020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758459");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_503)</span><div id='gateway/receive_3_podrazd1514306758459' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "141020",
"Наименование": "Сектор №2 анализа ядро-ядерных взаимодействий и развития методики эксперимента",
"РодительКод": "141000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=141020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=141020
OLD_PID=141000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=141000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=141000, name='Сектор №2 анализа ядро-ядерных взаимодействий и развития методики эксперимента', is_deleted=0, changed=now() where ID=141020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758465");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_503)</span><div id='gateway/jinr_setDivParents1514306758465' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=141020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=141000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=141000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=141020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на RHIC / Сектор №2 анализа ядро-ядерных взаимодействий и развития методики эксперимента  ' where id=141020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758465");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758459");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_503");'>Request_HR_LHEP_503 (gateway/receive) DONE! (95ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_504");'> Request_HR_LHEP_504 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_504' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b396-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115289&ClientObjectID=602010&Time=27.02.2017 12:41:05&Object={
"Код": "602010",
"Наименование": "Сектор №1 распределенных систем",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602010;<br> Наименование=Сектор №1 распределенных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=602000<BR>
 Код=602010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758578");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_504)</span><div id='gateway/receive_3_podrazd1514306758578' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602010",
"Наименование": "Сектор №1 распределенных систем",
"РодительКод": "602000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602010
OLD_PID=602000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=602000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=602000, name='Сектор №1 распределенных систем', is_deleted=0, changed=now() where ID=602010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758585");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_504)</span><div id='gateway/jinr_setDivParents1514306758585' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=602000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=602000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС / Сектор №1 распределенных систем ' where id=602010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758585");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758578");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_504");'>Request_HR_LHEP_504 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_505");'> Request_HR_LHEP_505 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_505' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b394-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115290&ClientObjectID=141010&Time=27.02.2017 12:41:04&Object={
"Код": "141010",
"Наименование": "Сектор №1 исследований структуры ядер и частиц при экстремальных условиях",
"РодительКод": "141000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=141010;<br> Наименование=Сектор №1 исследований структуры ядер и частиц при экстремальных условиях<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=141000<BR>
 Код=141010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758674");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_505)</span><div id='gateway/receive_3_podrazd1514306758674' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "141010",
"Наименование": "Сектор №1 исследований структуры ядер и частиц при экстремальных условиях",
"РодительКод": "141000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=141010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=141010
OLD_PID=141000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=141000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=141000, name='Сектор №1 исследований структуры ядер и частиц при экстремальных условиях', is_deleted=0, changed=now() where ID=141010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758682");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_505)</span><div id='gateway/jinr_setDivParents1514306758682' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=141010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=141000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=141000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=141010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на RHIC / Сектор №1 исследований структуры ядер и частиц при экстремальных условиях' where id=141010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758682");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758674");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_505");'>Request_HR_LHEP_505 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_506");'> Request_HR_LHEP_506 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_506' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d1-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115300&ClientObjectID=204030&Time=27.02.2017 12:40:58&Object={
"Код": "204030",
"Наименование": "Сектор №3 масс-сепараторов",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204030;<br> Наименование=Сектор №3 масс-сепараторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204000<BR>
 Код=204030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758771");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_506)</span><div id='gateway/receive_3_podrazd1514306758771' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204030",
"Наименование": "Сектор №3 масс-сепараторов",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204030
OLD_PID=204000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204000, name='Сектор №3 масс-сепараторов', is_deleted=0, changed=now() where ID=204030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758777");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_506)</span><div id='gateway/jinr_setDivParents1514306758777' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №3 масс-сепараторов' where id=204030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758777");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758771");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_506");'>Request_HR_LHEP_506 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_507");'> Request_HR_LHEP_507 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_507' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d2-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115298&ClientObjectID=204040&Time=27.02.2017 12:40:59&Object={
"Код": "204040",
"Наименование": "Сектор №4 радиохимии",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204040;<br> Наименование=Сектор №4 радиохимии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204000<BR>
 Код=204040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758856");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_507)</span><div id='gateway/receive_3_podrazd1514306758856' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204040",
"Наименование": "Сектор №4 радиохимии",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204040
OLD_PID=204000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204000, name='Сектор №4 радиохимии', is_deleted=0, changed=now() where ID=204040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758861");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_507)</span><div id='gateway/jinr_setDivParents1514306758861' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №4 радиохимии' where id=204040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758861");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758856");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_507");'>Request_HR_LHEP_507 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_508");'> Request_HR_LHEP_508 [26.12 19:45:58] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_508' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=defda8ee-1bd1-11e4-941d-0025907d24fa&GateObjectID=115297&ClientObjectID=131001&Time=27.02.2017 12:41:00&Object={
"Код": "131001",
"Наименование": "Группа №1 адронных взаимодействий",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=131001;<br> Наименование=Группа №1 адронных взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=131000<BR>
 Код=131001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758941");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_508)</span><div id='gateway/receive_3_podrazd1514306758941' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "131001",
"Наименование": "Группа №1 адронных взаимодействий",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=131001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=131001
OLD_PID=131000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=131000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=131000, name='Группа №1 адронных взаимодействий', is_deleted=0, changed=now() where ID=131001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758946");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_508)</span><div id='gateway/jinr_setDivParents1514306758946' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=131001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=131000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=131000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=131001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел физики легких кварков и лептонов / Группа №1 адронных взаимодействий' where id=131001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306758946");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306758941");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_508");'>Request_HR_LHEP_508 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_509");'> Request_HR_LHEP_509 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_509' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=bcf639b0-1bd1-11e4-941d-0025907d24fa&GateObjectID=115296&ClientObjectID=131040&Time=27.02.2017 12:41:00&Object={
"Код": "131040",
"Наименование": "Сектор №2 структуры частиц",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=131040;<br> Наименование=Сектор №2 структуры частиц<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=131000<BR>
 Код=131040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759035");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_509)</span><div id='gateway/receive_3_podrazd1514306759035' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "131040",
"Наименование": "Сектор №2 структуры частиц",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=131040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=131040
OLD_PID=131000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=131000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=131000, name='Сектор №2 структуры частиц', is_deleted=0, changed=now() where ID=131040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759042");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_509)</span><div id='gateway/jinr_setDivParents1514306759042' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=131040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=131000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=131000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=131040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел физики легких кварков и лептонов / Сектор №2 структуры частиц' where id=131040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759042");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759035");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_509");'>Request_HR_LHEP_509 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_510");'> Request_HR_LHEP_510 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_510' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b387-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115295&ClientObjectID=131010&Time=27.02.2017 12:41:01&Object={
"Код": "131010",
"Наименование": "Сектор №1 редких процессов",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=131010;<br> Наименование=Сектор №1 редких процессов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=131000<BR>
 Код=131010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759124");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_510)</span><div id='gateway/receive_3_podrazd1514306759124' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "131010",
"Наименование": "Сектор №1 редких процессов",
"РодительКод": "131000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=131010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=131010
OLD_PID=131000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=131000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=131000, name='Сектор №1 редких процессов', is_deleted=0, changed=now() where ID=131010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759130");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_510)</span><div id='gateway/jinr_setDivParents1514306759130' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=131010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=131000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=131000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=131010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел физики легких кварков и лептонов / Сектор №1 редких процессов' where id=131010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759130");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759124");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_510");'>Request_HR_LHEP_510 (gateway/receive) DONE! (131ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_511");'> Request_HR_LHEP_511 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_511' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f48-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115292&ClientObjectID=117002&Time=27.02.2017 12:41:03&Object={
"Код": "117002",
"Наименование": "Группа №2 ожижительных установок",
"РодительКод": "117000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=117002;<br> Наименование=Группа №2 ожижительных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=117000<BR>
 Код=117002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759470");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_511)</span><div id='gateway/receive_3_podrazd1514306759470' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "117002",
"Наименование": "Группа №2 ожижительных установок",
"РодительКод": "117000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=117002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=117002
OLD_PID=117000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=117000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=117000, name='Группа №2 ожижительных установок', is_deleted=0, changed=now() where ID=117002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759482");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_511)</span><div id='gateway/jinr_setDivParents1514306759482' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=117002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=117000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=117000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=117002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-исследовательский криогенный отдел / Группа №2 ожижительных установок ' where id=117002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759482");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759470");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (27ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_511");'>Request_HR_LHEP_511 (gateway/receive) DONE! (307ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_512");'> Request_HR_LHEP_512 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_512' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d3-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115299&ClientObjectID=204050&Time=27.02.2017 12:40:59&Object={
"Код": "204050",
"Наименование": "Сектор №5 полупроводниковых и сцинтилляционных детекторов",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204050;<br> Наименование=Сектор №5 полупроводниковых и сцинтилляционных детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=204000<BR>
 Код=204050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759595");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_512)</span><div id='gateway/receive_3_podrazd1514306759595' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204050",
"Наименование": "Сектор №5 полупроводниковых и сцинтилляционных детекторов",
"РодительКод": "204000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204050
OLD_PID=204000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=204000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=204000, name='Сектор №5 полупроводниковых и сцинтилляционных детекторов', is_deleted=0, changed=now() where ID=204050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759603");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_512)</span><div id='gateway/jinr_setDivParents1514306759603' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=204000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии / Сектор №5 полупроводниковых и сцинтилляционных детекторов' where id=204050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759603");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759595");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_512");'>Request_HR_LHEP_512 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_513");'> Request_HR_LHEP_513 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_513' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ce-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115271&ClientObjectID=192002&Time=27.02.2017 12:41:15&Object={
"Код": "192002",
"Наименование": "Группа №2 уборщиков помещений и территории",
"РодительКод": "192000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=192002;<br> Наименование=Группа №2 уборщиков помещений и территории<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=192000<BR>
 Код=192002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759694");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_513)</span><div id='gateway/receive_3_podrazd1514306759694' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "192002",
"Наименование": "Группа №2 уборщиков помещений и территории",
"РодительКод": "192000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=192002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=192002
OLD_PID=192000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=192000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=192000, name='Группа №2 уборщиков помещений и территории', is_deleted=0, changed=now() where ID=192002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759699");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_513)</span><div id='gateway/jinr_setDivParents1514306759699' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=192002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=192000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=192000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=192002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение / Хозяйственный отдел / Группа №2 уборщиков помещений и территории' where id=192002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759699");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759694");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_513");'>Request_HR_LHEP_513 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_514");'> Request_HR_LHEP_514 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_514' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac350-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115270&ClientObjectID=560002&Time=27.02.2017 12:41:16&Object={
"Код": "560002",
"Наименование": "Группа №2 хозяйственного обслуживания",
"РодительКод": "560000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=560002;<br> Наименование=Группа №2 хозяйственного обслуживания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=560000<BR>
 Код=560002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759783");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_514)</span><div id='gateway/receive_3_podrazd1514306759783' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "560002",
"Наименование": "Группа №2 хозяйственного обслуживания",
"РодительКод": "560000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=560002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=560002
OLD_PID=560000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=560000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=560000, name='Группа №2 хозяйственного обслуживания', is_deleted=0, changed=now() where ID=560002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759790");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_514)</span><div id='gateway/jinr_setDivParents1514306759790' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=560002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=560000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=560000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=560002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Административно-хозяйственный отдел / Группа №2 хозяйственного обслуживания' where id=560002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759790");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759783");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_514");'>Request_HR_LHEP_514 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_515");'> Request_HR_LHEP_515 [26.12 19:45:59] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_515' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf05-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115269&ClientObjectID=821001&Time=27.02.2017 12:41:17&Object={
"Код": "821001",
"Наименование": "Группа №1 облучения",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821001;<br> Наименование=Группа №1 облучения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759876");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_515)</span><div id='gateway/receive_3_podrazd1514306759876' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821001",
"Наименование": "Группа №1 облучения",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821001
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Группа №1 облучения', is_deleted=0, changed=now() where ID=821001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759882");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_515)</span><div id='gateway/jinr_setDivParents1514306759882' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Группа №1 облучения' where id=821001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306759882");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306759876");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_515");'>Request_HR_LHEP_515 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_516");'> Request_HR_LHEP_516 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_516' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac351-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115268&ClientObjectID=560003&Time=27.02.2017 12:41:16&Object={
"Код": "560003",
"Наименование": "Группа №3 административно-финансовая",
"РодительКод": "560000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=560003;<br> Наименование=Группа №3 административно-финансовая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=560000<BR>
 Код=560003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760174");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_516)</span><div id='gateway/receive_3_podrazd1514306760174' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "560003",
"Наименование": "Группа №3 административно-финансовая",
"РодительКод": "560000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=560003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=560003
OLD_PID=560000
is_manual=0</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=560000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=560000, name='Группа №3 административно-финансовая', is_deleted=0, changed=now() where ID=560003
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760184");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_516)</span><div id='gateway/jinr_setDivParents1514306760184' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=560003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=560000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=560000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=560003
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Административно-хозяйственный отдел / Группа №3 административно-финансовая' where id=560003
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760184");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760174");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_516");'>Request_HR_LHEP_516 (gateway/receive) DONE! (288ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_517");'> Request_HR_LHEP_517 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_517' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf07-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115267&ClientObjectID=821003&Time=27.02.2017 12:41:18&Object={
"Код": "821003",
"Наименование": "Группа №3 механосборочных работ",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821003;<br> Наименование=Группа №3 механосборочных работ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760266");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_517)</span><div id='gateway/receive_3_podrazd1514306760266' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821003",
"Наименование": "Группа №3 механосборочных работ",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821003
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Группа №3 механосборочных работ', is_deleted=0, changed=now() where ID=821003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760273");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_517)</span><div id='gateway/jinr_setDivParents1514306760273' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Группа №3 механосборочных работ' where id=821003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760273");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760266");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_517");'>Request_HR_LHEP_517 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_518");'> Request_HR_LHEP_518 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_518' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf06-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115266&ClientObjectID=821002&Time=27.02.2017 12:41:18&Object={
"Код": "821002",
"Наименование": "Группа №2 аналитического контроля и электронно-микроскопических  исследований",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821002;<br> Наименование=Группа №2 аналитического контроля и электронно-микроскопических  исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760349");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_518)</span><div id='gateway/receive_3_podrazd1514306760349' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821002",
"Наименование": "Группа №2 аналитического контроля и электронно-микроскопических  исследований",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821002
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Группа №2 аналитического контроля и электронно-микроскопических  исследований', is_deleted=0, changed=now() where ID=821002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760354");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_518)</span><div id='gateway/jinr_setDivParents1514306760354' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Группа №2 аналитического контроля и электронно-микроскопических  исследований' where id=821002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760354");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760349");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_518");'>Request_HR_LHEP_518 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_519");'> Request_HR_LHEP_519 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_519' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf01-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115265&ClientObjectID=821010&Time=27.02.2017 12:41:19&Object={
"Код": "821010",
"Наименование": "Сектор №1 радиоаналитических исследований и особо чистых изотопов",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821010;<br> Наименование=Сектор №1 радиоаналитических исследований и особо чистых изотопов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760431");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_519)</span><div id='gateway/receive_3_podrazd1514306760431' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821010",
"Наименование": "Сектор №1 радиоаналитических исследований и особо чистых изотопов",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821010
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Сектор №1 радиоаналитических исследований и особо чистых изотопов', is_deleted=0, changed=now() where ID=821010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760438");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_519)</span><div id='gateway/jinr_setDivParents1514306760438' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Сектор №1 радиоаналитических исследований и особо чистых изотопов' where id=821010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760438");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760431");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_519");'>Request_HR_LHEP_519 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_520");'> Request_HR_LHEP_520 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_520' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=15beea60-ddfc-11e4-9436-0025907d24fa&GateObjectID=115255&ClientObjectID=64020&Time=27.02.2017 12:41:25&Object={
"Код": "064020",
"Наименование": "Гостиница \"Дубна\" корпус №3",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64020;<br> Наименование=Гостиница "Дубна" корпус №3<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064000<BR>
 Код=064020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760533");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_520)</span><div id='gateway/receive_3_podrazd1514306760533' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064020",
"Наименование": "Гостиница \"Дубна\" корпус №3",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64020
OLD_PID=64000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064000, name='Гостиница "Дубна" корпус №3', is_deleted=0, changed=now() where ID=064020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760540");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_520)</span><div id='gateway/jinr_setDivParents1514306760540' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=64000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=64000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства / Гостиница "Дубна" корпус №3' where id=64020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760540");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760533");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_520");'>Request_HR_LHEP_520 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_521");'> Request_HR_LHEP_521 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_521' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac34f-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115272&ClientObjectID=560001&Time=27.02.2017 12:41:15&Object={
"Код": "560001",
"Наименование": "Группа №1 по организации труда, кадрам и делопроизводству",
"РодительКод": "560000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=560001;<br> Наименование=Группа №1 по организации труда, кадрам и делопроизводству<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=560000<BR>
 Код=560001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760627");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_521)</span><div id='gateway/receive_3_podrazd1514306760627' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "560001",
"Наименование": "Группа №1 по организации труда, кадрам и делопроизводству",
"РодительКод": "560000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=560001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=560001
OLD_PID=560000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=560000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=560000, name='Группа №1 по организации труда, кадрам и делопроизводству', is_deleted=0, changed=now() where ID=560001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760633");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_521)</span><div id='gateway/jinr_setDivParents1514306760633' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=560001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=560000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=560000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=560001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Административно-хозяйственный отдел / Группа №1 по организации труда, кадрам и делопроизводству' where id=560001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760633");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760627");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_521");'>Request_HR_LHEP_521 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_522");'> Request_HR_LHEP_522 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_522' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94cd-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115274&ClientObjectID=192001&Time=27.02.2017 12:41:14&Object={
"Код": "192001",
"Наименование": "Группа №1 технического обслуживания территории",
"РодительКод": "192000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=192001;<br> Наименование=Группа №1 технического обслуживания территории<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=192000<BR>
 Код=192001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760763");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_522)</span><div id='gateway/receive_3_podrazd1514306760763' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "192001",
"Наименование": "Группа №1 технического обслуживания территории",
"РодительКод": "192000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=192001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=192001
OLD_PID=192000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=192000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=192000, name='Группа №1 технического обслуживания территории', is_deleted=0, changed=now() where ID=192001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760769");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_522)</span><div id='gateway/jinr_setDivParents1514306760769' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=192001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=192000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=192000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=192001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение / Хозяйственный отдел / Группа №1 технического обслуживания территории' where id=192001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760769");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760763");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_522");'>Request_HR_LHEP_522 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_523");'> Request_HR_LHEP_523 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_523' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f34-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115282&ClientObjectID=114010&Time=27.02.2017 12:41:09&Object={
"Код": "114010",
"Наименование": "Сектор №1 кольца Нуклотрона",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114010;<br> Наименование=Сектор №1 кольца Нуклотрона<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114000<BR>
 Код=114010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760859");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_523)</span><div id='gateway/receive_3_podrazd1514306760859' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114010",
"Наименование": "Сектор №1 кольца Нуклотрона",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114010
OLD_PID=114000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114000, name='Сектор №1 кольца Нуклотрона', is_deleted=0, changed=now() where ID=114010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760866");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_523)</span><div id='gateway/jinr_setDivParents1514306760866' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №1 кольца Нуклотрона' where id=114010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760866");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760859");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_523");'>Request_HR_LHEP_523 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_524");'> Request_HR_LHEP_524 [26.12 19:46:0] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_524' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da67-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115281&ClientObjectID=442030&Time=27.02.2017 12:41:09&Object={
"Код": "442030",
"Наименование": "Участок №3 технологический",
"РодительКод": "442000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=442030;<br> Наименование=Участок №3 технологический<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=442000<BR>
 Код=442030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760947");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_524)</span><div id='gateway/receive_3_podrazd1514306760947' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "442030",
"Наименование": "Участок №3 технологический",
"РодительКод": "442000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=442030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=442030
OLD_PID=442000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=442000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=442000, name='Участок №3 технологический', is_deleted=0, changed=now() where ID=442030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760954");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_524)</span><div id='gateway/jinr_setDivParents1514306760954' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=442030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=442000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=442000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=442030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Цех опытно-экспериментального производства / Участок №3 технологический' where id=442030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306760954");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306760947");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_524");'>Request_HR_LHEP_524 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_525");'> Request_HR_LHEP_525 [26.12 19:46:1] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_525' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f38-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115280&ClientObjectID=114030&Time=27.02.2017 12:41:10&Object={
"Код": "114030",
"Наименование": "Сектор №3 электронно-лучевого источника ионов",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114030;<br> Наименование=Сектор №3 электронно-лучевого источника ионов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114000<BR>
 Код=114030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761048");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_525)</span><div id='gateway/receive_3_podrazd1514306761048' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114030",
"Наименование": "Сектор №3 электронно-лучевого источника ионов",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114030
OLD_PID=114000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114000, name='Сектор №3 электронно-лучевого источника ионов', is_deleted=0, changed=now() where ID=114030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761054");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_525)</span><div id='gateway/jinr_setDivParents1514306761054' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №3 электронно-лучевого источника ионов' where id=114030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761054");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761048");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_525");'>Request_HR_LHEP_525 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_526");'> Request_HR_LHEP_526 [26.12 19:46:1] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_526' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f3a-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115279&ClientObjectID=114050&Time=27.02.2017 12:41:11&Object={
"Код": "114050",
"Наименование": "Сектор №5 линейных ускорителей",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114050;<br> Наименование=Сектор №5 линейных ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114000<BR>
 Код=114050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761133");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_526)</span><div id='gateway/receive_3_podrazd1514306761133' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114050",
"Наименование": "Сектор №5 линейных ускорителей",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114050
OLD_PID=114000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114000, name='Сектор №5 линейных ускорителей', is_deleted=0, changed=now() where ID=114050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761139");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_526)</span><div id='gateway/jinr_setDivParents1514306761139' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114050
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №5 линейных ускорителей' where id=114050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761139");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761133");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_526");'>Request_HR_LHEP_526 (gateway/receive) DONE! (117ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_527");'> Request_HR_LHEP_527 [26.12 19:46:1] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_527' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f39-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115278&ClientObjectID=114040&Time=27.02.2017 12:41:11&Object={
"Код": "114040",
"Наименование": "Сектор №4 источника поляризованных ионов",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114040;<br> Наименование=Сектор №4 источника поляризованных ионов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114000<BR>
 Код=114040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761261");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_527)</span><div id='gateway/receive_3_podrazd1514306761261' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114040",
"Наименование": "Сектор №4 источника поляризованных ионов",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114040
OLD_PID=114000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114000, name='Сектор №4 источника поляризованных ионов', is_deleted=0, changed=now() where ID=114040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761267");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_527)</span><div id='gateway/jinr_setDivParents1514306761267' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №4 источника поляризованных ионов  ' where id=114040
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761267");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761261");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_527");'>Request_HR_LHEP_527 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_528");'> Request_HR_LHEP_528 [26.12 19:46:1] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_528' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f1d-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115277&ClientObjectID=71030&Time=27.02.2017 12:41:12&Object={
"Код": "071030",
"Наименование": "Плавательный бассейн \"Архимед\"",
"РодительКод": "071000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=71030;<br> Наименование=Плавательный бассейн "Архимед"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=071000<BR>
 Код=071030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761771");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_528)</span><div id='gateway/receive_3_podrazd1514306761771' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "071030",
"Наименование": "Плавательный бассейн \"Архимед\"",
"РодительКод": "071000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=071030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=71030
OLD_PID=71000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=071000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=071000, name='Плавательный бассейн "Архимед"', is_deleted=0, changed=now() where ID=071030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761779");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_528)</span><div id='gateway/jinr_setDivParents1514306761779' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=71030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=71000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=71000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=71030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Спортивный комплекс ОИЯИ / Плавательный бассейн "Архимед" ' where id=71030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761779");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761771");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_528");'>Request_HR_LHEP_528 (gateway/receive) DONE! (95ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_529");'> Request_HR_LHEP_529 [26.12 19:46:1] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_529' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f36-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115276&ClientObjectID=114020&Time=27.02.2017 12:41:12&Object={
"Код": "114020",
"Наименование": "Сектор №2 инжекции ЛУ-20",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114020;<br> Наименование=Сектор №2 инжекции ЛУ-20<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=114000<BR>
 Код=114020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761925");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_529)</span><div id='gateway/receive_3_podrazd1514306761925' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114020",
"Наименование": "Сектор №2 инжекции ЛУ-20",
"РодительКод": "114000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114020
OLD_PID=114000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=114000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=114000, name='Сектор №2 инжекции ЛУ-20', is_deleted=0, changed=now() where ID=114020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761930");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_529)</span><div id='gateway/jinr_setDivParents1514306761930' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=114000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона / Сектор №2 инжекции ЛУ-20' where id=114020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306761930");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306761925");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_529");'>Request_HR_LHEP_529 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_530");'> Request_HR_LHEP_530 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_530' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844837-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115253&ClientObjectID=64050&Time=27.02.2017 12:41:27&Object={
"Код": "064050",
"Наименование": "Группа обслуживания общежитий",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64050;<br> Наименование=Группа обслуживания общежитий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064000<BR>
 Код=064050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762018");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_530)</span><div id='gateway/receive_3_podrazd1514306762018' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064050",
"Наименование": "Группа обслуживания общежитий",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64050
OLD_PID=64000
is_manual=0</xmp>------ SQL done, 5ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064000, name='Группа обслуживания общежитий', is_deleted=0, changed=now() where ID=064050
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762035");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_530)</span><div id='gateway/jinr_setDivParents1514306762035' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=64000
LEV_OLD=4</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=64000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства / Группа обслуживания общежитий ' where id=64050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762035");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762018");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (30ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_530");'>Request_HR_LHEP_530 (gateway/receive) DONE! (96ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_531");'> Request_HR_LHEP_531 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_531' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844836-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115252&ClientObjectID=64040&Time=27.02.2017 12:41:26&Object={
"Код": "064040",
"Наименование": "Группа обслуживания квартирного фонда",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64040;<br> Наименование=Группа обслуживания квартирного фонда<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064000<BR>
 Код=064040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762116");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_531)</span><div id='gateway/receive_3_podrazd1514306762116' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064040",
"Наименование": "Группа обслуживания квартирного фонда",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64040
OLD_PID=64000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064000, name='Группа обслуживания квартирного фонда', is_deleted=0, changed=now() where ID=064040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762121");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_531)</span><div id='gateway/jinr_setDivParents1514306762121' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=64000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=64000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства / Группа обслуживания квартирного фонда' where id=64040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762121");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762116");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_531");'>Request_HR_LHEP_531 (gateway/receive) DONE! (139ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_532");'> Request_HR_LHEP_532 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_532' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf12-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115251&ClientObjectID=952010&Time=27.02.2017 12:41:29&Object={
"Код": "952010",
"Наименование": "Участок наружных сетей водопровода",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=952010;<br> Наименование=Участок наружных сетей водопровода<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=952000<BR>
 Код=952010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762272");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_532)</span><div id='gateway/receive_3_podrazd1514306762272' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "952010",
"Наименование": "Участок наружных сетей водопровода",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=952010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=952010
OLD_PID=952000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=952000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=952000, name='Участок наружных сетей водопровода', is_deleted=0, changed=now() where ID=952010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762278");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_532)</span><div id='gateway/jinr_setDivParents1514306762278' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=952010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=952000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=952000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=952010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Цех эксплуатации коммуникаций водоснабжения / Участок наружных сетей водопровода' where id=952010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762278");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762272");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_532");'>Request_HR_LHEP_532 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_533");'> Request_HR_LHEP_533 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_533' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf14-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115250&ClientObjectID=952030&Time=27.02.2017 12:41:30&Object={
"Код": "952030",
"Наименование": "Насосно-фильтровальная станция",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=952030;<br> Наименование=Насосно-фильтровальная станция<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=952000<BR>
 Код=952030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762368");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_533)</span><div id='gateway/receive_3_podrazd1514306762368' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "952030",
"Наименование": "Насосно-фильтровальная станция",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=952030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=952030
OLD_PID=952000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=952000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=952000, name='Насосно-фильтровальная станция', is_deleted=0, changed=now() where ID=952030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762374");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_533)</span><div id='gateway/jinr_setDivParents1514306762374' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=952030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=952000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=952000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=952030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Цех эксплуатации коммуникаций водоснабжения / Насосно-фильтровальная станция' where id=952030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762374");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762368");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_533");'>Request_HR_LHEP_533 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_534");'> Request_HR_LHEP_534 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_534' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf13-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115249&ClientObjectID=952020&Time=27.02.2017 12:41:30&Object={
"Код": "952020",
"Наименование": "Участок обслуживания канализационных сетей и сооружений",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=952020;<br> Наименование=Участок обслуживания канализационных сетей и сооружений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=952000<BR>
 Код=952020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762450");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_534)</span><div id='gateway/receive_3_podrazd1514306762450' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "952020",
"Наименование": "Участок обслуживания канализационных сетей и сооружений",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=952020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=952020
OLD_PID=952000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=952000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=952000, name='Участок обслуживания канализационных сетей и сооружений', is_deleted=0, changed=now() where ID=952020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762456");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_534)</span><div id='gateway/jinr_setDivParents1514306762456' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=952020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=952000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=952000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=952020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Цех эксплуатации коммуникаций водоснабжения / Участок обслуживания канализационных сетей и сооружений' where id=952020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762456");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762450");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_534");'>Request_HR_LHEP_534 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_535");'> Request_HR_LHEP_535 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_535' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c2-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=46156&ClientObjectID=171010&Time=27.02.2017 12:41:28&Object={
"Код": "171010",
"Наименование": "Конструкторское бюро №1",
"РодительКод": "171000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=171010;<br> Наименование=Конструкторское бюро №1<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=171000<BR>
 Код=171010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762537");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_535)</span><div id='gateway/receive_3_podrazd1514306762537' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "171010",
"Наименование": "Конструкторское бюро №1",
"РодительКод": "171000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=171010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=171010
OLD_PID=171000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=171000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=171000, name='Конструкторское бюро №1', is_deleted=0, changed=now() where ID=171010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762542");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_535)</span><div id='gateway/jinr_setDivParents1514306762542' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=171010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=171000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=171000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=171010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Конструкторский отдел / Конструкторское бюро №1' where id=171010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762542");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762537");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_535");'>Request_HR_LHEP_535 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_536");'> Request_HR_LHEP_536 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_536' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c3-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=46157&ClientObjectID=171020&Time=27.02.2017 12:41:28&Object={
"Код": "171020",
"Наименование": "Конструкторское бюро №2",
"РодительКод": "171000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=171020;<br> Наименование=Конструкторское бюро №2<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=171000<BR>
 Код=171020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762626");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_536)</span><div id='gateway/receive_3_podrazd1514306762626' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "171020",
"Наименование": "Конструкторское бюро №2",
"РодительКод": "171000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=171020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=171020
OLD_PID=171000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=171000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=171000, name='Конструкторское бюро №2', is_deleted=0, changed=now() where ID=171020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762632");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_536)</span><div id='gateway/jinr_setDivParents1514306762632' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=171020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=171000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=171000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=171020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Конструкторский отдел / Конструкторское бюро №2' where id=171020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762632");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762626");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_536");'>Request_HR_LHEP_536 (gateway/receive) DONE! (104ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_537");'> Request_HR_LHEP_537 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_537' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844832-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115254&ClientObjectID=64010&Time=27.02.2017 12:41:26&Object={
"Код": "064010",
"Наименование": "Гостиница \"Дубна\" корпус №1",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64010;<br> Наименование=Гостиница "Дубна" корпус №1<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064000<BR>
 Код=064010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762762");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_537)</span><div id='gateway/receive_3_podrazd1514306762762' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064010",
"Наименование": "Гостиница \"Дубна\" корпус №1",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64010
OLD_PID=64000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064000, name='Гостиница "Дубна" корпус №1', is_deleted=0, changed=now() where ID=064010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762768");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_537)</span><div id='gateway/jinr_setDivParents1514306762768' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=64000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=64000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства / Гостиница "Дубна" корпус №1' where id=64010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762768");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762762");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_537");'>Request_HR_LHEP_537 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_538");'> Request_HR_LHEP_538 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_538' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf02-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115263&ClientObjectID=821020&Time=27.02.2017 12:41:19&Object={
"Код": "821020",
"Наименование": "Сектор №2 радиационные исследования на пучках тяжелых ионов",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821020;<br> Наименование=Сектор №2 радиационные исследования на пучках тяжелых ионов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762863");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_538)</span><div id='gateway/receive_3_podrazd1514306762863' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821020",
"Наименование": "Сектор №2 радиационные исследования на пучках тяжелых ионов",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821020
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Сектор №2 радиационные исследования на пучках тяжелых ионов', is_deleted=0, changed=now() where ID=821020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762871");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_538)</span><div id='gateway/jinr_setDivParents1514306762871' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Сектор №2 радиационные исследования на пучках тяжелых ионов' where id=821020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306762871");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762863");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_538");'>Request_HR_LHEP_538 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_539");'> Request_HR_LHEP_539 [26.12 19:46:2] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_539' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=50663fc7-ddfc-11e4-9436-0025907d24fa&GateObjectID=115256&ClientObjectID=64030&Time=27.02.2017 12:41:25&Object={
"Код": "064030",
"Наименование": "Участок водной обработки",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64030;<br> Наименование=Участок водной обработки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064000<BR>
 Код=064030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762997");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_539)</span><div id='gateway/receive_3_podrazd1514306762997' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064030",
"Наименование": "Участок водной обработки",
"РодительКод": "064000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64030
OLD_PID=64000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064000, name='Участок водной обработки', is_deleted=0, changed=now() where ID=064030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763002");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_539)</span><div id='gateway/jinr_setDivParents1514306763002' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=64000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=64000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства / Участок водной обработки' where id=64030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763002");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306762997");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_539");'>Request_HR_LHEP_539 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_540");'> Request_HR_LHEP_540 [26.12 19:46:3] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_540' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf03-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115264&ClientObjectID=821030&Time=27.02.2017 12:41:20&Object={
"Код": "821030",
"Наименование": "Сектор №3 физико-химических структурных и метрологических исследований облученных полимерн.материал.",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821030;<br> Наименование=Сектор №3 физико-химических структурных и метрологических исследований облученных полимерн.материал.<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763083");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_540)</span><div id='gateway/receive_3_podrazd1514306763083' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821030",
"Наименование": "Сектор №3 физико-химических структурных и метрологических исследований облученных полимерн.материал.",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821030
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Сектор №3 физико-химических структурных и метрологических исследований облученных полимерн.материал.', is_deleted=0, changed=now() where ID=821030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763088");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_540)</span><div id='gateway/jinr_setDivParents1514306763088' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Сектор №3 физико-химических структурных и метрологических исследований облученных полимерн.материал.' where id=821030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763088");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763083");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_540");'>Request_HR_LHEP_540 (gateway/receive) DONE! (98ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_541");'> Request_HR_LHEP_541 [26.12 19:46:3] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_541' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf1a-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115262&ClientObjectID=955020&Time=27.02.2017 12:41:21&Object={
"Код": "955020",
"Наименование": "Участок восточной котельной",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=955020;<br> Наименование=Участок восточной котельной<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=955000<BR>
 Код=955020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763205");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_541)</span><div id='gateway/receive_3_podrazd1514306763205' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "955020",
"Наименование": "Участок восточной котельной",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=955020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=955020
OLD_PID=955000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=955000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=955000, name='Участок восточной котельной', is_deleted=0, changed=now() where ID=955020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763213");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_541)</span><div id='gateway/jinr_setDivParents1514306763213' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=955020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=955000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=955000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=955020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Котельный цех / Участок восточной котельной' where id=955020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763213");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763205");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_541");'>Request_HR_LHEP_541 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_542");'> Request_HR_LHEP_542 [26.12 19:46:3] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_542' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf19-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115261&ClientObjectID=955010&Time=27.02.2017 12:41:21&Object={
"Код": "955010",
"Наименование": "Участок центральной котельной",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=955010;<br> Наименование=Участок центральной котельной<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=955000<BR>
 Код=955010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763310");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_542)</span><div id='gateway/receive_3_podrazd1514306763310' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "955010",
"Наименование": "Участок центральной котельной",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=955010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=955010
OLD_PID=955000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=955000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=955000, name='Участок центральной котельной', is_deleted=0, changed=now() where ID=955010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763315");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_542)</span><div id='gateway/jinr_setDivParents1514306763315' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=955010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=955000
LEV_OLD=4</xmp>------ SQL done, 205ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=955000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=955010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Котельный цех / Участок центральной котельной  ' where id=955010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763315");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (218ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763310");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (224ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_542");'>Request_HR_LHEP_542 (gateway/receive) DONE! (490ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_543");'> Request_HR_LHEP_543 [26.12 19:46:3] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_543' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf1b-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115260&ClientObjectID=955030&Time=27.02.2017 12:41:22&Object={
"Код": "955030",
"Наименование": "Участок тепловых сетей",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=955030;<br> Наименование=Участок тепловых сетей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=955000<BR>
 Код=955030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763827");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_543)</span><div id='gateway/receive_3_podrazd1514306763827' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "955030",
"Наименование": "Участок тепловых сетей",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=955030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=955030
OLD_PID=955000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=955000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=955000, name='Участок тепловых сетей', is_deleted=0, changed=now() where ID=955030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763836");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_543)</span><div id='gateway/jinr_setDivParents1514306763836' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=955030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=955000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=955000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=955030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Котельный цех / Участок тепловых сетей' where id=955030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763836");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763827");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_543");'>Request_HR_LHEP_543 (gateway/receive) DONE! (110ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_544");'> Request_HR_LHEP_544 [26.12 19:46:3] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_544' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94de-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115259&ClientObjectID=209010&Time=27.02.2017 12:41:23&Object={
"Код": "209010",
"Наименование": "Участок №1 слесарно-сборочный",
"РодительКод": "209000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=209010;<br> Наименование=Участок №1 слесарно-сборочный<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=209000<BR>
 Код=209010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763949");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_544)</span><div id='gateway/receive_3_podrazd1514306763949' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "209010",
"Наименование": "Участок №1 слесарно-сборочный",
"РодительКод": "209000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=209010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=209010
OLD_PID=209000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=209000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=209000, name='Участок №1 слесарно-сборочный', is_deleted=0, changed=now() where ID=209010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763954");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_544)</span><div id='gateway/jinr_setDivParents1514306763954' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=209010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=209000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=209000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=209010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Цех опытно-экспериментального производства / Участок №1 слесарно-сборочный' where id=209010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306763954");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306763949");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_544");'>Request_HR_LHEP_544 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_545");'> Request_HR_LHEP_545 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_545' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf1c-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115258&ClientObjectID=955040&Time=27.02.2017 12:41:22&Object={
"Код": "955040",
"Наименование": "Группа ремонта и обслуживания КИП и А",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=955040;<br> Наименование=Группа ремонта и обслуживания КИП и А<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=955000<BR>
 Код=955040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764051");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_545)</span><div id='gateway/receive_3_podrazd1514306764051' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "955040",
"Наименование": "Группа ремонта и обслуживания КИП и А",
"РодительКод": "955000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=955040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=955040
OLD_PID=955000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=955000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=955000, name='Группа ремонта и обслуживания КИП и А', is_deleted=0, changed=now() where ID=955040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764057");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_545)</span><div id='gateway/jinr_setDivParents1514306764057' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=955040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=955000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=955000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=955040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Котельный цех / Группа ремонта и обслуживания КИП и А' where id=955040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764057");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764051");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_545");'>Request_HR_LHEP_545 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_546");'> Request_HR_LHEP_546 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_546' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94df-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115257&ClientObjectID=209020&Time=27.02.2017 12:41:24&Object={
"Код": "209020",
"Наименование": "Участок №2 механический",
"РодительКод": "209000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=209020;<br> Наименование=Участок №2 механический<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=209000<BR>
 Код=209020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764136");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_546)</span><div id='gateway/receive_3_podrazd1514306764136' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "209020",
"Наименование": "Участок №2 механический",
"РодительКод": "209000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=209020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=209020
OLD_PID=209000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=209000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=209000, name='Участок №2 механический', is_deleted=0, changed=now() where ID=209020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764143");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_546)</span><div id='gateway/jinr_setDivParents1514306764143' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=209020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=209000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=209000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=209020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Цех опытно-экспериментального производства / Участок №2 механический' where id=209020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764143");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764136");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_546");'>Request_HR_LHEP_546 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_547");'> Request_HR_LHEP_547 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_547' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2689a7d2-0ba1-11e2-92a7-e0cb4eda5b7d&GateObjectID=115237&ClientObjectID=823001&Time=27.02.2017 12:41:38&Object={
"Код": "823001",
"Наименование": "Группа №1 обслуживания",
"РодительКод": "801823",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=823001;<br> Наименование=Группа №1 обслуживания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=801823<BR>
 Код=823001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764250");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_547)</span><div id='gateway/receive_3_podrazd1514306764250' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "823001",
"Наименование": "Группа №1 обслуживания",
"РодительКод": "801823",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=823001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=823001
OLD_PID=801823
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=801823 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=801823, name='Группа №1 обслуживания', is_deleted=0, changed=now() where ID=823001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764257");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_547)</span><div id='gateway/jinr_setDivParents1514306764257' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=823001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=801823
LEV_OLD=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=801823
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=823001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Отдел административно-хозяйственного обеспечения проектных работ / Группа №1 обслуживания' where id=823001
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764257");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764250");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_547");'>Request_HR_LHEP_547 (gateway/receive) DONE! (109ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_548");'> Request_HR_LHEP_548 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_548' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef3-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115236&ClientObjectID=607050&Time=27.02.2017 12:41:38&Object={
"Код": "607050",
"Наименование": "Сектор №5 алгебраических и квантовых вычислений",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=607050;<br> Наименование=Сектор №5 алгебраических и квантовых вычислений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=607000<BR>
 Код=607050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764367");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_548)</span><div id='gateway/receive_3_podrazd1514306764367' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "607050",
"Наименование": "Сектор №5 алгебраических и квантовых вычислений",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=607050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=607050
OLD_PID=607000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=607000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=607000, name='Сектор №5 алгебраических и квантовых вычислений', is_deleted=0, changed=now() where ID=607050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764373");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_548)</span><div id='gateway/jinr_setDivParents1514306764373' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=607050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=607000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=607050
</xmp> <b> Processed in 5ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НОВФ / Сектор №5 алгебраических и квантовых вычислений' where id=607050
</xmp> DONE! 1 record(s) affected------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764373");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (16ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764367");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_548");'>Request_HR_LHEP_548 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_549");'> Request_HR_LHEP_549 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_549' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2689a7d3-0ba1-11e2-92a7-e0cb4eda5b7d&GateObjectID=115235&ClientObjectID=823002&Time=27.02.2017 12:41:39&Object={
"Код": "823002",
"Наименование": "Группа №2 комплектации",
"РодительКод": "801823",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=823002;<br> Наименование=Группа №2 комплектации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=801823<BR>
 Код=823002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764467");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_549)</span><div id='gateway/receive_3_podrazd1514306764467' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "823002",
"Наименование": "Группа №2 комплектации",
"РодительКод": "801823",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=823002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=823002
OLD_PID=801823
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=801823 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=801823, name='Группа №2 комплектации', is_deleted=0, changed=now() where ID=823002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764474");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_549)</span><div id='gateway/jinr_setDivParents1514306764474' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=823002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=801823
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=801823
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=823002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Отдел административно-хозяйственного обеспечения проектных работ / Группа №2 комплектации' where id=823002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764474");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764467");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_549");'>Request_HR_LHEP_549 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_550");'> Request_HR_LHEP_550 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_550' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d7-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115234&ClientObjectID=205020&Time=27.02.2017 12:41:40&Object={
"Код": "205020",
"Наименование": "Сектор №2 высокочастотных систем, ионных источников, систем инжекции и вакуумных систем ускорительных установок",
"РодительКод": "205000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=205020;<br> Наименование=Сектор №2 высокочастотных систем, ионных источников, систем инжекции и вакуумных систем ускорительных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=205000<BR>
 Код=205020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764553");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_550)</span><div id='gateway/receive_3_podrazd1514306764553' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "205020",
"Наименование": "Сектор №2 высокочастотных систем, ионных источников, систем инжекции и вакуумных систем ускорительных установок",
"РодительКод": "205000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=205020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=205020
OLD_PID=205000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=205000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=205000, name='Сектор №2 высокочастотных систем, ионных источников, систем инжекции и вакуумных систем ускорительных установок', is_deleted=0, changed=now() where ID=205020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764559");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_550)</span><div id='gateway/jinr_setDivParents1514306764559' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=205020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=205000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=205000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=205020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел новых ускорителей / Сектор №2 высокочастотных систем, ионных источников, систем инжекции и вакуумных систем ускорительных установок' where id=205020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764559");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764553");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_550");'>Request_HR_LHEP_550 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_551");'> Request_HR_LHEP_551 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_551' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d6-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115233&ClientObjectID=205010&Time=27.02.2017 12:41:40&Object={
"Код": "205010",
"Наименование": "Сектор №1 теории и расчета новых ускорителей",
"РодительКод": "205000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=205010;<br> Наименование=Сектор №1 теории и расчета новых ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=205000<BR>
 Код=205010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764639");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_551)</span><div id='gateway/receive_3_podrazd1514306764639' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "205010",
"Наименование": "Сектор №1 теории и расчета новых ускорителей",
"РодительКод": "205000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=205010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=205010
OLD_PID=205000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=205000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=205000, name='Сектор №1 теории и расчета новых ускорителей', is_deleted=0, changed=now() where ID=205010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764644");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_551)</span><div id='gateway/jinr_setDivParents1514306764644' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=205010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=205000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=205000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=205010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел новых ускорителей / Сектор №1 теории и расчета новых ускорителей' where id=205010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764644");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764639");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_551");'>Request_HR_LHEP_551 (gateway/receive) DONE! (138ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_552");'> Request_HR_LHEP_552 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_552' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ef-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115232&ClientObjectID=248010&Time=27.02.2017 12:41:41&Object={
"Код": "248010",
"Наименование": "Сектор №1 физики редких и запрещенных распадов пионов и мюонов",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248010;<br> Наименование=Сектор №1 физики редких и запрещенных распадов пионов и мюонов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=248000<BR>
 Код=248010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764797");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_552)</span><div id='gateway/receive_3_podrazd1514306764797' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248010",
"Наименование": "Сектор №1 физики редких и запрещенных распадов пионов и мюонов",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248010
OLD_PID=248000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=248000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=248000, name='Сектор №1 физики редких и запрещенных распадов пионов и мюонов', is_deleted=0, changed=now() where ID=248010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764808");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_552)</span><div id='gateway/jinr_setDivParents1514306764808' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=248000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий / Сектор №1 физики редких и запрещенных распадов пионов и мюонов' where id=248010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764808");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764797");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (23ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_552");'>Request_HR_LHEP_552 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_553");'> Request_HR_LHEP_553 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_553' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d8-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115231&ClientObjectID=205030&Time=27.02.2017 12:41:41&Object={
"Код": "205030",
"Наименование": "Сектор №3 расчета, создания и формирования магнитных полей электрофизических установок",
"РодительКод": "205000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=205030;<br> Наименование=Сектор №3 расчета, создания и формирования магнитных полей электрофизических установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=205000<BR>
 Код=205030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764903");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_553)</span><div id='gateway/receive_3_podrazd1514306764903' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "205030",
"Наименование": "Сектор №3 расчета, создания и формирования магнитных полей электрофизических установок",
"РодительКод": "205000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=205030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=205030
OLD_PID=205000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=205000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=205000, name='Сектор №3 расчета, создания и формирования магнитных полей электрофизических установок', is_deleted=0, changed=now() where ID=205030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764912");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_553)</span><div id='gateway/jinr_setDivParents1514306764912' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=205030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=205000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=205000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=205030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел новых ускорителей / Сектор №3 расчета, создания и формирования магнитных полей электрофизических установок' where id=205030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306764912");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764903");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_553");'>Request_HR_LHEP_553 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_554");'> Request_HR_LHEP_554 [26.12 19:46:4] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_554' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef1-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115238&ClientObjectID=607030&Time=27.02.2017 12:41:37&Object={
"Код": "607030",
"Наименование": "Сектор №3 методов решения задач математической физики",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=607030;<br> Наименование=Сектор №3 методов решения задач математической физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=607000<BR>
 Код=607030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764996");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_554)</span><div id='gateway/receive_3_podrazd1514306764996' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "607030",
"Наименование": "Сектор №3 методов решения задач математической физики",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=607030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=607030
OLD_PID=607000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=607000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=607000, name='Сектор №3 методов решения задач математической физики', is_deleted=0, changed=now() where ID=607030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765005");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_554)</span><div id='gateway/jinr_setDivParents1514306765005' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=607030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=607000
LEV_OLD=4</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=607030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НОВФ / Сектор №3 методов решения задач математической физики ' where id=607030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765005");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306764996");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_554");'>Request_HR_LHEP_554 (gateway/receive) DONE! (114ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_555");'> Request_HR_LHEP_555 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_555' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac34a-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115248&ClientObjectID=550001&Time=27.02.2017 12:41:31&Object={
"Код": "550001",
"Наименование": "Группа №1 оперативного персонала",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=550001;<br> Наименование=Группа №1 оперативного персонала<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=550000<BR>
 Код=550001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765167");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_555)</span><div id='gateway/receive_3_podrazd1514306765167' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "550001",
"Наименование": "Группа №1 оперативного персонала",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=550001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=550001
OLD_PID=550000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=550000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=550000, name='Группа №1 оперативного персонала', is_deleted=0, changed=now() where ID=550001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765173");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_555)</span><div id='gateway/jinr_setDivParents1514306765173' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=550001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=550000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=550001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Технологический отдел системы электропитания и автоматизации физических установок / Группа №1 оперативного персонала' where id=550001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765173");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765167");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_555");'>Request_HR_LHEP_555 (gateway/receive) DONE! (109ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_556");'> Request_HR_LHEP_556 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_556' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf15-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115247&ClientObjectID=952040&Time=27.02.2017 12:41:31&Object={
"Код": "952040",
"Наименование": "Лаборатория химико-бактериологического анализа",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=952040;<br> Наименование=Лаборатория химико-бактериологического анализа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=952000<BR>
 Код=952040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765297");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_556)</span><div id='gateway/receive_3_podrazd1514306765297' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "952040",
"Наименование": "Лаборатория химико-бактериологического анализа",
"РодительКод": "952000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=952040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=952040
OLD_PID=952000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=952000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=952000, name='Лаборатория химико-бактериологического анализа', is_deleted=0, changed=now() where ID=952040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765302");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_556)</span><div id='gateway/jinr_setDivParents1514306765302' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=952040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=952000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=952000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=952040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Цех эксплуатации коммуникаций водоснабжения / Лаборатория химико-бактериологического анализа' where id=952040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765302");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765297");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_556");'>Request_HR_LHEP_556 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_557");'> Request_HR_LHEP_557 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_557' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac34b-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115246&ClientObjectID=550002&Time=27.02.2017 12:41:32&Object={
"Код": "550002",
"Наименование": "Группа №2 ремонтно-технологическая",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=550002;<br> Наименование=Группа №2 ремонтно-технологическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=550000<BR>
 Код=550002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765386");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_557)</span><div id='gateway/receive_3_podrazd1514306765386' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "550002",
"Наименование": "Группа №2 ремонтно-технологическая",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=550002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=550002
OLD_PID=550000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=550000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=550000, name='Группа №2 ремонтно-технологическая', is_deleted=0, changed=now() where ID=550002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765391");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_557)</span><div id='gateway/jinr_setDivParents1514306765391' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=550002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=550000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=550002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Технологический отдел системы электропитания и автоматизации физических установок / Группа №2 ремонтно-технологическая' where id=550002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765391");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765386");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_557");'>Request_HR_LHEP_557 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_558");'> Request_HR_LHEP_558 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_558' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac34d-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115245&ClientObjectID=550004&Time=27.02.2017 12:41:33&Object={
"Код": "550004",
"Наименование": "Группа №4 электронной аппаратуры",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=550004;<br> Наименование=Группа №4 электронной аппаратуры<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=550000<BR>
 Код=550004<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765471");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_558)</span><div id='gateway/receive_3_podrazd1514306765471' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "550004",
"Наименование": "Группа №4 электронной аппаратуры",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=550004
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=550004
OLD_PID=550000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=550000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=550000, name='Группа №4 электронной аппаратуры', is_deleted=0, changed=now() where ID=550004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765477");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_558)</span><div id='gateway/jinr_setDivParents1514306765477' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=550004
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=550000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=550004
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Технологический отдел системы электропитания и автоматизации физических установок / Группа №4 электронной аппаратуры' where id=550004
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765477");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765471");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_558");'>Request_HR_LHEP_558 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_559");'> Request_HR_LHEP_559 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_559' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac34c-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115244&ClientObjectID=550003&Time=27.02.2017 12:41:32&Object={
"Код": "550003",
"Наименование": "Группа №3 автоматизированных систем управления",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=550003;<br> Наименование=Группа №3 автоматизированных систем управления<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=550000<BR>
 Код=550003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765568");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_559)</span><div id='gateway/receive_3_podrazd1514306765568' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "550003",
"Наименование": "Группа №3 автоматизированных систем управления",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=550003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=550003
OLD_PID=550000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=550000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=550000, name='Группа №3 автоматизированных систем управления', is_deleted=0, changed=now() where ID=550003
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765574");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_559)</span><div id='gateway/jinr_setDivParents1514306765574' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=550003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=550000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=550003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Технологический отдел системы электропитания и автоматизации физических установок / Группа №3 автоматизированных систем управления' where id=550003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765574");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765568");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_559");'>Request_HR_LHEP_559 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_560");'> Request_HR_LHEP_560 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_560' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f41-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115243&ClientObjectID=116010&Time=27.02.2017 12:41:34&Object={
"Код": "116010",
"Наименование": "Сектор №1 источников питания",
"РодительКод": "116000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=116010;<br> Наименование=Сектор №1 источников питания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=116000<BR>
 Код=116010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765666");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_560)</span><div id='gateway/receive_3_podrazd1514306765666' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "116010",
"Наименование": "Сектор №1 источников питания",
"РодительКод": "116000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=116010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=116010
OLD_PID=116000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=116000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=116000, name='Сектор №1 источников питания', is_deleted=0, changed=now() where ID=116010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765675");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_560)</span><div id='gateway/jinr_setDivParents1514306765675' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=116010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=116000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=116000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=116010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-инженерный отдел систем электропитания Нуклотрона / Сектор №1 источников питания' where id=116010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765675");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765666");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_560");'>Request_HR_LHEP_560 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_561");'> Request_HR_LHEP_561 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_561' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac34e-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115242&ClientObjectID=550005&Time=27.02.2017 12:41:34&Object={
"Код": "550005",
"Наименование": "Группа №5 программного и сетевого обеспечения",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=550005;<br> Наименование=Группа №5 программного и сетевого обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=550000<BR>
 Код=550005<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765773");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_561)</span><div id='gateway/receive_3_podrazd1514306765773' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "550005",
"Наименование": "Группа №5 программного и сетевого обеспечения",
"РодительКод": "550000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=550005
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=550005
OLD_PID=550000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=550000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=550000, name='Группа №5 программного и сетевого обеспечения', is_deleted=0, changed=now() where ID=550005
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765782");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_561)</span><div id='gateway/jinr_setDivParents1514306765782' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=550005
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=550000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=550005
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Технологический отдел системы электропитания и автоматизации физических установок / Группа №5 программного и сетевого обеспечения' where id=550005
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765782");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765773");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_561");'>Request_HR_LHEP_561 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_562");'> Request_HR_LHEP_562 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_562' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f45-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115241&ClientObjectID=116020&Time=27.02.2017 12:41:35&Object={
"Код": "116020",
"Наименование": "Сектор №2 сверхпроводящих магнитов и технологий",
"РодительКод": "116000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=116020;<br> Наименование=Сектор №2 сверхпроводящих магнитов и технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=116000<BR>
 Код=116020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765872");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_562)</span><div id='gateway/receive_3_podrazd1514306765872' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "116020",
"Наименование": "Сектор №2 сверхпроводящих магнитов и технологий",
"РодительКод": "116000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=116020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=116020
OLD_PID=116000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=116000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=116000, name='Сектор №2 сверхпроводящих магнитов и технологий', is_deleted=0, changed=now() where ID=116020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765878");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_562)</span><div id='gateway/jinr_setDivParents1514306765878' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=116020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=116000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=116000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=116020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-инженерный отдел систем электропитания Нуклотрона / Сектор №2 сверхпроводящих магнитов и технологий  ' where id=116020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765878");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765872");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_562");'>Request_HR_LHEP_562 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_563");'> Request_HR_LHEP_563 [26.12 19:46:5] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_563' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef0-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115240&ClientObjectID=607020&Time=27.02.2017 12:41:36&Object={
"Код": "607020",
"Наименование": "Сектор №2 методов моделирования нелинейных систем",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=607020;<br> Наименование=Сектор №2 методов моделирования нелинейных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=607000<BR>
 Код=607020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765964");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_563)</span><div id='gateway/receive_3_podrazd1514306765964' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "607020",
"Наименование": "Сектор №2 методов моделирования нелинейных систем",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=607020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=607020
OLD_PID=607000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=607000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=607000, name='Сектор №2 методов моделирования нелинейных систем', is_deleted=0, changed=now() where ID=607020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765970");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_563)</span><div id='gateway/jinr_setDivParents1514306765970' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=607020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=607000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=607020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НОВФ / Сектор №2 методов моделирования нелинейных систем  ' where id=607020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306765970");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306765964");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_563");'>Request_HR_LHEP_563 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_564");'> Request_HR_LHEP_564 [26.12 19:46:6] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_564' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef2-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115239&ClientObjectID=607040&Time=27.02.2017 12:41:37&Object={
"Код": "607040",
"Наименование": "Сектор №4 расчетов сложных физических систем",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=607040;<br> Наименование=Сектор №4 расчетов сложных физических систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=607000<BR>
 Код=607040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766071");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_564)</span><div id='gateway/receive_3_podrazd1514306766071' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "607040",
"Наименование": "Сектор №4 расчетов сложных физических систем",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=607040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=607040
OLD_PID=607000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=607000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=607000, name='Сектор №4 расчетов сложных физических систем', is_deleted=0, changed=now() where ID=607040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766079");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_564)</span><div id='gateway/jinr_setDivParents1514306766079' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=607040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=607000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=607040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НОВФ / Сектор №4 расчетов сложных физических систем' where id=607040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766079");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766071");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_564");'>Request_HR_LHEP_564 (gateway/receive) DONE! (162ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_565");'> Request_HR_LHEP_565 [26.12 19:46:6] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_565' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b38c-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115221&ClientObjectID=173010&Time=27.02.2017 12:41:47&Object={
"Код": "173010",
"Наименование": "Сектор №1 детекторов частиц и приема данных",
"РодительКод": "173000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173010;<br> Наименование=Сектор №1 детекторов частиц и приема данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=173000<BR>
 Код=173010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766250");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_565)</span><div id='gateway/receive_3_podrazd1514306766250' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173010",
"Наименование": "Сектор №1 детекторов частиц и приема данных",
"РодительКод": "173000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173010
OLD_PID=173000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=173000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=173000, name='Сектор №1 детекторов частиц и приема данных', is_deleted=0, changed=now() where ID=173010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766259");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_565)</span><div id='gateway/jinr_setDivParents1514306766259' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=173000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=173000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел / Сектор №1 детекторов частиц и приема данных  ' where id=173010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766259");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766250");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_565");'>Request_HR_LHEP_565 (gateway/receive) DONE! (119ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_566");'> Request_HR_LHEP_566 [26.12 19:46:6] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_566' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b1e0adeb-e1f9-11e1-8336-e0cb4eda5b7d&GateObjectID=115220&ClientObjectID=92002&Time=27.02.2017 12:41:48&Object={
"Код": "092002",
"Наименование": "Группа №2 исследований радиационных полей базовых установок ОИЯИ и окружающей среды",
"РодительКод": "092000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=92002;<br> Наименование=Группа №2 исследований радиационных полей базовых установок ОИЯИ и окружающей среды<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=092000<BR>
 Код=092002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766387");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_566)</span><div id='gateway/receive_3_podrazd1514306766387' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "092002",
"Наименование": "Группа №2 исследований радиационных полей базовых установок ОИЯИ и окружающей среды",
"РодительКод": "092000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=092002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=92002
OLD_PID=92000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=092000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=092000, name='Группа №2 исследований радиационных полей базовых установок ОИЯИ и окружающей среды', is_deleted=0, changed=now() where ID=092002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766396");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_566)</span><div id='gateway/jinr_setDivParents1514306766396' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=92002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=92000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=92000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=92002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационных исследований / Группа №2 исследований радиационных полей базовых установок ОИЯИ и окружающей среды' where id=92002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766396");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766387");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_566");'>Request_HR_LHEP_566 (gateway/receive) DONE! (92ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_567");'> Request_HR_LHEP_567 [26.12 19:46:6] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_567' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94d9-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115219&ClientObjectID=207001&Time=27.02.2017 12:41:49&Object={
"Код": "207001",
"Наименование": "Группа №1 оперативного персонала",
"РодительКод": "207000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=207001;<br> Наименование=Группа №1 оперативного персонала<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=207000<BR>
 Код=207001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766487");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_567)</span><div id='gateway/receive_3_podrazd1514306766487' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "207001",
"Наименование": "Группа №1 оперативного персонала",
"РодительКод": "207000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=207001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=207001
OLD_PID=207000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=207000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=207000, name='Группа №1 оперативного персонала', is_deleted=0, changed=now() where ID=207001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766493");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_567)</span><div id='gateway/jinr_setDivParents1514306766493' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=207001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=207000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=207000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=207001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Электротехнологический отдел / Группа №1 оперативного персонала' where id=207001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306766493");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306766487");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_567");'>Request_HR_LHEP_567 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_568");'> Request_HR_LHEP_568 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_568' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac338-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115218&ClientObjectID=525001&Time=27.02.2017 12:41:49&Object={
"Код": "525001",
"Наименование": "Группа №1 деления слабовозбужденных ядер",
"РодительКод": "525000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=525001;<br> Наименование=Группа №1 деления слабовозбужденных ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=525000<BR>
 Код=525001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767005");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_568)</span><div id='gateway/receive_3_podrazd1514306767005' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "525001",
"Наименование": "Группа №1 деления слабовозбужденных ядер",
"РодительКод": "525000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=525001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=525001
OLD_PID=525000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=525000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=525000, name='Группа №1 деления слабовозбужденных ядер', is_deleted=0, changed=now() where ID=525001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767010");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_568)</span><div id='gateway/jinr_setDivParents1514306767010' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=525001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=525000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=525000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=525001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №5 динамика взаимодействия тяжелых ядер, деление тяжелых и сверхтяжелых ядер / Группа №1 деления слабовозбужденных ядер' where id=525001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767010");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767005");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_568");'>Request_HR_LHEP_568 (gateway/receive) DONE! (95ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_569");'> Request_HR_LHEP_569 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_569' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94db-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115217&ClientObjectID=207003&Time=27.02.2017 12:41:50&Object={
"Код": "207003",
"Наименование": "Группа №3 силового технологического оборудования",
"РодительКод": "207000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=207003;<br> Наименование=Группа №3 силового технологического оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=207000<BR>
 Код=207003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767326");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_569)</span><div id='gateway/receive_3_podrazd1514306767326' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "207003",
"Наименование": "Группа №3 силового технологического оборудования",
"РодительКод": "207000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=207003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=207003
OLD_PID=207000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=207000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=207000, name='Группа №3 силового технологического оборудования', is_deleted=0, changed=now() where ID=207003
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767336");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_569)</span><div id='gateway/jinr_setDivParents1514306767336' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=207003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=207000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=207000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=207003
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Электротехнологический отдел / Группа №3 силового технологического оборудования' where id=207003
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767336");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (16ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767326");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (26ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_569");'>Request_HR_LHEP_569 (gateway/receive) DONE! (293ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_570");'> Request_HR_LHEP_570 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_570' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94da-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115216&ClientObjectID=207002&Time=27.02.2017 12:41:50&Object={
"Код": "207002",
"Наименование": "Группа №2 управления и защиты экспериментальных установок",
"РодительКод": "207000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=207002;<br> Наименование=Группа №2 управления и защиты экспериментальных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=207000<BR>
 Код=207002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767415");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_570)</span><div id='gateway/receive_3_podrazd1514306767415' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "207002",
"Наименование": "Группа №2 управления и защиты экспериментальных установок",
"РодительКод": "207000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=207002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=207002
OLD_PID=207000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=207000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=207000, name='Группа №2 управления и защиты экспериментальных установок', is_deleted=0, changed=now() where ID=207002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767421");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_570)</span><div id='gateway/jinr_setDivParents1514306767421' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=207002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=207000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=207000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=207002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Электротехнологический отдел / Группа №2 управления и защиты экспериментальных установок' where id=207002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767421");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767415");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_570");'>Request_HR_LHEP_570 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_571");'> Request_HR_LHEP_571 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_571' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f2f-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115213&ClientObjectID=113020&Time=27.02.2017 12:41:52&Object={
"Код": "113020",
"Наименование": "Сектор №2 формирования и транспортировки пучков",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113020;<br> Наименование=Сектор №2 формирования и транспортировки пучков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113000<BR>
 Код=113020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767521");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_571)</span><div id='gateway/receive_3_podrazd1514306767521' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113020",
"Наименование": "Сектор №2 формирования и транспортировки пучков",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113020
OLD_PID=113000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113000, name='Сектор №2 формирования и транспортировки пучков', is_deleted=0, changed=now() where ID=113020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767530");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_571)</span><div id='gateway/jinr_setDivParents1514306767530' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №2 формирования и транспортировки пучков' where id=113020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767530");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767521");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_571");'>Request_HR_LHEP_571 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_572");'> Request_HR_LHEP_572 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_572' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f33-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115215&ClientObjectID=113040&Time=27.02.2017 12:41:51&Object={
"Код": "113040",
"Наименование": "Сектор №4 физики пучков и источников многозарядных ионов",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113040;<br> Наименование=Сектор №4 физики пучков и источников многозарядных ионов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113000<BR>
 Код=113040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767614");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_572)</span><div id='gateway/receive_3_podrazd1514306767614' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113040",
"Наименование": "Сектор №4 физики пучков и источников многозарядных ионов",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113040
OLD_PID=113000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113000, name='Сектор №4 физики пучков и источников многозарядных ионов', is_deleted=0, changed=now() where ID=113040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767619");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_572)</span><div id='gateway/jinr_setDivParents1514306767619' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №4 физики пучков и источников многозарядных ионов' where id=113040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767619");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767614");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_572");'>Request_HR_LHEP_572 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_573");'> Request_HR_LHEP_573 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_573' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94f0-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115230&ClientObjectID=248020&Time=27.02.2017 12:41:42&Object={
"Код": "248020",
"Наименование": "Сектор №2 исследования вещества мюонами",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248020;<br> Наименование=Сектор №2 исследования вещества мюонами<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=248000<BR>
 Код=248020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767704");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_573)</span><div id='gateway/receive_3_podrazd1514306767704' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248020",
"Наименование": "Сектор №2 исследования вещества мюонами",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248020
OLD_PID=248000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=248000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=248000, name='Сектор №2 исследования вещества мюонами', is_deleted=0, changed=now() where ID=248020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767710");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_573)</span><div id='gateway/jinr_setDivParents1514306767710' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=248000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий / Сектор №2 исследования вещества мюонами' where id=248020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767710");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767704");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_573");'>Request_HR_LHEP_573 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_574");'> Request_HR_LHEP_574 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_574' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94f3-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115229&ClientObjectID=248040&Time=27.02.2017 12:41:43&Object={
"Код": "248040",
"Наименование": "Сектор №4 лептонной конверсии",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248040;<br> Наименование=Сектор №4 лептонной конверсии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=248000<BR>
 Код=248040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767792");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_574)</span><div id='gateway/receive_3_podrazd1514306767792' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248040",
"Наименование": "Сектор №4 лептонной конверсии",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248040
OLD_PID=248000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=248000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=248000, name='Сектор №4 лептонной конверсии', is_deleted=0, changed=now() where ID=248040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767798");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_574)</span><div id='gateway/jinr_setDivParents1514306767798' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=248000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий / Сектор №4 лептонной конверсии' where id=248040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767798");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767792");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_574");'>Request_HR_LHEP_574 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_575");'> Request_HR_LHEP_575 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_575' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94f2-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115228&ClientObjectID=248030&Time=27.02.2017 12:41:43&Object={
"Код": "248030",
"Наименование": "Сектор №3 малонуклонных систем",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248030;<br> Наименование=Сектор №3 малонуклонных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=248000<BR>
 Код=248030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767883");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_575)</span><div id='gateway/receive_3_podrazd1514306767883' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248030",
"Наименование": "Сектор №3 малонуклонных систем",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248030
OLD_PID=248000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=248000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=248000, name='Сектор №3 малонуклонных систем', is_deleted=0, changed=now() where ID=248030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767889");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_575)</span><div id='gateway/jinr_setDivParents1514306767889' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=248000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий / Сектор №3 малонуклонных систем' where id=248030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306767889");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767883");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_575");'>Request_HR_LHEP_575 (gateway/receive) DONE! (97ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_576");'> Request_HR_LHEP_576 [26.12 19:46:7] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_576' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb71-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115227&ClientObjectID=171000&Time=27.02.2017 12:41:44&Object={
"Код": "171000",
"Наименование": "Конструкторский отдел",
"РодительКод": "170000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=171000;<br> Наименование=Конструкторский отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=170000<BR>
 Код=171000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767996");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_576)</span><div id='gateway/receive_3_podrazd1514306767996' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "171000",
"Наименование": "Конструкторский отдел",
"РодительКод": "170000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=171000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=171000
OLD_PID=170000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=170000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=170000, name='Конструкторский отдел', is_deleted=0, changed=now() where ID=171000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768002");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_576)</span><div id='gateway/jinr_setDivParents1514306768002' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=171000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=170000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=170000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=171000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Конструкторский отдел' where id=171000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768002");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306767996");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_576");'>Request_HR_LHEP_576 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_577");'> Request_HR_LHEP_577 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_577' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da44-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115226&ClientObjectID=248050&Time=27.02.2017 12:41:44&Object={
"Код": "248050",
"Наименование": "Сектор №5 протон-ядерных взаимодействий",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248050;<br> Наименование=Сектор №5 протон-ядерных взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=248000<BR>
 Код=248050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768077");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_577)</span><div id='gateway/receive_3_podrazd1514306768077' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248050",
"Наименование": "Сектор №5 протон-ядерных взаимодействий",
"РодительКод": "248000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248050
OLD_PID=248000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=248000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=248000, name='Сектор №5 протон-ядерных взаимодействий', is_deleted=0, changed=now() where ID=248050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768083");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_577)</span><div id='gateway/jinr_setDivParents1514306768083' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=248000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий / Сектор №5 протон-ядерных взаимодействий' where id=248050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768083");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768077");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_577");'>Request_HR_LHEP_577 (gateway/receive) DONE! (103ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_578");'> Request_HR_LHEP_578 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_578' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b21e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115225&ClientObjectID=172000&Time=27.02.2017 12:41:45&Object={
"Код": "172000",
"Наименование": "Цех опытно-экспериментального производства",
"РодительКод": "170000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172000;<br> Наименование=Цех опытно-экспериментального производства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=170000<BR>
 Код=172000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768204");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_578)</span><div id='gateway/receive_3_podrazd1514306768204' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172000",
"Наименование": "Цех опытно-экспериментального производства",
"РодительКод": "170000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172000
OLD_PID=170000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=170000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=170000, name='Цех опытно-экспериментального производства', is_deleted=0, changed=now() where ID=172000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768209");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_578)</span><div id='gateway/jinr_setDivParents1514306768209' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=170000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=170000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства' where id=172000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768209");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768204");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_578");'>Request_HR_LHEP_578 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_579");'> Request_HR_LHEP_579 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_579' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b38f-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115224&ClientObjectID=173020&Time=27.02.2017 12:41:46&Object={
"Код": "173020",
"Наименование": "Сектор №2 аппаратуры физических установок",
"РодительКод": "173000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173020;<br> Наименование=Сектор №2 аппаратуры физических установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=173000<BR>
 Код=173020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768302");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_579)</span><div id='gateway/receive_3_podrazd1514306768302' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173020",
"Наименование": "Сектор №2 аппаратуры физических установок",
"РодительКод": "173000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173020
OLD_PID=173000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=173000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=173000, name='Сектор №2 аппаратуры физических установок', is_deleted=0, changed=now() where ID=173020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768309");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_579)</span><div id='gateway/jinr_setDivParents1514306768309' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=173000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=173000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел / Сектор №2 аппаратуры физических установок ' where id=173020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768309");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768302");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_579");'>Request_HR_LHEP_579 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_580");'> Request_HR_LHEP_580 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_580' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac337-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115223&ClientObjectID=523001&Time=27.02.2017 12:41:46&Object={
"Код": "523001",
"Наименование": "Группа №1 изготовления и регенерации мишеней радиоактивных и стабильных изотопов",
"РодительКод": "523000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=523001;<br> Наименование=Группа №1 изготовления и регенерации мишеней радиоактивных и стабильных изотопов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=523000<BR>
 Код=523001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768390");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_580)</span><div id='gateway/receive_3_podrazd1514306768390' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "523001",
"Наименование": "Группа №1 изготовления и регенерации мишеней радиоактивных и стабильных изотопов",
"РодительКод": "523000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=523001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=523001
OLD_PID=523000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=523000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=523000, name='Группа №1 изготовления и регенерации мишеней радиоактивных и стабильных изотопов', is_deleted=0, changed=now() where ID=523001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768397");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_580)</span><div id='gateway/jinr_setDivParents1514306768397' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=523001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=523000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=523000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=523001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №3 химия трансактиноидов / Группа №1 изготовления и регенерации мишеней радиоактивных и стабильных изотопов' where id=523001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768397");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768390");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_580");'>Request_HR_LHEP_580 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_581");'> Request_HR_LHEP_581 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_581' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac341-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115206&ClientObjectID=531070&Time=27.02.2017 12:41:57&Object={
"Код": "531070",
"Наименование": "Сектор физики ускорителей",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531070;<br> Наименование=Сектор физики ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531070<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768506");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_581)</span><div id='gateway/receive_3_podrazd1514306768506' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531070",
"Наименование": "Сектор физики ускорителей",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531070
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531070
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Сектор физики ускорителей', is_deleted=0, changed=now() where ID=531070
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768512");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_581)</span><div id='gateway/jinr_setDivParents1514306768512' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531070
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531070
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Сектор физики ускорителей' where id=531070
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768512");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768506");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_581");'>Request_HR_LHEP_581 (gateway/receive) DONE! (92ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_582");'> Request_HR_LHEP_582 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_582' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac33f-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115207&ClientObjectID=531050&Time=27.02.2017 12:41:56&Object={
"Код": "531050",
"Наименование": "Группа пучков радиоактивных ядер",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531050;<br> Наименование=Группа пучков радиоактивных ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768723");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_582)</span><div id='gateway/receive_3_podrazd1514306768723' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531050",
"Наименование": "Группа пучков радиоактивных ядер",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531050
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Группа пучков радиоактивных ядер', is_deleted=0, changed=now() where ID=531050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768729");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_582)</span><div id='gateway/jinr_setDivParents1514306768729' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Группа пучков радиоактивных ядер' where id=531050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768729");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768723");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_582");'>Request_HR_LHEP_582 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_583");'> Request_HR_LHEP_583 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_583' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac33d-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115208&ClientObjectID=531030&Time=27.02.2017 12:41:55&Object={
"Код": "531030",
"Наименование": "Ускорительная установка ИЦ-100, У-200",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531030;<br> Наименование=Ускорительная установка ИЦ-100, У-200<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768832");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_583)</span><div id='gateway/receive_3_podrazd1514306768832' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531030",
"Наименование": "Ускорительная установка ИЦ-100, У-200",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531030
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Ускорительная установка ИЦ-100, У-200', is_deleted=0, changed=now() where ID=531030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768840");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_583)</span><div id='gateway/jinr_setDivParents1514306768840' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Ускорительная установка ИЦ-100, У-200' where id=531030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768840");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768832");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_583");'>Request_HR_LHEP_583 (gateway/receive) DONE! (92ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_584");'> Request_HR_LHEP_584 [26.12 19:46:8] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_584' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac33e-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115209&ClientObjectID=531040&Time=27.02.2017 12:41:55&Object={
"Код": "531040",
"Наименование": "Служба вакуумной техники",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531040;<br> Наименование=Служба вакуумной техники<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768934");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_584)</span><div id='gateway/receive_3_podrazd1514306768934' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531040",
"Наименование": "Служба вакуумной техники",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531040
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Служба вакуумной техники', is_deleted=0, changed=now() where ID=531040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768941");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_584)</span><div id='gateway/jinr_setDivParents1514306768941' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Служба вакуумной техники' where id=531040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306768941");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306768934");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_584");'>Request_HR_LHEP_584 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_585");'> Request_HR_LHEP_585 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_585' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac33b-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115210&ClientObjectID=531010&Time=27.02.2017 12:41:53&Object={
"Код": "531010",
"Наименование": "Ускорительная установка У-400",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531010;<br> Наименование=Ускорительная установка У-400<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769022");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_585)</span><div id='gateway/receive_3_podrazd1514306769022' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531010",
"Наименование": "Ускорительная установка У-400",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531010
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Ускорительная установка У-400', is_deleted=0, changed=now() where ID=531010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769029");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_585)</span><div id='gateway/jinr_setDivParents1514306769029' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Ускорительная установка У-400' where id=531010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769029");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769022");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_585");'>Request_HR_LHEP_585 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_586");'> Request_HR_LHEP_586 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_586' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac33c-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115211&ClientObjectID=531020&Time=27.02.2017 12:41:54&Object={
"Код": "531020",
"Наименование": "Ускорительная установка МЦ-400",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531020;<br> Наименование=Ускорительная установка МЦ-400<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769109");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_586)</span><div id='gateway/receive_3_podrazd1514306769109' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531020",
"Наименование": "Ускорительная установка МЦ-400",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531020
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Ускорительная установка МЦ-400', is_deleted=0, changed=now() where ID=531020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769115");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_586)</span><div id='gateway/jinr_setDivParents1514306769115' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Ускорительная установка МЦ-400' where id=531020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769115");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769109");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_586");'>Request_HR_LHEP_586 (gateway/receive) DONE! (147ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_587");'> Request_HR_LHEP_587 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_587' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f2d-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115212&ClientObjectID=113010&Time=27.02.2017 12:41:53&Object={
"Код": "113010",
"Наименование": "Сектор №1 динамики и вывода пучка",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113010;<br> Наименование=Сектор №1 динамики и вывода пучка<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113000<BR>
 Код=113010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769269");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_587)</span><div id='gateway/receive_3_podrazd1514306769269' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113010",
"Наименование": "Сектор №1 динамики и вывода пучка",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113010
OLD_PID=113000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113000, name='Сектор №1 динамики и вывода пучка', is_deleted=0, changed=now() where ID=113010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769274");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_587)</span><div id='gateway/jinr_setDivParents1514306769274' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №1 динамики и вывода пучка' where id=113010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769274");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769269");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_587");'>Request_HR_LHEP_587 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_588");'> Request_HR_LHEP_588 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_588' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b1e0adea-e1f9-11e1-8336-e0cb4eda5b7d&GateObjectID=115222&ClientObjectID=92001&Time=27.02.2017 12:41:47&Object={
"Код": "092001",
"Наименование": "Группа №1 моделирования взаимодействия ионизирующих излучений с веществом и радиационн. мониторинга",
"РодительКод": "092000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=92001;<br> Наименование=Группа №1 моделирования взаимодействия ионизирующих излучений с веществом и радиационн. мониторинга<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=092000<BR>
 Код=092001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769361");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_588)</span><div id='gateway/receive_3_podrazd1514306769361' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "092001",
"Наименование": "Группа №1 моделирования взаимодействия ионизирующих излучений с веществом и радиационн. мониторинга",
"РодительКод": "092000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=092001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=92001
OLD_PID=92000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=092000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=092000, name='Группа №1 моделирования взаимодействия ионизирующих излучений с веществом и радиационн. мониторинга', is_deleted=0, changed=now() where ID=092001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769367");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_588)</span><div id='gateway/jinr_setDivParents1514306769367' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=92001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=92000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=92000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=92001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационных исследований / Группа №1 моделирования взаимодействия ионизирующих излучений с веществом и радиационн. мониторинга' where id=92001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769367");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769361");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_588");'>Request_HR_LHEP_588 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_589");'> Request_HR_LHEP_589 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_589' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f30-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115214&ClientObjectID=113030&Time=27.02.2017 12:41:52&Object={
"Код": "113030",
"Наименование": "Сектор №3 систем управления и диагностики ускорительных установок",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113030;<br> Наименование=Сектор №3 систем управления и диагностики ускорительных установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=113000<BR>
 Код=113030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769450");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_589)</span><div id='gateway/receive_3_podrazd1514306769450' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113030",
"Наименование": "Сектор №3 систем управления и диагностики ускорительных установок",
"РодительКод": "113000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113030
OLD_PID=113000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=113000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=113000, name='Сектор №3 систем управления и диагностики ускорительных установок', is_deleted=0, changed=now() where ID=113030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769456");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_589)</span><div id='gateway/jinr_setDivParents1514306769456' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=113000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=113000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков / Сектор №3 систем управления и диагностики ускорительных установок ' where id=113030
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769456");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769450");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_589");'>Request_HR_LHEP_589 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_590");'> Request_HR_LHEP_590 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_590' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac340-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115205&ClientObjectID=531060&Time=27.02.2017 12:41:56&Object={
"Код": "531060",
"Наименование": "Сектор ионных источников",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531060;<br> Наименование=Сектор ионных источников<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769542");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_590)</span><div id='gateway/receive_3_podrazd1514306769542' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531060",
"Наименование": "Сектор ионных источников",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531060
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Сектор ионных источников', is_deleted=0, changed=now() where ID=531060
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769552");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_590)</span><div id='gateway/jinr_setDivParents1514306769552' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531060
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Сектор ионных источников' where id=531060
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769552");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769542");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_590");'>Request_HR_LHEP_590 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_591");'> Request_HR_LHEP_591 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_591' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac359-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115196&ClientObjectID=94005&Time=27.02.2017 12:42:02&Object={
"Код": "094005",
"Наименование": "Группа №5 по учету и контролю радиоактивных отходов в ОИЯИ",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=94005;<br> Наименование=Группа №5 по учету и контролю радиоактивных отходов в ОИЯИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=094000<BR>
 Код=094005<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769633");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_591)</span><div id='gateway/receive_3_podrazd1514306769633' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "094005",
"Наименование": "Группа №5 по учету и контролю радиоактивных отходов в ОИЯИ",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=094005
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=94005
OLD_PID=94000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=094000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=094000, name='Группа №5 по учету и контролю радиоактивных отходов в ОИЯИ', is_deleted=0, changed=now() where ID=094005
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769639");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_591)</span><div id='gateway/jinr_setDivParents1514306769639' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=94005
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=94000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=94000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=94005
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ОРБ / Группа №5 по учету и контролю радиоактивных отходов в ОИЯИ' where id=94005
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769639");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769633");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_591");'>Request_HR_LHEP_591 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_592");'> Request_HR_LHEP_592 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_592' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da64-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115197&ClientObjectID=441001&Time=27.02.2017 12:42:02&Object={
"Код": "441001",
"Наименование": "Группа №1 криогенных установок, электротехнических приборов и оборудования",
"РодительКод": "441000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=441001;<br> Наименование=Группа №1 криогенных установок, электротехнических приборов и оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=441000<BR>
 Код=441001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769729");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_592)</span><div id='gateway/receive_3_podrazd1514306769729' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "441001",
"Наименование": "Группа №1 криогенных установок, электротехнических приборов и оборудования",
"РодительКод": "441000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=441001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=441001
OLD_PID=441000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=441000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=441000, name='Группа №1 криогенных установок, электротехнических приборов и оборудования', is_deleted=0, changed=now() where ID=441001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769736");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_592)</span><div id='gateway/jinr_setDivParents1514306769736' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=441001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=441000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=441000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=441001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Конструкторское бюро / Группа №1 криогенных установок, электротехнических приборов и оборудования' where id=441001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769736");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769729");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_592");'>Request_HR_LHEP_592 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_593");'> Request_HR_LHEP_593 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_593' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac357-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115198&ClientObjectID=94003&Time=27.02.2017 12:42:01&Object={
"Код": "094003",
"Наименование": "Группа №3 метрологии и индивидуального контроля",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=94003;<br> Наименование=Группа №3 метрологии и индивидуального контроля<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=094000<BR>
 Код=094003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769826");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_593)</span><div id='gateway/receive_3_podrazd1514306769826' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "094003",
"Наименование": "Группа №3 метрологии и индивидуального контроля",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=094003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=94003
OLD_PID=94000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=094000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=094000, name='Группа №3 метрологии и индивидуального контроля', is_deleted=0, changed=now() where ID=094003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769833");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_593)</span><div id='gateway/jinr_setDivParents1514306769833' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=94003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=94000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=94000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=94003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ОРБ / Группа №3 метрологии и индивидуального контроля' where id=94003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769833");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769826");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_593");'>Request_HR_LHEP_593 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_594");'> Request_HR_LHEP_594 [26.12 19:46:9] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_594' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac358-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115199&ClientObjectID=94004&Time=27.02.2017 12:42:01&Object={
"Код": "094004",
"Наименование": "Группа №4 контроля радиоактивности в окружающей среде",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=94004;<br> Наименование=Группа №4 контроля радиоактивности в окружающей среде<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=094000<BR>
 Код=094004<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769917");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_594)</span><div id='gateway/receive_3_podrazd1514306769917' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "094004",
"Наименование": "Группа №4 контроля радиоактивности в окружающей среде",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=094004
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=94004
OLD_PID=94000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=094000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=094000, name='Группа №4 контроля радиоактивности в окружающей среде', is_deleted=0, changed=now() where ID=094004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769922");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_594)</span><div id='gateway/jinr_setDivParents1514306769922' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=94004
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=94000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=94000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=94004
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ОРБ / Группа №4 контроля радиоактивности в окружающей среде' where id=94004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306769922");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306769917");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_594");'>Request_HR_LHEP_594 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_595");'> Request_HR_LHEP_595 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_595' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac355-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115200&ClientObjectID=94001&Time=27.02.2017 12:41:59&Object={
"Код": "094001",
"Наименование": "Группа №1 контроля радиационной обстановки на ускорителях",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=94001;<br> Наименование=Группа №1 контроля радиационной обстановки на ускорителях<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=094000<BR>
 Код=094001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770015");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_595)</span><div id='gateway/receive_3_podrazd1514306770015' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "094001",
"Наименование": "Группа №1 контроля радиационной обстановки на ускорителях",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=094001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=94001
OLD_PID=94000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=094000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=094000, name='Группа №1 контроля радиационной обстановки на ускорителях', is_deleted=0, changed=now() where ID=094001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770021");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_595)</span><div id='gateway/jinr_setDivParents1514306770021' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=94001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=94000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=94000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=94001
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ОРБ / Группа №1 контроля радиационной обстановки на ускорителях' where id=94001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770021");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770015");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_595");'>Request_HR_LHEP_595 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_596");'> Request_HR_LHEP_596 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_596' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac356-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115201&ClientObjectID=94002&Time=27.02.2017 12:42:00&Object={
"Код": "094002",
"Наименование": "Группа №2 радиационного контроля на установках ЛНФ",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=94002;<br> Наименование=Группа №2 радиационного контроля на установках ЛНФ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=094000<BR>
 Код=094002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770244");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_596)</span><div id='gateway/receive_3_podrazd1514306770244' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "094002",
"Наименование": "Группа №2 радиационного контроля на установках ЛНФ",
"РодительКод": "094000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=094002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=94002
OLD_PID=94000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=094000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=094000, name='Группа №2 радиационного контроля на установках ЛНФ', is_deleted=0, changed=now() where ID=094002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770249");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_596)</span><div id='gateway/jinr_setDivParents1514306770249' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=94002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=94000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=94000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=94002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ОРБ / Группа №2 радиационного контроля на установках ЛНФ' where id=94002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770249");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770244");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_596");'>Request_HR_LHEP_596 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_597");'> Request_HR_LHEP_597 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_597' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94dd-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115202&ClientObjectID=208002&Time=27.02.2017 12:41:59&Object={
"Код": "208002",
"Наименование": "Группа №2 общего машиностроения, криогеники и  вакуумного оборудования",
"РодительКод": "208000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=208002;<br> Наименование=Группа №2 общего машиностроения, криогеники и  вакуумного оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=208000<BR>
 Код=208002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770332");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_597)</span><div id='gateway/receive_3_podrazd1514306770332' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "208002",
"Наименование": "Группа №2 общего машиностроения, криогеники и  вакуумного оборудования",
"РодительКод": "208000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=208002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=208002
OLD_PID=208000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=208000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=208000, name='Группа №2 общего машиностроения, криогеники и  вакуумного оборудования', is_deleted=0, changed=now() where ID=208002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770338");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_597)</span><div id='gateway/jinr_setDivParents1514306770338' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=208002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=208000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=208000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=208002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Конструкторский отдел / Группа №2 общего машиностроения, криогеники и  вакуумного оборудования' where id=208002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770338");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770332");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_597");'>Request_HR_LHEP_597 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_598");'> Request_HR_LHEP_598 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_598' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b381-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115185&ClientObjectID=123020&Time=27.02.2017 12:42:09&Object={
"Код": "123020",
"Наименование": "Сектор №2 спиновой физики малонуклонных систем",
"РодительКод": "123000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=123020;<br> Наименование=Сектор №2 спиновой физики малонуклонных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=123000<BR>
 Код=123020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770421");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_598)</span><div id='gateway/receive_3_podrazd1514306770421' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "123020",
"Наименование": "Сектор №2 спиновой физики малонуклонных систем",
"РодительКод": "123000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=123020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=123020
OLD_PID=123000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=123000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=123000, name='Сектор №2 спиновой физики малонуклонных систем', is_deleted=0, changed=now() where ID=123020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770427");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_598)</span><div id='gateway/jinr_setDivParents1514306770427' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=123020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=123000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=123000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=123020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем / Сектор №2 спиновой физики малонуклонных систем ' where id=123020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770427");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770421");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_598");'>Request_HR_LHEP_598 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_599");'> Request_HR_LHEP_599 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_599' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c4-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115181&ClientObjectID=172001&Time=27.02.2017 12:42:11&Object={
"Код": "172001",
"Наименование": "Группа №1 подготовки производства",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172001;<br> Наименование=Группа №1 подготовки производства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=172000<BR>
 Код=172001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770508");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_599)</span><div id='gateway/receive_3_podrazd1514306770508' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172001",
"Наименование": "Группа №1 подготовки производства",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172001
OLD_PID=172000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=172000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=172000, name='Группа №1 подготовки производства', is_deleted=0, changed=now() where ID=172001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770515");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_599)</span><div id='gateway/jinr_setDivParents1514306770515' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=172000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства / Группа №1 подготовки производства' where id=172001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770515");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770508");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_599");'>Request_HR_LHEP_599 (gateway/receive) DONE! (99ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_600");'> Request_HR_LHEP_600 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_600' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c6-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115180&ClientObjectID=172030&Time=27.02.2017 12:42:12&Object={
"Код": "172030",
"Наименование": "Участок №1 механический",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172030;<br> Наименование=Участок №1 механический<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=172000<BR>
 Код=172030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770619");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_600)</span><div id='gateway/receive_3_podrazd1514306770619' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172030",
"Наименование": "Участок №1 механический",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172030
OLD_PID=172000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=172000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=172000, name='Участок №1 механический', is_deleted=0, changed=now() where ID=172030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770625");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_600)</span><div id='gateway/jinr_setDivParents1514306770625' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=172000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства / Участок №1 механический' where id=172030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770625");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770619");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_600");'>Request_HR_LHEP_600 (gateway/receive) DONE! (157ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_601");'> Request_HR_LHEP_601 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_601' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c8-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115179&ClientObjectID=172050&Time=27.02.2017 12:42:13&Object={
"Код": "172050",
"Наименование": "Участок №3 гальванолакокрасочных  покрытий",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172050;<br> Наименование=Участок №3 гальванолакокрасочных  покрытий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=172000<BR>
 Код=172050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770787");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_601)</span><div id='gateway/receive_3_podrazd1514306770787' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172050",
"Наименование": "Участок №3 гальванолакокрасочных  покрытий",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172050
OLD_PID=172000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=172000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=172000, name='Участок №3 гальванолакокрасочных  покрытий', is_deleted=0, changed=now() where ID=172050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770792");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_601)</span><div id='gateway/jinr_setDivParents1514306770792' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=172000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства / Участок №3 гальванолакокрасочных  покрытий' where id=172050
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770792");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770787");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_601");'>Request_HR_LHEP_601 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_602");'> Request_HR_LHEP_602 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_602' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c7-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115178&ClientObjectID=172040&Time=27.02.2017 12:42:13&Object={
"Код": "172040",
"Наименование": "Участок №2 слесарно-сборочный",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172040;<br> Наименование=Участок №2 слесарно-сборочный<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=172000<BR>
 Код=172040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770884");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_602)</span><div id='gateway/receive_3_podrazd1514306770884' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172040",
"Наименование": "Участок №2 слесарно-сборочный",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172040
OLD_PID=172000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=172000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=172000, name='Участок №2 слесарно-сборочный', is_deleted=0, changed=now() where ID=172040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770890");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_602)</span><div id='gateway/jinr_setDivParents1514306770890' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=172000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства / Участок №2 слесарно-сборочный' where id=172040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770890");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770884");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_602");'>Request_HR_LHEP_602 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_603");'> Request_HR_LHEP_603 [26.12 19:46:10] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_603' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c9-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115177&ClientObjectID=172060&Time=27.02.2017 12:42:14&Object={
"Код": "172060",
"Наименование": "Участок №4 монтажный",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172060;<br> Наименование=Участок №4 монтажный<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=172000<BR>
 Код=172060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770969");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_603)</span><div id='gateway/receive_3_podrazd1514306770969' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172060",
"Наименование": "Участок №4 монтажный",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172060
OLD_PID=172000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=172000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=172000, name='Участок №4 монтажный', is_deleted=0, changed=now() where ID=172060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770975");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_603)</span><div id='gateway/jinr_setDivParents1514306770975' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=172000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172060
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства / Участок №4 монтажный' where id=172060
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306770975");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306770969");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_603");'>Request_HR_LHEP_603 (gateway/receive) DONE! (120ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_604");'> Request_HR_LHEP_604 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_604' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=8e1e8336-c10f-11e2-93f5-0025907d24fa&GateObjectID=115203&ClientObjectID=531080&Time=27.02.2017 12:41:58&Object={
"Код": "531080",
"Наименование": "Группа высокочастотных систем ускорителей",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531080;<br> Наименование=Группа высокочастотных систем ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=531000<BR>
 Код=531080<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771099");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_604)</span><div id='gateway/receive_3_podrazd1514306771099' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531080",
"Наименование": "Группа высокочастотных систем ускорителей",
"РодительКод": "531000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531080
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531080
OLD_PID=531000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=531000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=531000, name='Группа высокочастотных систем ускорителей', is_deleted=0, changed=now() where ID=531080
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771105");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_604)</span><div id='gateway/jinr_setDivParents1514306771105' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531080
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=531000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531080
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей / Группа высокочастотных систем ускорителей' where id=531080
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771105");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771099");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_604");'>Request_HR_LHEP_604 (gateway/receive) DONE! (99ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_605");'> Request_HR_LHEP_605 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_605' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e5-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115176&ClientObjectID=214010&Time=27.02.2017 12:42:15&Object={
"Код": "214010",
"Наименование": "Сектор №1 детектирующих систем, обработки и анализа физической информации",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214010;<br> Наименование=Сектор №1 детектирующих систем, обработки и анализа физической информации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=214000<BR>
 Код=214010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771209");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_605)</span><div id='gateway/receive_3_podrazd1514306771209' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214010",
"Наименование": "Сектор №1 детектирующих систем, обработки и анализа физической информации",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214010
OLD_PID=214000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=214000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=214000, name='Сектор №1 детектирующих систем, обработки и анализа физической информации', is_deleted=0, changed=now() where ID=214010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771215");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_605)</span><div id='gateway/jinr_setDivParents1514306771215' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=214000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов / Сектор №1 детектирующих систем, обработки и анализа физической информации' where id=214010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771215");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771209");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_605");'>Request_HR_LHEP_605 (gateway/receive) DONE! (191ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_606");'> Request_HR_LHEP_606 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_606' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf17-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115186&ClientObjectID=953020&Time=27.02.2017 12:42:08&Object={
"Код": "953020",
"Наименование": "Высоковольтный участок",
"РодительКод": "953000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=953020;<br> Наименование=Высоковольтный участок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=953000<BR>
 Код=953020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771418");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_606)</span><div id='gateway/receive_3_podrazd1514306771418' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "953020",
"Наименование": "Высоковольтный участок",
"РодительКод": "953000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=953020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=953020
OLD_PID=953000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=953000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=953000, name='Высоковольтный участок', is_deleted=0, changed=now() where ID=953020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771425");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_606)</span><div id='gateway/jinr_setDivParents1514306771425' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=953020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=953000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=953000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=953020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Электроцех / Высоковольтный участок' where id=953020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771425");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771418");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_606");'>Request_HR_LHEP_606 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_607");'> Request_HR_LHEP_607 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_607' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf18-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115187&ClientObjectID=953030&Time=27.02.2017 12:42:08&Object={
"Код": "953030",
"Наименование": "Электролаборатория",
"РодительКод": "953000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=953030;<br> Наименование=Электролаборатория<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=953000<BR>
 Код=953030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771522");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_607)</span><div id='gateway/receive_3_podrazd1514306771522' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "953030",
"Наименование": "Электролаборатория",
"РодительКод": "953000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=953030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=953030
OLD_PID=953000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=953000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=953000, name='Электролаборатория', is_deleted=0, changed=now() where ID=953030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771528");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_607)</span><div id='gateway/jinr_setDivParents1514306771528' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=953030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=953000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=953000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=953030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Электроцех / Электролаборатория' where id=953030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771528");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771522");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_607");'>Request_HR_LHEP_607 (gateway/receive) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_608");'> Request_HR_LHEP_608 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_608' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94dc-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115204&ClientObjectID=208001&Time=27.02.2017 12:41:58&Object={
"Код": "208001",
"Наименование": "Группа №1 электрофизического оборудования",
"РодительКод": "208000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=208001;<br> Наименование=Группа №1 электрофизического оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=208000<BR>
 Код=208001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771613");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_608)</span><div id='gateway/receive_3_podrazd1514306771613' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "208001",
"Наименование": "Группа №1 электрофизического оборудования",
"РодительКод": "208000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=208001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=208001
OLD_PID=208000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=208000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=208000, name='Группа №1 электрофизического оборудования', is_deleted=0, changed=now() where ID=208001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771619");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_608)</span><div id='gateway/jinr_setDivParents1514306771619' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=208001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=208000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=208000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=208001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Конструкторский отдел / Группа №1 электрофизического оборудования' where id=208001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771619");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771613");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_608");'>Request_HR_LHEP_608 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_609");'> Request_HR_LHEP_609 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_609' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cefb-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115195&ClientObjectID=613001&Time=27.02.2017 12:42:03&Object={
"Код": "613001",
"Наименование": "Группа №1 электротехнологическая",
"РодительКод": "613000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=613001;<br> Наименование=Группа №1 электротехнологическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=613000<BR>
 Код=613001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771703");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_609)</span><div id='gateway/receive_3_podrazd1514306771703' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "613001",
"Наименование": "Группа №1 электротехнологическая",
"РодительКод": "613000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=613001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=613001
OLD_PID=613000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=613000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=613000, name='Группа №1 электротехнологическая', is_deleted=0, changed=now() where ID=613001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771708");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_609)</span><div id='gateway/jinr_setDivParents1514306771708' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=613001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=613000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=613000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=613001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ИТО / Группа №1 электротехнологическая' where id=613001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771708");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771703");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_609");'>Request_HR_LHEP_609 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_610");'> Request_HR_LHEP_610 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_610' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cef9-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115193&ClientObjectID=613010&Time=27.02.2017 12:42:04&Object={
"Код": "613010",
"Наименование": "Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ",
"РодительКод": "613000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=613010;<br> Наименование=Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=613000<BR>
 Код=613010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771815");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_610)</span><div id='gateway/receive_3_podrazd1514306771815' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "613010",
"Наименование": "Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ",
"РодительКод": "613000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=613010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=613010
OLD_PID=613000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=613000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=613000, name='Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ', is_deleted=0, changed=now() where ID=613010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771821");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_610)</span><div id='gateway/jinr_setDivParents1514306771821' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=613010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=613000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=613000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=613010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ИТО / Сектор развития и эксплуатации сетевой инфраструктуры ОИЯИ ' where id=613010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771821");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771815");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_610");'>Request_HR_LHEP_610 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_611");'> Request_HR_LHEP_611 [26.12 19:46:11] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_611' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da53-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115191&ClientObjectID=407020&Time=27.02.2017 12:42:06&Object={
"Код": "407020",
"Наименование": "Служба СУЗ и КИП",
"РодительКод": "407000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=407020;<br> Наименование=Служба СУЗ и КИП<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=407000<BR>
 Код=407020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771905");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_611)</span><div id='gateway/receive_3_podrazd1514306771905' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "407020",
"Наименование": "Служба СУЗ и КИП",
"РодительКод": "407000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=407020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=407020
OLD_PID=407000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=407000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=407000, name='Служба СУЗ и КИП', is_deleted=0, changed=now() where ID=407020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771912");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_611)</span><div id='gateway/jinr_setDivParents1514306771912' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=407020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=407000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=407000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=407020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Установка ИБР-2 / Служба СУЗ и КИП' where id=407020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306771912");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306771905");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_611");'>Request_HR_LHEP_611 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_612");'> Request_HR_LHEP_612 [26.12 19:46:12] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_612' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da52-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115190&ClientObjectID=407010&Time=27.02.2017 12:42:05&Object={
"Код": "407010",
"Наименование": "Служба натриевой технологии",
"РодительКод": "407000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=407010;<br> Наименование=Служба натриевой технологии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=407000<BR>
 Код=407010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772156");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_612)</span><div id='gateway/receive_3_podrazd1514306772156' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "407010",
"Наименование": "Служба натриевой технологии",
"РодительКод": "407000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=407010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=407010
OLD_PID=407000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=407000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=407000, name='Служба натриевой технологии', is_deleted=0, changed=now() where ID=407010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772162");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_612)</span><div id='gateway/jinr_setDivParents1514306772162' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=407010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=407000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=407000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=407010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Установка ИБР-2 / Служба натриевой технологии' where id=407010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772162");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772156");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_612");'>Request_HR_LHEP_612 (gateway/receive) DONE! (120ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_613");'> Request_HR_LHEP_613 [26.12 19:46:12] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_613' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf16-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115189&ClientObjectID=953010&Time=27.02.2017 12:42:07&Object={
"Код": "953010",
"Наименование": "Низковольтный участок",
"РодительКод": "953000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=953010;<br> Наименование=Низковольтный участок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=953000<BR>
 Код=953010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772290");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_613)</span><div id='gateway/receive_3_podrazd1514306772290' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "953010",
"Наименование": "Низковольтный участок",
"РодительКод": "953000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=953010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=953010
OLD_PID=953000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=953000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=953000, name='Низковольтный участок', is_deleted=0, changed=now() where ID=953010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772295");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_613)</span><div id='gateway/jinr_setDivParents1514306772295' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=953010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=953000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=953000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=953010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Электроцех / Низковольтный участок' where id=953010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772295");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772290");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_613");'>Request_HR_LHEP_613 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_614");'> Request_HR_LHEP_614 [26.12 19:46:12] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_614' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da54-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115188&ClientObjectID=407030&Time=27.02.2017 12:42:07&Object={
"Код": "407030",
"Наименование": "Служба управления ИБР-2",
"РодительКод": "407000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=407030;<br> Наименование=Служба управления ИБР-2<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=407000<BR>
 Код=407030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772389");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_614)</span><div id='gateway/receive_3_podrazd1514306772389' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "407030",
"Наименование": "Служба управления ИБР-2",
"РодительКод": "407000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=407030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=407030
OLD_PID=407000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=407000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=407000, name='Служба управления ИБР-2', is_deleted=0, changed=now() where ID=407030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772395");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_614)</span><div id='gateway/jinr_setDivParents1514306772395' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=407030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=407000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=407000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=407030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Установка ИБР-2 / Служба управления ИБР-2' where id=407030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772395");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772389");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_614");'>Request_HR_LHEP_614 (gateway/receive) DONE! (153ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_615");'> Request_HR_LHEP_615 [26.12 19:46:12] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_615' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94b5-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115168&ClientObjectID=142020&Time=27.02.2017 12:42:20&Object={
"Код": "142020",
"Наименование": "Сектор №2 физики адронов",
"РодительКод": "142000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142020;<br> Наименование=Сектор №2 физики адронов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=142000<BR>
 Код=142020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772771");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_615)</span><div id='gateway/receive_3_podrazd1514306772771' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142020",
"Наименование": "Сектор №2 физики адронов",
"РодительКод": "142000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142020
OLD_PID=142000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=142000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=142000, name='Сектор №2 физики адронов', is_deleted=0, changed=now() where ID=142020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772781");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_615)</span><div id='gateway/jinr_setDivParents1514306772781' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=142000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=142000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC / Сектор №2 физики адронов' where id=142020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772781");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772771");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (23ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_615");'>Request_HR_LHEP_615 (gateway/receive) DONE! (316ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_616");'> Request_HR_LHEP_616 [26.12 19:46:12] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_616' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da55-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115167&ClientObjectID=409001&Time=27.02.2017 12:42:21&Object={
"Код": "409001",
"Наименование": "Группа №1 технологических систем реактора ИБР-2 и установки ИРЕН",
"РодительКод": "409000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=409001;<br> Наименование=Группа №1 технологических систем реактора ИБР-2 и установки ИРЕН<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=409000<BR>
 Код=409001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772899");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_616)</span><div id='gateway/receive_3_podrazd1514306772899' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "409001",
"Наименование": "Группа №1 технологических систем реактора ИБР-2 и установки ИРЕН",
"РодительКод": "409000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=409001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=409001
OLD_PID=409000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=409000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=409000, name='Группа №1 технологических систем реактора ИБР-2 и установки ИРЕН', is_deleted=0, changed=now() where ID=409001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772906");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_616)</span><div id='gateway/jinr_setDivParents1514306772906' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=409001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=409000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=409000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=409001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Механико-технологический отдел / Группа №1 технологических систем реактора ИБР-2 и установки ИРЕН' where id=409001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306772906");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772899");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_616");'>Request_HR_LHEP_616 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_617");'> Request_HR_LHEP_617 [26.12 19:46:12] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_617' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c481f85d-d637-11e5-9454-0025907d24fa&GateObjectID=115163&ClientObjectID=643004&Time=27.02.2017 12:42:23&Object={
"Код": "643004",
"Наименование": "Группа №4 материально-технического снабжения",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=643004;<br> Наименование=Группа №4 материально-технического снабжения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=643000<BR>
 Код=643004<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772998");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_617)</span><div id='gateway/receive_3_podrazd1514306772998' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "643004",
"Наименование": "Группа №4 материально-технического снабжения",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=643004
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=643004
OLD_PID=643000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=643000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=643000, name='Группа №4 материально-технического снабжения', is_deleted=0, changed=now() where ID=643004
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773007");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_617)</span><div id='gateway/jinr_setDivParents1514306773007' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=643004
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=643000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=643000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=643004
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ОТПХО / Гр. № 4 МТС' where id=643004
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773007");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306772998");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_617");'>Request_HR_LHEP_617 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_618");'> Request_HR_LHEP_618 [26.12 19:46:13] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_618' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3ceff-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115162&ClientObjectID=643002&Time=27.02.2017 12:42:24&Object={
"Код": "643002",
"Наименование": "Группа №2 по делопроизводству и кадрам",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=643002;<br> Наименование=Группа №2 по делопроизводству и кадрам<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=643000<BR>
 Код=643002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773133");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_618)</span><div id='gateway/receive_3_podrazd1514306773133' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "643002",
"Наименование": "Группа №2 по делопроизводству и кадрам",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=643002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=643002
OLD_PID=643000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=643000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=643000, name='Группа №2 по делопроизводству и кадрам', is_deleted=0, changed=now() where ID=643002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773139");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_618)</span><div id='gateway/jinr_setDivParents1514306773139' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=643002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=643000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=643000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=643002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ОТПХО / Группа №2 по делопроизводству и кадрам' where id=643002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773139");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773133");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_618");'>Request_HR_LHEP_618 (gateway/receive) DONE! (132ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_619");'> Request_HR_LHEP_619 [26.12 19:46:13] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_619' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0779c7a7-19b1-11e2-ab6e-000e0ce597c9&GateObjectID=115161&ClientObjectID=74000&Time=27.02.2017 12:42:25&Object={
"Код": "074000",
"Наименование": "Административно-технический персонал",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=74000;<br> Наименование=Административно-технический персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=070000<BR>
 Код=074000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773276");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_619)</span><div id='gateway/receive_3_podrazd1514306773276' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "074000",
"Наименование": "Административно-технический персонал",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=074000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=74000
OLD_PID=70000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=070000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=070000, name='Административно-технический персонал', is_deleted=0, changed=now() where ID=074000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773282");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_619)</span><div id='gateway/jinr_setDivParents1514306773282' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=74000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=70000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=74000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Административно-технический персонал' where id=74000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773282");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773276");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_619");'>Request_HR_LHEP_619 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_620");'> Request_HR_LHEP_620 [26.12 19:46:13] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_620' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb68-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115158&ClientObjectID=71000&Time=27.02.2017 12:42:26&Object={
"Код": "071000",
"Наименование": "Спортивный комплекс ОИЯИ",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=71000;<br> Наименование=Спортивный комплекс ОИЯИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=070000<BR>
 Код=071000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773363");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_620)</span><div id='gateway/receive_3_podrazd1514306773363' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "071000",
"Наименование": "Спортивный комплекс ОИЯИ",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=071000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=71000
OLD_PID=70000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=070000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=070000, name='Спортивный комплекс ОИЯИ', is_deleted=0, changed=now() where ID=071000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773369");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_620)</span><div id='gateway/jinr_setDivParents1514306773369' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=71000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=70000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=71000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Спортивный комплекс ОИЯИ' where id=71000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773369");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773363");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_620");'>Request_HR_LHEP_620 (gateway/receive) DONE! (104ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_621");'> Request_HR_LHEP_621 [26.12 19:46:13] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_621' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b200-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115159&ClientObjectID=78000&Time=27.02.2017 12:42:26&Object={
"Код": "078000",
"Наименование": "Универсальная библиотека",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=78000;<br> Наименование=Универсальная библиотека<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=070000<BR>
 Код=078000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773482");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_621)</span><div id='gateway/receive_3_podrazd1514306773482' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "078000",
"Наименование": "Универсальная библиотека",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=078000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=78000
OLD_PID=70000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=070000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=070000, name='Универсальная библиотека', is_deleted=0, changed=now() where ID=078000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773488");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_621)</span><div id='gateway/jinr_setDivParents1514306773488' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=78000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=70000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=78000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Универсальная библиотека' where id=78000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773488");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773482");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_621");'>Request_HR_LHEP_621 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_622");'> Request_HR_LHEP_622 [26.12 19:46:13] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_622' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf00-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115160&ClientObjectID=643003&Time=27.02.2017 12:42:24&Object={
"Код": "643003",
"Наименование": "Группа №3 ремонта",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=643003;<br> Наименование=Группа №3 ремонта<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=643000<BR>
 Код=643003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773571");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_622)</span><div id='gateway/receive_3_podrazd1514306773571' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "643003",
"Наименование": "Группа №3 ремонта",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=643003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=643003
OLD_PID=643000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=643000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=643000, name='Группа №3 ремонта', is_deleted=0, changed=now() where ID=643003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773576");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_622)</span><div id='gateway/jinr_setDivParents1514306773576' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=643003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=643000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=643000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=643003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ОТПХО / Группа №3 ремонта' where id=643003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773576");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773571");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_622");'>Request_HR_LHEP_622 (gateway/receive) DONE! (118ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_623");'> Request_HR_LHEP_623 [26.12 19:46:13] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_623' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94b6-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115169&ClientObjectID=142030&Time=27.02.2017 12:42:20&Object={
"Код": "142030",
"Наименование": "Сектор №3 теоретической и методической поддержки проектов",
"РодительКод": "142000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142030;<br> Наименование=Сектор №3 теоретической и методической поддержки проектов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=142000<BR>
 Код=142030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773700");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_623)</span><div id='gateway/receive_3_podrazd1514306773700' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142030",
"Наименование": "Сектор №3 теоретической и методической поддержки проектов",
"РодительКод": "142000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142030
OLD_PID=142000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=142000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=142000, name='Сектор №3 теоретической и методической поддержки проектов', is_deleted=0, changed=now() where ID=142030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773706");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_623)</span><div id='gateway/jinr_setDivParents1514306773706' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=142000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=142000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC / Сектор №3 теоретической и методической поддержки проектов' where id=142030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306773706");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306773700");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_623");'>Request_HR_LHEP_623 (gateway/receive) DONE! (285ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_624");'> Request_HR_LHEP_624 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_624' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94b4-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115170&ClientObjectID=142010&Time=27.02.2017 12:42:19&Object={
"Код": "142010",
"Наименование": "Сектор №1 математического моделирования и анализа экспериментальных данных",
"РодительКод": "142000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=142010;<br> Наименование=Сектор №1 математического моделирования и анализа экспериментальных данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=142000<BR>
 Код=142010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774137");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_624)</span><div id='gateway/receive_3_podrazd1514306774137' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "142010",
"Наименование": "Сектор №1 математического моделирования и анализа экспериментальных данных",
"РодительКод": "142000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=142010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=142010
OLD_PID=142000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=142000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=142000, name='Сектор №1 математического моделирования и анализа экспериментальных данных', is_deleted=0, changed=now() where ID=142010
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774144");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_624)</span><div id='gateway/jinr_setDivParents1514306774144' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=142010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=142000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=142000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=142010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики тяжелых ионов на LHC / Сектор №1 математического моделирования и анализа экспериментальных данных' where id=142010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774144");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774137");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_624");'>Request_HR_LHEP_624 (gateway/receive) DONE! (123ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_625");'> Request_HR_LHEP_625 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_625' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b37f-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115184&ClientObjectID=123010&Time=27.02.2017 12:42:10&Object={
"Код": "123010",
"Наименование": "Сектор №1 поляризационных экспериментов на Нуклотроне",
"РодительКод": "123000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=123010;<br> Наименование=Сектор №1 поляризационных экспериментов на Нуклотроне<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=123000<BR>
 Код=123010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774283");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_625)</span><div id='gateway/receive_3_podrazd1514306774283' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "123010",
"Наименование": "Сектор №1 поляризационных экспериментов на Нуклотроне",
"РодительКод": "123000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=123010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=123010
OLD_PID=123000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=123000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=123000, name='Сектор №1 поляризационных экспериментов на Нуклотроне', is_deleted=0, changed=now() where ID=123010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774290");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_625)</span><div id='gateway/jinr_setDivParents1514306774290' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=123010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=123000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=123000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=123010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем / Сектор №1 поляризационных экспериментов на Нуклотроне  ' where id=123010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774290");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774283");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_625");'>Request_HR_LHEP_625 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_626");'> Request_HR_LHEP_626 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_626' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b37e-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115183&ClientObjectID=123001&Time=27.02.2017 12:42:10&Object={
"Код": "123001",
"Наименование": "Группа №1 встречных поляризованных пучков",
"РодительКод": "123000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=123001;<br> Наименование=Группа №1 встречных поляризованных пучков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=123000<BR>
 Код=123001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774374");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_626)</span><div id='gateway/receive_3_podrazd1514306774374' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "123001",
"Наименование": "Группа №1 встречных поляризованных пучков",
"РодительКод": "123000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=123001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=123001
OLD_PID=123000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=123000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=123000, name='Группа №1 встречных поляризованных пучков', is_deleted=0, changed=now() where ID=123001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774380");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_626)</span><div id='gateway/jinr_setDivParents1514306774380' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=123001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=123000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=123000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=123001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем / Группа №1 встречных поляризованных пучков' where id=123001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774380");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774374");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_626");'>Request_HR_LHEP_626 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_627");'> Request_HR_LHEP_627 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_627' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c5-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115182&ClientObjectID=172002&Time=27.02.2017 12:42:11&Object={
"Код": "172002",
"Наименование": "Группа №2 механика цеха",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=172002;<br> Наименование=Группа №2 механика цеха<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=172000<BR>
 Код=172002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774464");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_627)</span><div id='gateway/receive_3_podrazd1514306774464' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "172002",
"Наименование": "Группа №2 механика цеха",
"РодительКод": "172000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=172002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=172002
OLD_PID=172000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=172000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=172000, name='Группа №2 механика цеха', is_deleted=0, changed=now() where ID=172002
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774473");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_627)</span><div id='gateway/jinr_setDivParents1514306774473' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=172002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=172000
LEV_OLD=5</xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=172000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=172002
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера / Цех опытно-экспериментального производства / Группа №2 механика цеха' where id=172002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774473");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (21ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774464");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (30ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_627");'>Request_HR_LHEP_627 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_628");'> Request_HR_LHEP_628 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_628' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e6-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115175&ClientObjectID=214020&Time=27.02.2017 12:42:16&Object={
"Код": "214020",
"Наименование": "Сектор №2 калориметрических и аппаратурно-программных систем обработки и анализа физической информации",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214020;<br> Наименование=Сектор №2 калориметрических и аппаратурно-программных систем обработки и анализа физической информации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=214000<BR>
 Код=214020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774577");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_628)</span><div id='gateway/receive_3_podrazd1514306774577' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214020",
"Наименование": "Сектор №2 калориметрических и аппаратурно-программных систем обработки и анализа физической информации",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214020
OLD_PID=214000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=214000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=214000, name='Сектор №2 калориметрических и аппаратурно-программных систем обработки и анализа физической информации', is_deleted=0, changed=now() where ID=214020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774585");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_628)</span><div id='gateway/jinr_setDivParents1514306774585' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=214000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов / Сектор №2 калориметрических и аппаратурно-программных систем обработки и анализа физической информации' where id=214020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774585");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774577");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_628");'>Request_HR_LHEP_628 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_629");'> Request_HR_LHEP_629 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_629' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ed-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115174&ClientObjectID=245020&Time=27.02.2017 12:42:17&Object={
"Код": "245020",
"Наименование": "Сектор №2 протон-протонных взаимодействий",
"РодительКод": "245000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=245020;<br> Наименование=Сектор №2 протон-протонных взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=245000<BR>
 Код=245020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774686");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_629)</span><div id='gateway/receive_3_podrazd1514306774686' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "245020",
"Наименование": "Сектор №2 протон-протонных взаимодействий",
"РодительКод": "245000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=245020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=245020
OLD_PID=245000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=245000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=245000, name='Сектор №2 протон-протонных взаимодействий', is_deleted=0, changed=now() where ID=245020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774694");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_629)</span><div id='gateway/jinr_setDivParents1514306774694' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=245020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=245000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=245000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=245020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел встречных пучков / Сектор №2 протон-протонных взаимодействий' where id=245020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774694");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774686");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_629");'>Request_HR_LHEP_629 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_630");'> Request_HR_LHEP_630 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_630' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e7-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115173&ClientObjectID=214001&Time=27.02.2017 12:42:17&Object={
"Код": "214001",
"Наименование": "Научно-методическая группа №1 трековых детекторов",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214001;<br> Наименование=Научно-методическая группа №1 трековых детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=214000<BR>
 Код=214001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774787");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_630)</span><div id='gateway/receive_3_podrazd1514306774787' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214001",
"Наименование": "Научно-методическая группа №1 трековых детекторов",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214001
OLD_PID=214000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=214000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=214000, name='Научно-методическая группа №1 трековых детекторов', is_deleted=0, changed=now() where ID=214001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774794");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_630)</span><div id='gateway/jinr_setDivParents1514306774794' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=214000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов / Научно-методическая группа №1 трековых детекторов' where id=214001
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774794");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774787");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_630");'>Request_HR_LHEP_630 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_631");'> Request_HR_LHEP_631 [26.12 19:46:14] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_631' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=be0bd1fe-ea7b-11e4-9438-0025907d24fa&GateObjectID=115172&ClientObjectID=245050&Time=27.02.2017 12:42:18&Object={
"Код": "245050",
"Наименование": "Сектор №1 теоретической поддержки экспериментов физики высоких энергий",
"РодительКод": "245000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=245050;<br> Наименование=Сектор №1 теоретической поддержки экспериментов физики высоких энергий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=245000<BR>
 Код=245050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774881");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_631)</span><div id='gateway/receive_3_podrazd1514306774881' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "245050",
"Наименование": "Сектор №1 теоретической поддержки экспериментов физики высоких энергий",
"РодительКод": "245000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=245050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=245050
OLD_PID=245000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=245000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=245000, name='Сектор №1 теоретической поддержки экспериментов физики высоких энергий', is_deleted=0, changed=now() where ID=245050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774887");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_631)</span><div id='gateway/jinr_setDivParents1514306774887' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=245050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=245000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=245000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=245050
</xmp> <b> Processed in 206ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел встречных пучков / Сектор №1 теоретической поддержки экспериментов физики высоких энергий' where id=245050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306774887");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (215ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306774881");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (222ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_631");'>Request_HR_LHEP_631 (gateway/receive) DONE! (306ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_632");'> Request_HR_LHEP_632 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_632' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ee-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115171&ClientObjectID=245030&Time=27.02.2017 12:42:18&Object={
"Код": "245030",
"Наименование": "Сектор №3 протон-антипротонных взаимодействий",
"РодительКод": "245000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=245030;<br> Наименование=Сектор №3 протон-антипротонных взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=245000<BR>
 Код=245030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775210");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_632)</span><div id='gateway/receive_3_podrazd1514306775210' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "245030",
"Наименование": "Сектор №3 протон-антипротонных взаимодействий",
"РодительКод": "245000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=245030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=245030
OLD_PID=245000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=245000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=245000, name='Сектор №3 протон-антипротонных взаимодействий', is_deleted=0, changed=now() where ID=245030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775218");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_632)</span><div id='gateway/jinr_setDivParents1514306775218' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=245030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=245000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=245000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=245030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел встречных пучков / Сектор №3 протон-антипротонных взаимодействий' where id=245030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775218");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775210");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_632");'>Request_HR_LHEP_632 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_633");'> Request_HR_LHEP_633 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_633' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b384-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115141&ClientObjectID=121030&Time=27.02.2017 12:42:36&Object={
"Код": "121030",
"Наименование": "Сектор №3 математического и методического обеспечения экспериментов",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121030;<br> Наименование=Сектор №3 математического и методического обеспечения экспериментов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121000<BR>
 Код=121030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775314");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_633)</span><div id='gateway/receive_3_podrazd1514306775314' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121030",
"Наименование": "Сектор №3 математического и методического обеспечения экспериментов",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121030
OLD_PID=121000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121000, name='Сектор №3 математического и методического обеспечения экспериментов', is_deleted=0, changed=now() where ID=121030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775321");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_633)</span><div id='gateway/jinr_setDivParents1514306775321' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №3 математического и методического обеспечения экспериментов' where id=121030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775321");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775314");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_633");'>Request_HR_LHEP_633 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_634");'> Request_HR_LHEP_634 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_634' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac346-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115151&ClientObjectID=540001&Time=27.02.2017 12:42:30&Object={
"Код": "540001",
"Наименование": "Группа инженерных систем и водоохлаждния ускорителей",
"РодительКод": "540000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=540001;<br> Наименование=Группа инженерных систем и водоохлаждния ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=540000<BR>
 Код=540001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775441");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_634)</span><div id='gateway/receive_3_podrazd1514306775441' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "540001",
"Наименование": "Группа инженерных систем и водоохлаждния ускорителей",
"РодительКод": "540000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=540001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=540001
OLD_PID=540000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=540000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=540000, name='Группа инженерных систем и водоохлаждния ускорителей', is_deleted=0, changed=now() where ID=540001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775447");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_634)</span><div id='gateway/jinr_setDivParents1514306775447' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=540001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=540000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=540000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=540001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Производственно – технологический хозрасчетный отдел  ЛЯР / Группа инженерных систем и водоохлаждния ускорителей' where id=540001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775447");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775441");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_634");'>Request_HR_LHEP_634 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_635");'> Request_HR_LHEP_635 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_635' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e4-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115150&ClientObjectID=213040&Time=27.02.2017 12:42:31&Object={
"Код": "213040",
"Наименование": "Сектор № 4 астрофизических исследований",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213040;<br> Наименование=Сектор № 4 астрофизических исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=213000<BR>
 Код=213040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775532");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_635)</span><div id='gateway/receive_3_podrazd1514306775532' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213040",
"Наименование": "Сектор № 4 астрофизических исследований",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213040
OLD_PID=213000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=213000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=213000, name='Сектор № 4 астрофизических исследований', is_deleted=0, changed=now() where ID=213040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775537");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_635)</span><div id='gateway/jinr_setDivParents1514306775537' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=213000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц / Сектор № 4 астрофизических исследований' where id=213040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775537");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775532");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_635");'>Request_HR_LHEP_635 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_636");'> Request_HR_LHEP_636 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_636' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94e2-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115149&ClientObjectID=213030&Time=27.02.2017 12:42:31&Object={
"Код": "213030",
"Наименование": "Сектор №3 экспериментальной нейтринной физики",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213030;<br> Наименование=Сектор №3 экспериментальной нейтринной физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=213000<BR>
 Код=213030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775632");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_636)</span><div id='gateway/receive_3_podrazd1514306775632' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213030",
"Наименование": "Сектор №3 экспериментальной нейтринной физики",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213030
OLD_PID=213000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=213000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=213000, name='Сектор №3 экспериментальной нейтринной физики', is_deleted=0, changed=now() where ID=213030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775639");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_636)</span><div id='gateway/jinr_setDivParents1514306775639' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=213000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц / Сектор №3 экспериментальной нейтринной физики' where id=213030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775639");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775632");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_636");'>Request_HR_LHEP_636 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_637");'> Request_HR_LHEP_637 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_637' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=256e01d3-da01-11e4-9436-0025907d24fa&GateObjectID=115148&ClientObjectID=213060&Time=27.02.2017 12:42:32&Object={
"Код": "213060",
"Наименование": "Сектор №1 реакторных нейтрино",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213060;<br> Наименование=Сектор №1 реакторных нейтрино<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=213000<BR>
 Код=213060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775736");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_637)</span><div id='gateway/receive_3_podrazd1514306775736' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213060",
"Наименование": "Сектор №1 реакторных нейтрино",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213060
OLD_PID=213000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=213000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=213000, name='Сектор №1 реакторных нейтрино', is_deleted=0, changed=now() where ID=213060
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775745");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_637)</span><div id='gateway/jinr_setDivParents1514306775745' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=213000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213060
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц / Сектор №1 реакторных нейтрино' where id=213060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775745");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775736");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_637");'>Request_HR_LHEP_637 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_638");'> Request_HR_LHEP_638 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_638' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b256-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115139&ClientObjectID=405000&Time=27.02.2017 12:42:36&Object={
"Код": "405000",
"Наименование": "Установка ИРЕН",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=405000;<br> Наименование=Установка ИРЕН<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=410000<BR>
 Код=405000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775842");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_638)</span><div id='gateway/receive_3_podrazd1514306775842' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "405000",
"Наименование": "Установка ИРЕН",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=405000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=405000
OLD_PID=410000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=410000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=410000, name='Установка ИРЕН', is_deleted=0, changed=now() where ID=405000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775847");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_638)</span><div id='gateway/jinr_setDivParents1514306775847' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=405000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=410000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=410000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=405000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Установка ИРЕН' where id=405000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775847");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775842");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_638");'>Request_HR_LHEP_638 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_639");'> Request_HR_LHEP_639 [26.12 19:46:15] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_639' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b257-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115140&ClientObjectID=412000&Time=27.02.2017 12:42:37&Object={
"Код": "412000",
"Наименование": "Сектор исследований фундаментальных свойств нейтронов",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=412000;<br> Наименование=Сектор исследований фундаментальных свойств нейтронов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=410000<BR>
 Код=412000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775936");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_639)</span><div id='gateway/receive_3_podrazd1514306775936' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "412000",
"Наименование": "Сектор исследований фундаментальных свойств нейтронов",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=412000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=412000
OLD_PID=410000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=410000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=410000, name='Сектор исследований фундаментальных свойств нейтронов', is_deleted=0, changed=now() where ID=412000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775944");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_639)</span><div id='gateway/jinr_setDivParents1514306775944' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=412000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=410000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=410000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=412000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Сектор исследований фундаментальных свойств нейтронов' where id=412000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306775944");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306775936");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_639");'>Request_HR_LHEP_639 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_640");'> Request_HR_LHEP_640 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_640' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac347-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115152&ClientObjectID=540020&Time=27.02.2017 12:42:30&Object={
"Код": "540020",
"Наименование": "Отделение опытно-экспериментального производства",
"РодительКод": "540000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=540020;<br> Наименование=Отделение опытно-экспериментального производства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=540000<BR>
 Код=540020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776033");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_640)</span><div id='gateway/receive_3_podrazd1514306776033' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "540020",
"Наименование": "Отделение опытно-экспериментального производства",
"РодительКод": "540000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=540020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=540020
OLD_PID=540000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=540000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=540000, name='Отделение опытно-экспериментального производства', is_deleted=0, changed=now() where ID=540020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776039");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_640)</span><div id='gateway/jinr_setDivParents1514306776039' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=540020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=540000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=540000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=540020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Производственно – технологический хозрасчетный отдел  ЛЯР / Отделение опытно-экспериментального производства' where id=540020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776039");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776033");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_640");'>Request_HR_LHEP_640 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_641");'> Request_HR_LHEP_641 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_641' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac339-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115153&ClientObjectID=526001&Time=27.02.2017 12:42:28&Object={
"Код": "526001",
"Наименование": "Группа №1 установка АКУЛИНА",
"РодительКод": "526000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=526001;<br> Наименование=Группа №1 установка АКУЛИНА<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=526000<BR>
 Код=526001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776124");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_641)</span><div id='gateway/receive_3_podrazd1514306776124' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "526001",
"Наименование": "Группа №1 установка АКУЛИНА",
"РодительКод": "526000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=526001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=526001
OLD_PID=526000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=526000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=526000, name='Группа №1 установка АКУЛИНА', is_deleted=0, changed=now() where ID=526001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776130");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_641)</span><div id='gateway/jinr_setDivParents1514306776130' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=526001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=526000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=526000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=526001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №6 структура легких экзотических ядер / Группа №1 установка АКУЛИНА' where id=526001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776130");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776124");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_641");'>Request_HR_LHEP_641 (gateway/receive) DONE! (106ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_642");'> Request_HR_LHEP_642 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_642' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac33a-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115154&ClientObjectID=526002&Time=27.02.2017 12:42:29&Object={
"Код": "526002",
"Наименование": "Группа №2 установка КОМБАС",
"РодительКод": "526000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=526002;<br> Наименование=Группа №2 установка КОМБАС<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=526000<BR>
 Код=526002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776253");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_642)</span><div id='gateway/receive_3_podrazd1514306776253' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "526002",
"Наименование": "Группа №2 установка КОМБАС",
"РодительКод": "526000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=526002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=526002
OLD_PID=526000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=526000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=526000, name='Группа №2 установка КОМБАС', is_deleted=0, changed=now() where ID=526002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776260");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_642)</span><div id='gateway/jinr_setDivParents1514306776260' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=526002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=526000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=526000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=526002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №6 структура легких экзотических ядер / Группа №2 установка КОМБАС' where id=526002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776260");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776253");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_642");'>Request_HR_LHEP_642 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_643");'> Request_HR_LHEP_643 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_643' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b273-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115155&ClientObjectID=77000&Time=27.02.2017 12:42:28&Object={
"Код": "077000",
"Наименование": "Стационарная база отдыха \"Волга\"",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=77000;<br> Наименование=Стационарная база отдыха "Волга"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=070000<BR>
 Код=077000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776345");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_643)</span><div id='gateway/receive_3_podrazd1514306776345' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "077000",
"Наименование": "Стационарная база отдыха \"Волга\"",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=077000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=77000
OLD_PID=70000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=070000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=070000, name='Стационарная база отдыха "Волга"', is_deleted=0, changed=now() where ID=077000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776351");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_643)</span><div id='gateway/jinr_setDivParents1514306776351' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=77000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=70000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=77000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Стационарная база отдыха "Волга"' where id=77000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776351");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776345");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_643");'>Request_HR_LHEP_643 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_644");'> Request_HR_LHEP_644 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_644' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b244-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115156&ClientObjectID=72000&Time=27.02.2017 12:42:27&Object={
"Код": "072000",
"Наименование": "ДК \"Мир\"",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=72000;<br> Наименование=ДК "Мир"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=070000<BR>
 Код=072000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776436");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_644)</span><div id='gateway/receive_3_podrazd1514306776436' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "072000",
"Наименование": "ДК \"Мир\"",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=072000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=72000
OLD_PID=70000
is_manual=0</xmp>------ SQL done, 5ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=070000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=070000, name='ДК "Мир"', is_deleted=0, changed=now() where ID=072000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776446");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_644)</span><div id='gateway/jinr_setDivParents1514306776446' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=72000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=70000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=72000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / ДК "Мир"' where id=72000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776446");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776436");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_644");'>Request_HR_LHEP_644 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_645");'> Request_HR_LHEP_645 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_645' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b265-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115157&ClientObjectID=73000&Time=27.02.2017 12:42:27&Object={
"Код": "073000",
"Наименование": "Группа бухгалтерского учета",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=73000;<br> Наименование=Группа бухгалтерского учета<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=070000<BR>
 Код=073000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776665");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_645)</span><div id='gateway/receive_3_podrazd1514306776665' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "073000",
"Наименование": "Группа бухгалтерского учета",
"РодительКод": "070000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=073000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=73000
OLD_PID=70000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=070000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=070000, name='Группа бухгалтерского учета', is_deleted=0, changed=now() where ID=073000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776671");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_645)</span><div id='gateway/jinr_setDivParents1514306776671' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=73000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=70000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=70000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=73000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УСИ / Группа бухгалтерского учета' where id=73000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776671");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776665");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_645");'>Request_HR_LHEP_645 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_646");'> Request_HR_LHEP_646 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_646' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cefe-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115164&ClientObjectID=643001&Time=27.02.2017 12:42:23&Object={
"Код": "643001",
"Наименование": "Группа №1 обслуживания",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=643001;<br> Наименование=Группа №1 обслуживания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=643000<BR>
 Код=643001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776753");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_646)</span><div id='gateway/receive_3_podrazd1514306776753' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "643001",
"Наименование": "Группа №1 обслуживания",
"РодительКод": "643000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=643001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=643001
OLD_PID=643000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=643000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=643000, name='Группа №1 обслуживания', is_deleted=0, changed=now() where ID=643001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776759");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_646)</span><div id='gateway/jinr_setDivParents1514306776759' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=643001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=643000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=643000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=643001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ОТПХО / Группа №1 обслуживания' where id=643001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776759");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776753");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_646");'>Request_HR_LHEP_646 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_647");'> Request_HR_LHEP_647 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_647' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da57-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115166&ClientObjectID=409003&Time=27.02.2017 12:42:22&Object={
"Код": "409003",
"Наименование": "Группа №3 тепловодоснабжения, вентиляции и канализации",
"РодительКод": "409000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=409003;<br> Наименование=Группа №3 тепловодоснабжения, вентиляции и канализации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=409000<BR>
 Код=409003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776842");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_647)</span><div id='gateway/receive_3_podrazd1514306776842' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "409003",
"Наименование": "Группа №3 тепловодоснабжения, вентиляции и канализации",
"РодительКод": "409000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=409003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=409003
OLD_PID=409000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=409000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=409000, name='Группа №3 тепловодоснабжения, вентиляции и канализации', is_deleted=0, changed=now() where ID=409003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776850");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_647)</span><div id='gateway/jinr_setDivParents1514306776850' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=409003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=409000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=409000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=409003
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Механико-технологический отдел / Группа №3 тепловодоснабжения, вентиляции и канализации' where id=409003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776850");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776842");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_647");'>Request_HR_LHEP_647 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_648");'> Request_HR_LHEP_648 [26.12 19:46:16] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_648' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da56-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115165&ClientObjectID=409002&Time=27.02.2017 12:42:22&Object={
"Код": "409002",
"Наименование": "Группа №2 вакуумного и криогенного оборудования реактора ИБР-2 и установки ИРЕН",
"РодительКод": "409000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=409002;<br> Наименование=Группа №2 вакуумного и криогенного оборудования реактора ИБР-2 и установки ИРЕН<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=409000<BR>
 Код=409002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776941");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_648)</span><div id='gateway/receive_3_podrazd1514306776941' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "409002",
"Наименование": "Группа №2 вакуумного и криогенного оборудования реактора ИБР-2 и установки ИРЕН",
"РодительКод": "409000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=409002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=409002
OLD_PID=409000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=409000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=409000, name='Группа №2 вакуумного и криогенного оборудования реактора ИБР-2 и установки ИРЕН', is_deleted=0, changed=now() where ID=409002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776947");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_648)</span><div id='gateway/jinr_setDivParents1514306776947' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=409002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=409000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=409000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=409002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Механико-технологический отдел / Группа №2 вакуумного и криогенного оборудования реактора ИБР-2 и установки ИРЕН' where id=409002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306776947");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306776941");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_648");'>Request_HR_LHEP_648 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_649");'> Request_HR_LHEP_649 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_649' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94bb-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115134&ClientObjectID=151020&Time=27.02.2017 12:42:39&Object={
"Код": "151020",
"Наименование": "Сектор №2 электроники детекторов",
"РодительКод": "151000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=151020;<br> Наименование=Сектор №2 электроники детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=151000<BR>
 Код=151020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777027");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_649)</span><div id='gateway/receive_3_podrazd1514306777027' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "151020",
"Наименование": "Сектор №2 электроники детекторов",
"РодительКод": "151000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=151020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=151020
OLD_PID=151000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=151000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=151000, name='Сектор №2 электроники детекторов', is_deleted=0, changed=now() where ID=151020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777032");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_649)</span><div id='gateway/jinr_setDivParents1514306777032' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=151020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=151000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=151000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=151020
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно–экспериментальный отдел автоматизации физических исследований / Сектор №2 электроники детекторов' where id=151020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777032");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777027");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_649");'>Request_HR_LHEP_649 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_650");'> Request_HR_LHEP_650 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_650' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac345-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115133&ClientObjectID=532002&Time=27.02.2017 12:42:41&Object={
"Код": "532002",
"Наименование": "Конструкторское бюро",
"РодительКод": "532000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=532002;<br> Наименование=Конструкторское бюро<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=532000<BR>
 Код=532002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777109");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_650)</span><div id='gateway/receive_3_podrazd1514306777109' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "532002",
"Наименование": "Конструкторское бюро",
"РодительКод": "532000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=532002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=532002
OLD_PID=532000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=532000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=532000, name='Конструкторское бюро', is_deleted=0, changed=now() where ID=532002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777115");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_650)</span><div id='gateway/jinr_setDivParents1514306777115' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=532002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=532000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=532000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=532002
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Конструкторско-технологический отдел / Конструкторское бюро' where id=532002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777115");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777109");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_650");'>Request_HR_LHEP_650 (gateway/receive) DONE! (139ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_651");'> Request_HR_LHEP_651 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_651' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac344-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115132&ClientObjectID=532001&Time=27.02.2017 12:42:41&Object={
"Код": "532001",
"Наименование": "Группа технологического обеспечения",
"РодительКод": "532000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=532001;<br> Наименование=Группа технологического обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=532000<BR>
 Код=532001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777272");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_651)</span><div id='gateway/receive_3_podrazd1514306777272' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "532001",
"Наименование": "Группа технологического обеспечения",
"РодительКод": "532000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=532001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=532001
OLD_PID=532000
is_manual=0</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=532000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=532000, name='Группа технологического обеспечения', is_deleted=0, changed=now() where ID=532001
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777285");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_651)</span><div id='gateway/jinr_setDivParents1514306777285' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=532001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=532000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=532000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=532001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Конструкторско-технологический отдел / Группа технологического обеспечения' where id=532001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777285");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777272");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (24ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_651");'>Request_HR_LHEP_651 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_652");'> Request_HR_LHEP_652 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_652' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da68-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115131&ClientObjectID=443001&Time=27.02.2017 12:42:42&Object={
"Код": "443001",
"Наименование": "Группа №1 по хозяйственному обслуживанию",
"РодительКод": "443000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=443001;<br> Наименование=Группа №1 по хозяйственному обслуживанию<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=443000<BR>
 Код=443001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777409");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_652)</span><div id='gateway/receive_3_podrazd1514306777409' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "443001",
"Наименование": "Группа №1 по хозяйственному обслуживанию",
"РодительКод": "443000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=443001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=443001
OLD_PID=443000
is_manual=0</xmp>------ SQL done, 5ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=443000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=443000, name='Группа №1 по хозяйственному обслуживанию', is_deleted=0, changed=now() where ID=443001
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777424");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_652)</span><div id='gateway/jinr_setDivParents1514306777424' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=443001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=443000
LEV_OLD=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=443000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=443001
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отдел обслуживания / Группа №1 по хозяйственному обслуживанию' where id=443001
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777424");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (20ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777409");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (35ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_652");'>Request_HR_LHEP_652 (gateway/receive) DONE! (145ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_653");'> Request_HR_LHEP_653 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_653' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da69-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115129&ClientObjectID=443002&Time=27.02.2017 12:42:42&Object={
"Код": "443002",
"Наименование": "Группа №2 по делопроизводству",
"РодительКод": "443000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=443002;<br> Наименование=Группа №2 по делопроизводству<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=443000<BR>
 Код=443002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777541");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_653)</span><div id='gateway/receive_3_podrazd1514306777541' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "443002",
"Наименование": "Группа №2 по делопроизводству",
"РодительКод": "443000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=443002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=443002
OLD_PID=443000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=443000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=443000, name='Группа №2 по делопроизводству', is_deleted=0, changed=now() where ID=443002
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777554");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_653)</span><div id='gateway/jinr_setDivParents1514306777554' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=443002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=443000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=443000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=443002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отдел обслуживания / Группа №2 по делопроизводству' where id=443002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777554");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777541");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (26ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_653");'>Request_HR_LHEP_653 (gateway/receive) DONE! (95ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_654");'> Request_HR_LHEP_654 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_654' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f27-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115122&ClientObjectID=111020&Time=27.02.2017 12:42:47&Object={
"Код": "111020",
"Наименование": "Сектор №2 автоматизации и управления",
"РодительКод": "111000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=111020;<br> Наименование=Сектор №2 автоматизации и управления<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=111000<BR>
 Код=111020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777653");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_654)</span><div id='gateway/receive_3_podrazd1514306777653' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "111020",
"Наименование": "Сектор №2 автоматизации и управления",
"РодительКод": "111000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=111020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=111020
OLD_PID=111000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=111000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=111000, name='Сектор №2 автоматизации и управления', is_deleted=0, changed=now() where ID=111020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777658");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_654)</span><div id='gateway/jinr_setDivParents1514306777658' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=111020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=111000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=111000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=111020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел ускорительных систем   / Сектор №2 автоматизации и управления' where id=111020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777658");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777653");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_654");'>Request_HR_LHEP_654 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_655");'> Request_HR_LHEP_655 [26.12 19:46:17] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_655' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f3d-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115121&ClientObjectID=115010&Time=27.02.2017 12:42:48&Object={
"Код": "115010",
"Наименование": "Сектор №1 радиоэлектроники",
"РодительКод": "115000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=115010;<br> Наименование=Сектор №1 радиоэлектроники<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=115000<BR>
 Код=115010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777749");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_655)</span><div id='gateway/receive_3_podrazd1514306777749' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "115010",
"Наименование": "Сектор №1 радиоэлектроники",
"РодительКод": "115000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=115010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=115010
OLD_PID=115000
is_manual=0</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=115000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=115000, name='Сектор №1 радиоэлектроники', is_deleted=0, changed=now() where ID=115010
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777761");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_655)</span><div id='gateway/jinr_setDivParents1514306777761' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=115010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=115000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=115000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=115010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел радиоэлектронных систем / Сектор №1 радиоэлектроники' where id=115010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306777761");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306777749");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (26ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_655");'>Request_HR_LHEP_655 (gateway/receive) DONE! (108ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_656");'> Request_HR_LHEP_656 [26.12 19:46:18] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_656' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94bc-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115135&ClientObjectID=151001&Time=27.02.2017 12:42:40&Object={
"Код": "151001",
"Наименование": "Группа №1 компьютеров и сетей",
"РодительКод": "151000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=151001;<br> Наименование=Группа №1 компьютеров и сетей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=151000<BR>
 Код=151001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778079");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_656)</span><div id='gateway/receive_3_podrazd1514306778079' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "151001",
"Наименование": "Группа №1 компьютеров и сетей",
"РодительКод": "151000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=151001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=151001
OLD_PID=151000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=151000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=151000, name='Группа №1 компьютеров и сетей', is_deleted=0, changed=now() where ID=151001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778087");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_656)</span><div id='gateway/jinr_setDivParents1514306778087' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=151001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=151000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=151000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=151001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно–экспериментальный отдел автоматизации физических исследований / Группа №1 компьютеров и сетей' where id=151001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778087");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (18ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778079");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (26ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_656");'>Request_HR_LHEP_656 (gateway/receive) DONE! (352ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_657");'> Request_HR_LHEP_657 [26.12 19:46:18] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_657' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ba-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115136&ClientObjectID=151010&Time=27.02.2017 12:42:39&Object={
"Код": "151010",
"Наименование": "Сектор №1 электроники сбора данных",
"РодительКод": "151000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=151010;<br> Наименование=Сектор №1 электроники сбора данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=151000<BR>
 Код=151010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778591");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_657)</span><div id='gateway/receive_3_podrazd1514306778591' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "151010",
"Наименование": "Сектор №1 электроники сбора данных",
"РодительКод": "151000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=151010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=151010
OLD_PID=151000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=151000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=151000, name='Сектор №1 электроники сбора данных', is_deleted=0, changed=now() where ID=151010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778598");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_657)</span><div id='gateway/jinr_setDivParents1514306778598' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=151010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=151000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=151000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=151010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно–экспериментальный отдел автоматизации физических исследований / Сектор №1 электроники сбора данных' where id=151010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778598");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778591");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_657");'>Request_HR_LHEP_657 (gateway/receive) DONE! (161ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_658");'> Request_HR_LHEP_658 [26.12 19:46:18] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_658' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b20f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115137&ClientObjectID=413000&Time=27.02.2017 12:42:38&Object={
"Код": "413000",
"Наименование": "Сектор нейтронного активационного анализа и прикладных исследований",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=413000;<br> Наименование=Сектор нейтронного активационного анализа и прикладных исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=410000<BR>
 Код=413000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778770");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_658)</span><div id='gateway/receive_3_podrazd1514306778770' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "413000",
"Наименование": "Сектор нейтронного активационного анализа и прикладных исследований",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=413000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=413000
OLD_PID=410000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=410000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=410000, name='Сектор нейтронного активационного анализа и прикладных исследований', is_deleted=0, changed=now() where ID=413000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778776");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_658)</span><div id='gateway/jinr_setDivParents1514306778776' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=413000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=410000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=410000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=413000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Сектор нейтронного активационного анализа и прикладных исследований' where id=413000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778776");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778770");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_658");'>Request_HR_LHEP_658 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_659");'> Request_HR_LHEP_659 [26.12 19:46:18] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_659' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b233-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115138&ClientObjectID=411000&Time=27.02.2017 12:42:38&Object={
"Код": "411000",
"Наименование": "Сектор исследований нейтронно-ядерных взаимодействий",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=411000;<br> Наименование=Сектор исследований нейтронно-ядерных взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=410000<BR>
 Код=411000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778862");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_659)</span><div id='gateway/receive_3_podrazd1514306778862' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "411000",
"Наименование": "Сектор исследований нейтронно-ядерных взаимодействий",
"РодительКод": "410000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=411000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=411000
OLD_PID=410000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=410000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=410000, name='Сектор исследований нейтронно-ядерных взаимодействий', is_deleted=0, changed=now() where ID=411000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778869");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_659)</span><div id='gateway/jinr_setDivParents1514306778869' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=411000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=410000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=410000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=411000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Сектор исследований нейтронно-ядерных взаимодействий' where id=411000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778869");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778862");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_659");'>Request_HR_LHEP_659 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_660");'> Request_HR_LHEP_660 [26.12 19:46:18] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_660' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b382-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115142&ClientObjectID=121010&Time=27.02.2017 12:42:35&Object={
"Код": "121010",
"Наименование": "Сектор №1 трековых детекторов",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121010;<br> Наименование=Сектор №1 трековых детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121000<BR>
 Код=121010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778951");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_660)</span><div id='gateway/receive_3_podrazd1514306778951' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121010",
"Наименование": "Сектор №1 трековых детекторов",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121010
OLD_PID=121000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121000, name='Сектор №1 трековых детекторов', is_deleted=0, changed=now() where ID=121010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778957");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_660)</span><div id='gateway/jinr_setDivParents1514306778957' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №1 трековых детекторов' where id=121010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306778957");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306778951");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_660");'>Request_HR_LHEP_660 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_661");'> Request_HR_LHEP_661 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_661' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b383-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115143&ClientObjectID=121020&Time=27.02.2017 12:42:35&Object={
"Код": "121020",
"Наименование": "Сектор №2 идентификации элементарных частиц",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121020;<br> Наименование=Сектор №2 идентификации элементарных частиц<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121000<BR>
 Код=121020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779037");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_661)</span><div id='gateway/receive_3_podrazd1514306779037' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121020",
"Наименование": "Сектор №2 идентификации элементарных частиц",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121020
OLD_PID=121000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121000, name='Сектор №2 идентификации элементарных частиц', is_deleted=0, changed=now() where ID=121020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779043");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_661)</span><div id='gateway/jinr_setDivParents1514306779043' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №2 идентификации элементарных частиц ' where id=121020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779043");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779037");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_661");'>Request_HR_LHEP_661 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_662");'> Request_HR_LHEP_662 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_662' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=11854b68-843d-11e4-942f-0025907d24fa&GateObjectID=115144&ClientObjectID=121040&Time=27.02.2017 12:42:34&Object={
"Код": "121040",
"Наименование": "Сектор №4 детекторов и анализа данных",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121040;<br> Наименование=Сектор №4 детекторов и анализа данных<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121000<BR>
 Код=121040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779127");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_662)</span><div id='gateway/receive_3_podrazd1514306779127' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121040",
"Наименование": "Сектор №4 детекторов и анализа данных",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121040
OLD_PID=121000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121000, name='Сектор №4 детекторов и анализа данных', is_deleted=0, changed=now() where ID=121040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779136");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_662)</span><div id='gateway/jinr_setDivParents1514306779136' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №4 детекторов и анализа данных' where id=121040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779136");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779127");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_662");'>Request_HR_LHEP_662 (gateway/receive) DONE! (131ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_663");'> Request_HR_LHEP_663 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_663' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=4ba3301e-da01-11e4-9436-0025907d24fa&GateObjectID=115146&ClientObjectID=213070&Time=27.02.2017 12:42:32&Object={
"Код": "213070",
"Наименование": "Сектор №2 ускорительных нейтрино",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213070;<br> Наименование=Сектор №2 ускорительных нейтрино<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=213000<BR>
 Код=213070<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779284");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_663)</span><div id='gateway/receive_3_podrazd1514306779284' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213070",
"Наименование": "Сектор №2 ускорительных нейтрино",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213070
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213070
OLD_PID=213000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=213000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=213000, name='Сектор №2 ускорительных нейтрино', is_deleted=0, changed=now() where ID=213070
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779291");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_663)</span><div id='gateway/jinr_setDivParents1514306779291' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213070
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=213000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213070
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц / Сектор №2 ускорительных нейтрино' where id=213070
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779291");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779284");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_663");'>Request_HR_LHEP_663 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_664");'> Request_HR_LHEP_664 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_664' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=8d68c1b0-0542-11e6-945a-0025907d24fa&GateObjectID=115145&ClientObjectID=121050&Time=27.02.2017 12:42:34&Object={
"Код": "121050",
"Наименование": "Сектор №5 физического анализа на многоцелевом детекторе",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121050;<br> Наименование=Сектор №5 физического анализа на многоцелевом детекторе<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=121000<BR>
 Код=121050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779385");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_664)</span><div id='gateway/receive_3_podrazd1514306779385' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121050",
"Наименование": "Сектор №5 физического анализа на многоцелевом детекторе",
"РодительКод": "121000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121050
OLD_PID=121000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=121000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=121000, name='Сектор №5 физического анализа на многоцелевом детекторе', is_deleted=0, changed=now() where ID=121050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779393");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_664)</span><div id='gateway/jinr_setDivParents1514306779393' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=121000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121050
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD) / Сектор №5 физического анализа на многоцелевом детекторе' where id=121050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779393");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779385");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_664");'>Request_HR_LHEP_664 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_665");'> Request_HR_LHEP_665 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_665' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a5bbb3af-1885-11e4-941d-0025907d24fa&GateObjectID=115147&ClientObjectID=213050&Time=27.02.2017 12:42:33&Object={
"Код": "213050",
"Наименование": "Сектор №5 методических исследований",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213050;<br> Наименование=Сектор №5 методических исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=213000<BR>
 Код=213050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779483");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_665)</span><div id='gateway/receive_3_podrazd1514306779483' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213050",
"Наименование": "Сектор №5 методических исследований",
"РодительКод": "213000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213050
OLD_PID=213000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=213000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=213000, name='Сектор №5 методических исследований', is_deleted=0, changed=now() where ID=213050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779490");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_665)</span><div id='gateway/jinr_setDivParents1514306779490' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=213000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц / Сектор №5 методических исследований' where id=213050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779490");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779483");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_665");'>Request_HR_LHEP_665 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_666");'> Request_HR_LHEP_666 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_666' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f2b-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115117&ClientObjectID=112020&Time=27.02.2017 12:42:50&Object={
"Код": "112020",
"Наименование": "Сектор №2 лазеров на свободных электронах",
"РодительКод": "112000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=112020;<br> Наименование=Сектор №2 лазеров на свободных электронах<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=112000<BR>
 Код=112020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779577");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_666)</span><div id='gateway/receive_3_podrazd1514306779577' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "112020",
"Наименование": "Сектор №2 лазеров на свободных электронах",
"РодительКод": "112000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=112020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=112020
OLD_PID=112000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=112000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=112000, name='Сектор №2 лазеров на свободных электронах', is_deleted=0, changed=now() where ID=112020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779583");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_666)</span><div id='gateway/jinr_setDivParents1514306779583' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=112020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=112000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=112000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=112020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инженерно-физических проблем ускорителей / Сектор №2 лазеров на свободных электронах ' where id=112020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779583");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779577");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_666");'>Request_HR_LHEP_666 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_667");'> Request_HR_LHEP_667 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_667' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da58-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115116&ClientObjectID=405010&Time=27.02.2017 12:42:51&Object={
"Код": "405010",
"Наименование": "Служба по монтажу, наладке и ремонту установки",
"РодительКод": "405000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=405010;<br> Наименование=Служба по монтажу, наладке и ремонту установки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=405000<BR>
 Код=405010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779669");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_667)</span><div id='gateway/receive_3_podrazd1514306779669' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "405010",
"Наименование": "Служба по монтажу, наладке и ремонту установки",
"РодительКод": "405000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=405010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=405010
OLD_PID=405000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=405000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=405000, name='Служба по монтажу, наладке и ремонту установки', is_deleted=0, changed=now() where ID=405010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779677");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_667)</span><div id='gateway/jinr_setDivParents1514306779677' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=405010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=405000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=405000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=405010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Установка ИРЕН / Служба по монтажу, наладке и ремонту установки' where id=405010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779677");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779669");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_667");'>Request_HR_LHEP_667 (gateway/receive) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_668");'> Request_HR_LHEP_668 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_668' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da60-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115115&ClientObjectID=440001&Time=27.02.2017 12:42:52&Object={
"Код": "440001",
"Наименование": "Группа №1 силового оборудования",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=440001;<br> Наименование=Группа №1 силового оборудования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=440000<BR>
 Код=440001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779906");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_668)</span><div id='gateway/receive_3_podrazd1514306779906' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "440001",
"Наименование": "Группа №1 силового оборудования",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=440001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=440001
OLD_PID=440000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=440000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=440000, name='Группа №1 силового оборудования', is_deleted=0, changed=now() where ID=440001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779913");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_668)</span><div id='gateway/jinr_setDivParents1514306779913' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=440001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=440000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=440000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=440001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Электротехнологический отдел / Группа №1 силового оборудования' where id=440001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306779913");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779906");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_668");'>Request_HR_LHEP_668 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_669");'> Request_HR_LHEP_669 [26.12 19:46:19] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_669' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da59-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115114&ClientObjectID=405020&Time=27.02.2017 12:42:51&Object={
"Код": "405020",
"Наименование": "Служба управления установки",
"РодительКод": "405000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=405020;<br> Наименование=Служба управления установки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=405000<BR>
 Код=405020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779996");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_669)</span><div id='gateway/receive_3_podrazd1514306779996' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "405020",
"Наименование": "Служба управления установки",
"РодительКод": "405000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=405020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=405020
OLD_PID=405000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=405000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=405000, name='Служба управления установки', is_deleted=0, changed=now() where ID=405020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780001");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_669)</span><div id='gateway/jinr_setDivParents1514306780001' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=405020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=405000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=405000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=405020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Установка ИРЕН / Служба управления установки' where id=405020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780001");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306779996");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_669");'>Request_HR_LHEP_669 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_670");'> Request_HR_LHEP_670 [26.12 19:46:20] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_670' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da62-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115113&ClientObjectID=440003&Time=27.02.2017 12:42:53&Object={
"Код": "440003",
"Наименование": "Группа №3 управления, блокировки, сигнализации",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=440003;<br> Наименование=Группа №3 управления, блокировки, сигнализации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=440000<BR>
 Код=440003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780087");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_670)</span><div id='gateway/receive_3_podrazd1514306780087' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "440003",
"Наименование": "Группа №3 управления, блокировки, сигнализации",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=440003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=440003
OLD_PID=440000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=440000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=440000, name='Группа №3 управления, блокировки, сигнализации', is_deleted=0, changed=now() where ID=440003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780092");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_670)</span><div id='gateway/jinr_setDivParents1514306780092' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=440003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=440000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=440000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=440003
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Электротехнологический отдел / Группа №3 управления, блокировки, сигнализации' where id=440003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780092");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780087");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_670");'>Request_HR_LHEP_670 (gateway/receive) DONE! (99ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_671");'> Request_HR_LHEP_671 [26.12 19:46:20] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_671' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da61-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115112&ClientObjectID=440002&Time=27.02.2017 12:42:53&Object={
"Код": "440002",
"Наименование": "Группа №2 электротехнологическая",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=440002;<br> Наименование=Группа №2 электротехнологическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=440000<BR>
 Код=440002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780197");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_671)</span><div id='gateway/receive_3_podrazd1514306780197' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "440002",
"Наименование": "Группа №2 электротехнологическая",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=440002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=440002
OLD_PID=440000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=440000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=440000, name='Группа №2 электротехнологическая', is_deleted=0, changed=now() where ID=440002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780203");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_671)</span><div id='gateway/jinr_setDivParents1514306780203' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=440002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=440000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=440000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=440002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Электротехнологический отдел / Группа №2 электротехнологическая' where id=440002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780203");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780197");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_671");'>Request_HR_LHEP_671 (gateway/receive) DONE! (114ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_672");'> Request_HR_LHEP_672 [26.12 19:46:20] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_672' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b212-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115102&ClientObjectID=118000&Time=27.02.2017 12:42:59&Object={
"Код": "118000",
"Наименование": "Диспетчерская служба Нуклотрона",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=118000;<br> Наименование=Диспетчерская служба Нуклотрона<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=118000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780402");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_672)</span><div id='gateway/receive_3_podrazd1514306780402' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "118000",
"Наименование": "Диспетчерская служба Нуклотрона",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=118000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=118000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Диспетчерская служба Нуклотрона', is_deleted=0, changed=now() where ID=118000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780410");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_672)</span><div id='gateway/jinr_setDivParents1514306780410' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=118000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=118000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Диспетчерская служба Нуклотрона' where id=118000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780410");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780402");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_672");'>Request_HR_LHEP_672 (gateway/receive) DONE! (297ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_673");'> Request_HR_LHEP_673 [26.12 19:46:20] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_673' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f29-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115118&ClientObjectID=112010&Time=27.02.2017 12:42:50&Object={
"Код": "112010",
"Наименование": "Сектор №1 импульсных систем",
"РодительКод": "112000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=112010;<br> Наименование=Сектор №1 импульсных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=112000<BR>
 Код=112010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780706");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_673)</span><div id='gateway/receive_3_podrazd1514306780706' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "112010",
"Наименование": "Сектор №1 импульсных систем",
"РодительКод": "112000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=112010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=112010
OLD_PID=112000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=112000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=112000, name='Сектор №1 импульсных систем', is_deleted=0, changed=now() where ID=112010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780712");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_673)</span><div id='gateway/jinr_setDivParents1514306780712' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=112010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=112000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=112000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=112010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инженерно-физических проблем ускорителей / Сектор №1 импульсных систем  ' where id=112010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780712");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780706");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_673");'>Request_HR_LHEP_673 (gateway/receive) DONE! (95ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_674");'> Request_HR_LHEP_674 [26.12 19:46:20] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_674' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94bf-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115119&ClientObjectID=153001&Time=27.02.2017 12:42:48&Object={
"Код": "153001",
"Наименование": "Группа №1 инженерных разработок",
"РодительКод": "153000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=153001;<br> Наименование=Группа №1 инженерных разработок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=153000<BR>
 Код=153001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780836");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_674)</span><div id='gateway/receive_3_podrazd1514306780836' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "153001",
"Наименование": "Группа №1 инженерных разработок",
"РодительКод": "153000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=153001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=153001
OLD_PID=153000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=153000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=153000, name='Группа №1 инженерных разработок', is_deleted=0, changed=now() where ID=153001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780843");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_674)</span><div id='gateway/jinr_setDivParents1514306780843' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=153001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=153000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=153000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=153001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Сектор строу-детекторов / Группа №1 инженерных разработок' where id=153001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780843");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780836");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_674");'>Request_HR_LHEP_674 (gateway/receive) DONE! (100ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_675");'> Request_HR_LHEP_675 [26.12 19:46:20] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_675' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f26-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115125&ClientObjectID=111010&Time=27.02.2017 12:42:46&Object={
"Код": "111010",
"Наименование": "Сектор №1 модуляторов",
"РодительКод": "111000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=111010;<br> Наименование=Сектор №1 модуляторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=111000<BR>
 Код=111010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780955");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_675)</span><div id='gateway/receive_3_podrazd1514306780955' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "111010",
"Наименование": "Сектор №1 модуляторов",
"РодительКод": "111000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=111010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=111010
OLD_PID=111000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=111000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=111000, name='Сектор №1 модуляторов', is_deleted=0, changed=now() where ID=111010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780961");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_675)</span><div id='gateway/jinr_setDivParents1514306780961' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=111010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=111000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=111000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=111010
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел ускорительных систем   / Сектор №1 модуляторов' where id=111010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306780961");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306780955");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_675");'>Request_HR_LHEP_675 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_676");'> Request_HR_LHEP_676 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_676' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b392-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115130&ClientObjectID=132010&Time=27.02.2017 12:42:43&Object={
"Код": "132010",
"Наименование": "Сектор №1 новой физики на CMS",
"РодительКод": "132000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=132010;<br> Наименование=Сектор №1 новой физики на CMS<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=132000<BR>
 Код=132010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781167");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_676)</span><div id='gateway/receive_3_podrazd1514306781167' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "132010",
"Наименование": "Сектор №1 новой физики на CMS",
"РодительКод": "132000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=132010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=132010
OLD_PID=132000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=132000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=132000, name='Сектор №1 новой физики на CMS', is_deleted=0, changed=now() where ID=132010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781174");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_676)</span><div id='gateway/jinr_setDivParents1514306781174' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=132010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=132000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=132000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=132010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики на CMS / Сектор №1 новой физики на CMS' where id=132010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781174");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781167");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_676");'>Request_HR_LHEP_676 (gateway/receive) DONE! (125ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_677");'> Request_HR_LHEP_677 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_677' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a299b393-e2da-11e1-a86a-e0cb4eda5b7d&GateObjectID=115128&ClientObjectID=132020&Time=27.02.2017 12:42:44&Object={
"Код": "132020",
"Наименование": "Сектор №2 торцевых детекторов на CMS",
"РодительКод": "132000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=132020;<br> Наименование=Сектор №2 торцевых детекторов на CMS<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=132000<BR>
 Код=132020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781306");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_677)</span><div id='gateway/receive_3_podrazd1514306781306' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "132020",
"Наименование": "Сектор №2 торцевых детекторов на CMS",
"РодительКод": "132000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=132020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=132020
OLD_PID=132000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=132000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=132000, name='Сектор №2 торцевых детекторов на CMS', is_deleted=0, changed=now() where ID=132020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781312");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_677)</span><div id='gateway/jinr_setDivParents1514306781312' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=132020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=132000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=132000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=132020
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках / Научно-экспериментальный отдел физики на CMS / Сектор №2 торцевых детекторов на CMS' where id=132020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781312");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781306");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_677");'>Request_HR_LHEP_677 (gateway/receive) DONE! (92ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_678");'> Request_HR_LHEP_678 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_678' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b23d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115127&ClientObjectID=533000&Time=27.02.2017 12:42:45&Object={
"Код": "533000",
"Наименование": "Группа инженерных систем",
"РодительКод": "530000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=533000;<br> Наименование=Группа инженерных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=530000<BR>
 Код=533000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781398");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_678)</span><div id='gateway/receive_3_podrazd1514306781398' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "533000",
"Наименование": "Группа инженерных систем",
"РодительКод": "530000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=533000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=533000
OLD_PID=530000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=530000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=530000, name='Группа инженерных систем', is_deleted=0, changed=now() where ID=533000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781403");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_678)</span><div id='gateway/jinr_setDivParents1514306781403' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=533000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=530000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=530000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=533000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Группа инженерных систем' where id=533000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781403");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781398");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_678");'>Request_HR_LHEP_678 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_679");'> Request_HR_LHEP_679 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_679' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b20d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115126&ClientObjectID=531000&Time=27.02.2017 12:42:44&Object={
"Код": "531000",
"Наименование": "Научно-технологический отдел ускорителей",
"РодительКод": "530000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=531000;<br> Наименование=Научно-технологический отдел ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=530000<BR>
 Код=531000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781488");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_679)</span><div id='gateway/receive_3_podrazd1514306781488' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "531000",
"Наименование": "Научно-технологический отдел ускорителей",
"РодительКод": "530000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=531000
OLD_PID=530000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=530000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=530000, name='Научно-технологический отдел ускорителей', is_deleted=0, changed=now() where ID=531000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781494");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_679)</span><div id='gateway/jinr_setDivParents1514306781494' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=531000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=530000
LEV_OLD=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=530000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=531000
</xmp> <b> Processed in 4ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Научно-технологический отдел ускорителей' where id=531000
</xmp> DONE! 1 record(s) affected------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781494");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (18ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781488");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (24ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_679");'>Request_HR_LHEP_679 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_680");'> Request_HR_LHEP_680 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_680' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b241-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115124&ClientObjectID=532000&Time=27.02.2017 12:42:46&Object={
"Код": "532000",
"Наименование": "Конструкторско-технологический отдел",
"РодительКод": "530000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=532000;<br> Наименование=Конструкторско-технологический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=530000<BR>
 Код=532000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781591");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_680)</span><div id='gateway/receive_3_podrazd1514306781591' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "532000",
"Наименование": "Конструкторско-технологический отдел",
"РодительКод": "530000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=532000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=532000
OLD_PID=530000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=530000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=530000, name='Конструкторско-технологический отдел', is_deleted=0, changed=now() where ID=532000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781597");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_680)</span><div id='gateway/jinr_setDivParents1514306781597' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=532000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=530000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=530000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=532000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера / Конструкторско-технологический отдел' where id=532000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781597");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781591");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_680");'>Request_HR_LHEP_680 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_681");'> Request_HR_LHEP_681 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_681' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94c0-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115120&ClientObjectID=153002&Time=27.02.2017 12:42:49&Object={
"Код": "153002",
"Наименование": "Группа №2 физических исследований детекторов",
"РодительКод": "153000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=153002;<br> Наименование=Группа №2 физических исследований детекторов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=153000<BR>
 Код=153002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781684");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_681)</span><div id='gateway/receive_3_podrazd1514306781684' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "153002",
"Наименование": "Группа №2 физических исследований детекторов",
"РодительКод": "153000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=153002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=153002
OLD_PID=153000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=153000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=153000, name='Группа №2 физических исследований детекторов', is_deleted=0, changed=now() where ID=153002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781690");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_681)</span><div id='gateway/jinr_setDivParents1514306781690' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=153002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=153000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=153000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=153002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Сектор строу-детекторов / Группа №2 физических исследований детекторов' where id=153002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781690");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781684");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_681");'>Request_HR_LHEP_681 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_682");'> Request_HR_LHEP_682 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_682' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f40-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115123&ClientObjectID=115001&Time=27.02.2017 12:42:47&Object={
"Код": "115001",
"Наименование": "Группа №1 эксплуатации и разработок систем управляющей электроники Нуклотрона",
"РодительКод": "115000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=115001;<br> Наименование=Группа №1 эксплуатации и разработок систем управляющей электроники Нуклотрона<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=115000<BR>
 Код=115001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781781");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_682)</span><div id='gateway/receive_3_podrazd1514306781781' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "115001",
"Наименование": "Группа №1 эксплуатации и разработок систем управляющей электроники Нуклотрона",
"РодительКод": "115000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=115001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=115001
OLD_PID=115000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=115000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=115000, name='Группа №1 эксплуатации и разработок систем управляющей электроники Нуклотрона', is_deleted=0, changed=now() where ID=115001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781791");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_682)</span><div id='gateway/jinr_setDivParents1514306781791' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=115001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=115000
LEV_OLD=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=115000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=115001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел радиоэлектронных систем / Группа №1 эксплуатации и разработок систем управляющей электроники Нуклотрона' where id=115001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781791");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781781");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (24ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_682");'>Request_HR_LHEP_682 (gateway/receive) DONE! (96ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_683");'> Request_HR_LHEP_683 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_683' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb61-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115093&ClientObjectID=131000&Time=27.02.2017 12:43:04&Object={
"Код": "131000",
"Наименование": "Научно-экспериментальный отдел физики легких кварков и лептонов",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=131000;<br> Наименование=Научно-экспериментальный отдел физики легких кварков и лептонов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=130000<BR>
 Код=131000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781888");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_683)</span><div id='gateway/receive_3_podrazd1514306781888' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "131000",
"Наименование": "Научно-экспериментальный отдел физики легких кварков и лептонов",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=131000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=131000
OLD_PID=130000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=130000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=130000, name='Научно-экспериментальный отдел физики легких кварков и лептонов', is_deleted=0, changed=now() where ID=131000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781895");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_683)</span><div id='gateway/jinr_setDivParents1514306781895' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=131000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=130000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=130000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=131000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел физики легких кварков и лептонов' where id=131000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306781895");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781888");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_683");'>Request_HR_LHEP_683 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_684");'> Request_HR_LHEP_684 [26.12 19:46:21] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_684' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b206-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115094&ClientObjectID=173000&Time=27.02.2017 12:43:05&Object={
"Код": "173000",
"Наименование": "Серпуховской научно-экспериментальный отдел",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=173000;<br> Наименование=Серпуховской научно-экспериментальный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=130000<BR>
 Код=173000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781984");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_684)</span><div id='gateway/receive_3_podrazd1514306781984' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "173000",
"Наименование": "Серпуховской научно-экспериментальный отдел",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=173000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=173000
OLD_PID=130000
is_manual=0</xmp>------ SQL done, 5ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=130000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=130000, name='Серпуховской научно-экспериментальный отдел', is_deleted=0, changed=now() where ID=173000
</xmp> DONE! 1 record(s) affected------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782000");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_684)</span><div id='gateway/jinr_setDivParents1514306782000' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=173000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=130000
LEV_OLD=4</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=130000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=173000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Серпуховской научно-экспериментальный отдел' where id=173000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782000");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306781984");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (28ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_684");'>Request_HR_LHEP_684 (gateway/receive) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_685");'> Request_HR_LHEP_685 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_685' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b255-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115095&ClientObjectID=112000&Time=27.02.2017 12:43:03&Object={
"Код": "112000",
"Наименование": "Научно-экспериментальный отдел инженерно-физических проблем ускорителей",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=112000;<br> Наименование=Научно-экспериментальный отдел инженерно-физических проблем ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=112000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782086");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_685)</span><div id='gateway/receive_3_podrazd1514306782086' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "112000",
"Наименование": "Научно-экспериментальный отдел инженерно-физических проблем ускорителей",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=112000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=112000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-экспериментальный отдел инженерно-физических проблем ускорителей', is_deleted=0, changed=now() where ID=112000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782091");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_685)</span><div id='gateway/jinr_setDivParents1514306782091' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=112000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=112000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инженерно-физических проблем ускорителей' where id=112000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782091");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782086");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_685");'>Request_HR_LHEP_685 (gateway/receive) DONE! (104ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_686");'> Request_HR_LHEP_686 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_686' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b24d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115097&ClientObjectID=111000&Time=27.02.2017 12:43:02&Object={
"Код": "111000",
"Наименование": "Научно-экспериментальный отдел ускорительных систем",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=111000;<br> Наименование=Научно-экспериментальный отдел ускорительных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=111000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782199");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_686)</span><div id='gateway/receive_3_podrazd1514306782199' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "111000",
"Наименование": "Научно-экспериментальный отдел ускорительных систем",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=111000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=111000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-экспериментальный отдел ускорительных систем', is_deleted=0, changed=now() where ID=111000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782204");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_686)</span><div id='gateway/jinr_setDivParents1514306782204' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=111000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=111000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел ускорительных систем  ' where id=111000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782204");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782199");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_686");'>Request_HR_LHEP_686 (gateway/receive) DONE! (110ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_687");'> Request_HR_LHEP_687 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_687' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b24f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115098&ClientObjectID=115000&Time=27.02.2017 12:43:02&Object={
"Код": "115000",
"Наименование": "Научно-экспериментальный отдел радиоэлектронных систем",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=115000;<br> Наименование=Научно-экспериментальный отдел радиоэлектронных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=115000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782332");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_687)</span><div id='gateway/receive_3_podrazd1514306782332' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "115000",
"Наименование": "Научно-экспериментальный отдел радиоэлектронных систем",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=115000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=115000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-экспериментальный отдел радиоэлектронных систем', is_deleted=0, changed=now() where ID=115000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782338");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_687)</span><div id='gateway/jinr_setDivParents1514306782338' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=115000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=115000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел радиоэлектронных систем' where id=115000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782338");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782332");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_687");'>Request_HR_LHEP_687 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_688");'> Request_HR_LHEP_688 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_688' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb62-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115099&ClientObjectID=117000&Time=27.02.2017 12:43:01&Object={
"Код": "117000",
"Наименование": "Научно-исследовательский криогенный отдел",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=117000;<br> Наименование=Научно-исследовательский криогенный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=117000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782429");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_688)</span><div id='gateway/receive_3_podrazd1514306782429' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "117000",
"Наименование": "Научно-исследовательский криогенный отдел",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=117000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=117000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-исследовательский криогенный отдел', is_deleted=0, changed=now() where ID=117000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782438");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_688)</span><div id='gateway/jinr_setDivParents1514306782438' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=117000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=117000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-исследовательский криогенный отдел' where id=117000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782438");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782429");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_688");'>Request_HR_LHEP_688 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_689");'> Request_HR_LHEP_689 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_689' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb67-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115100&ClientObjectID=114000&Time=27.02.2017 12:43:00&Object={
"Код": "114000",
"Наименование": "Научно-экспериментальный отдел инжекции и кольца Нуклотрона",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=114000;<br> Наименование=Научно-экспериментальный отдел инжекции и кольца Нуклотрона<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=114000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782518");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_689)</span><div id='gateway/receive_3_podrazd1514306782518' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "114000",
"Наименование": "Научно-экспериментальный отдел инжекции и кольца Нуклотрона",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=114000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-экспериментальный отдел инжекции и кольца Нуклотрона', is_deleted=0, changed=now() where ID=114000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782524");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_689)</span><div id='gateway/jinr_setDivParents1514306782524' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=114000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=114000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел инжекции и кольца Нуклотрона' where id=114000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782524");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782518");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_689");'>Request_HR_LHEP_689 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_690");'> Request_HR_LHEP_690 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_690' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c1568c67-0968-11e2-9863-e0cb4eda5b7d&GateObjectID=115096&ClientObjectID=157001&Time=27.02.2017 12:43:03&Object={
"Код": "157001",
"Наименование": "Группа №1 криогенных систем",
"РодительКод": "157000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=157001;<br> Наименование=Группа №1 криогенных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=157000<BR>
 Код=157001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782623");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_690)</span><div id='gateway/receive_3_podrazd1514306782623' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "157001",
"Наименование": "Группа №1 криогенных систем",
"РодительКод": "157000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=157001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=157001
OLD_PID=157000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=157000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=157000, name='Группа №1 криогенных систем', is_deleted=0, changed=now() where ID=157001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782630");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_690)</span><div id='gateway/jinr_setDivParents1514306782630' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=157001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=157000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=157000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=157001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Сектор криофизических исследований / Группа №1 криогенных систем' where id=157001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782630");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782623");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_690");'>Request_HR_LHEP_690 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_691");'> Request_HR_LHEP_691 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_691' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b20b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115103&ClientObjectID=113000&Time=27.02.2017 12:42:59&Object={
"Код": "113000",
"Наименование": "Научно-технический отдел пучков",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=113000;<br> Наименование=Научно-технический отдел пучков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=113000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782742");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_691)</span><div id='gateway/receive_3_podrazd1514306782742' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "113000",
"Наименование": "Научно-технический отдел пучков",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=113000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=113000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-технический отдел пучков', is_deleted=0, changed=now() where ID=113000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782748");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_691)</span><div id='gateway/jinr_setDivParents1514306782748' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=113000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=113000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-технический отдел пучков' where id=113000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782748");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782742");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_691");'>Request_HR_LHEP_691 (gateway/receive) DONE! (96ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_692");'> Request_HR_LHEP_692 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_692' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf0e-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115111&ClientObjectID=951010&Time=27.02.2017 12:42:54&Object={
"Код": "951010",
"Наименование": "Группа экономики и планирования",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=951010;<br> Наименование=Группа экономики и планирования<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=951000<BR>
 Код=951010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782857");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_692)</span><div id='gateway/receive_3_podrazd1514306782857' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "951010",
"Наименование": "Группа экономики и планирования",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=951010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=951010
OLD_PID=951000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=951000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=951000, name='Группа экономики и планирования', is_deleted=0, changed=now() where ID=951010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782863");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_692)</span><div id='gateway/jinr_setDivParents1514306782863' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=951010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=951000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=951000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=951010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Управление / Группа экономики и планирования' where id=951010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782863");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782857");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_692");'>Request_HR_LHEP_692 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_693");'> Request_HR_LHEP_693 [26.12 19:46:22] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_693' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c823da63-e2d4-11e1-9f24-7071bc4316b3&GateObjectID=115110&ClientObjectID=440004&Time=27.02.2017 12:42:54&Object={
"Код": "440004",
"Наименование": "Группа №4 дежурных электриков",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=440004;<br> Наименование=Группа №4 дежурных электриков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=440000<BR>
 Код=440004<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782950");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_693)</span><div id='gateway/receive_3_podrazd1514306782950' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "440004",
"Наименование": "Группа №4 дежурных электриков",
"РодительКод": "440000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=440004
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=440004
OLD_PID=440000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=440000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=440000, name='Группа №4 дежурных электриков', is_deleted=0, changed=now() where ID=440004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782956");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_693)</span><div id='gateway/jinr_setDivParents1514306782956' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=440004
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=440000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=440000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=440004
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Электротехнологический отдел / Группа №4 дежурных электриков' where id=440004
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306782956");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306782950");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_693");'>Request_HR_LHEP_693 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_694");'> Request_HR_LHEP_694 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_694' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf0f-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115109&ClientObjectID=951020&Time=27.02.2017 12:42:55&Object={
"Код": "951020",
"Наименование": "Группа бухгалтерского учета",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=951020;<br> Наименование=Группа бухгалтерского учета<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=951000<BR>
 Код=951020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783044");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_694)</span><div id='gateway/receive_3_podrazd1514306783044' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "951020",
"Наименование": "Группа бухгалтерского учета",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=951020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=951020
OLD_PID=951000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=951000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=951000, name='Группа бухгалтерского учета', is_deleted=0, changed=now() where ID=951020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783050");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_694)</span><div id='gateway/jinr_setDivParents1514306783050' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=951020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=951000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=951000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=951020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Управление / Группа бухгалтерского учета' where id=951020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783050");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783044");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_694");'>Request_HR_LHEP_694 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_695");'> Request_HR_LHEP_695 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_695' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf11-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115108&ClientObjectID=951040&Time=27.02.2017 12:42:56&Object={
"Код": "951040",
"Наименование": "Проектно-конструкторская группа",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=951040;<br> Наименование=Проектно-конструкторская группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=951000<BR>
 Код=951040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783132");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_695)</span><div id='gateway/receive_3_podrazd1514306783132' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "951040",
"Наименование": "Проектно-конструкторская группа",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=951040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=951040
OLD_PID=951000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=951000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=951000, name='Проектно-конструкторская группа', is_deleted=0, changed=now() where ID=951040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783138");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_695)</span><div id='gateway/jinr_setDivParents1514306783138' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=951040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=951000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=951000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=951040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Управление / Проектно-конструкторская группа' where id=951040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783138");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783132");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_695");'>Request_HR_LHEP_695 (gateway/receive) DONE! (114ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_696");'> Request_HR_LHEP_696 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_696' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf10-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=115107&ClientObjectID=951030&Time=27.02.2017 12:42:55&Object={
"Код": "951030",
"Наименование": "Группа учета поставок энергоносителей и реализации коммунальных услуг",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=951030;<br> Наименование=Группа учета поставок энергоносителей и реализации коммунальных услуг<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=951000<BR>
 Код=951030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783259");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_696)</span><div id='gateway/receive_3_podrazd1514306783259' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "951030",
"Наименование": "Группа учета поставок энергоносителей и реализации коммунальных услуг",
"РодительКод": "951000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=951030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=951030
OLD_PID=951000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=951000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=951000, name='Группа учета поставок энергоносителей и реализации коммунальных услуг', is_deleted=0, changed=now() where ID=951030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783264");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_696)</span><div id='gateway/jinr_setDivParents1514306783264' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=951030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=951000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=951000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=951030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Управление / Группа учета поставок энергоносителей и реализации коммунальных услуг' where id=951030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783264");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783259");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_696");'>Request_HR_LHEP_696 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_697");'> Request_HR_LHEP_697 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_697' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac336-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115106&ClientObjectID=522002&Time=27.02.2017 12:42:57&Object={
"Код": "522002",
"Наименование": "Группа №2 спектрометрической электроники",
"РодительКод": "522000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=522002;<br> Наименование=Группа №2 спектрометрической электроники<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=522000<BR>
 Код=522002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783350");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_697)</span><div id='gateway/receive_3_podrazd1514306783350' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "522002",
"Наименование": "Группа №2 спектрометрической электроники",
"РодительКод": "522000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=522002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=522002
OLD_PID=522000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=522000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=522000, name='Группа №2 спектрометрической электроники', is_deleted=0, changed=now() where ID=522002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783355");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_697)</span><div id='gateway/jinr_setDivParents1514306783355' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=522002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=522000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=522000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=522002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №2 реакции образования и структура тяжелых ядер / Группа №2 спектрометрической электроники' where id=522002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783355");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783350");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_697");'>Request_HR_LHEP_697 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_698");'> Request_HR_LHEP_698 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_698' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac335-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=115105&ClientObjectID=522001&Time=27.02.2017 12:42:57&Object={
"Код": "522001",
"Наименование": "Группа №1 установка ВАСИЛИСА",
"РодительКод": "522000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=522001;<br> Наименование=Группа №1 установка ВАСИЛИСА<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=522000<BR>
 Код=522001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783433");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_698)</span><div id='gateway/receive_3_podrazd1514306783433' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "522001",
"Наименование": "Группа №1 установка ВАСИЛИСА",
"РодительКод": "522000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=522001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=522001
OLD_PID=522000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=522000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=522000, name='Группа №1 установка ВАСИЛИСА', is_deleted=0, changed=now() where ID=522001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783439");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_698)</span><div id='gateway/jinr_setDivParents1514306783439' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=522001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=522000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=522000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=522001
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №2 реакции образования и структура тяжелых ядер / Группа №1 установка ВАСИЛИСА' where id=522001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783439");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783433");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_698");'>Request_HR_LHEP_698 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_699");'> Request_HR_LHEP_699 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_699' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=81b771e2-6961-11e3-9403-0025907d24fa&GateObjectID=115104&ClientObjectID=129000&Time=27.02.2017 12:42:58&Object={
"Код": "129000",
"Наименование": "Научно-экспериментальный отдел сверхпроводящих магнитов и технологий",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=129000;<br> Наименование=Научно-экспериментальный отдел сверхпроводящих магнитов и технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=129000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783528");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_699)</span><div id='gateway/receive_3_podrazd1514306783528' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "129000",
"Наименование": "Научно-экспериментальный отдел сверхпроводящих магнитов и технологий",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=129000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', is_deleted=0, changed=now() where ID=129000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783535");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_699)</span><div id='gateway/jinr_setDivParents1514306783535' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=129000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=129000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-экспериментальный отдел сверхпроводящих магнитов и технологий' where id=129000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783535");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783528");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_699");'>Request_HR_LHEP_699 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_700");'> Request_HR_LHEP_700 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_700' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b221-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115076&ClientObjectID=214000&Time=27.02.2017 12:43:22&Object={
"Код": "214000",
"Наименование": "Научно-экспериментальный отдел множественных адронных процессов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214000;<br> Наименование=Научно-экспериментальный отдел множественных адронных процессов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=214000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783628");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_700)</span><div id='gateway/receive_3_podrazd1514306783628' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214000",
"Наименование": "Научно-экспериментальный отдел множественных адронных процессов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел множественных адронных процессов', is_deleted=0, changed=now() where ID=214000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783634");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_700)</span><div id='gateway/jinr_setDivParents1514306783634' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов' where id=214000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783634");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783628");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_700");'>Request_HR_LHEP_700 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_701");'> Request_HR_LHEP_701 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_701' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447ff-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115075&ClientObjectID=32010&Time=27.02.2017 12:43:24&Object={
"Код": "032010",
"Наименование": "Руководство",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=32010;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=032000<BR>
 Код=032010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783731");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_701)</span><div id='gateway/receive_3_podrazd1514306783731' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032010",
"Наименование": "Руководство",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32010
OLD_PID=32000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=032000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=032000, name='Руководство', is_deleted=0, changed=now() where ID=032010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783739");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_701)</span><div id='gateway/jinr_setDivParents1514306783739' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=32000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=32000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УНЦ / Руководство' where id=32010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783739");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783731");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_701");'>Request_HR_LHEP_701 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_702");'> Request_HR_LHEP_702 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_702' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=95fcc143-48d7-11e2-b036-000e0ce597c9&GateObjectID=115074&ClientObjectID=32040&Time=27.02.2017 12:43:24&Object={
"Код": "032040",
"Наименование": "Отдел разработки и создания образовательных программ",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=32040;<br> Наименование=Отдел разработки и создания образовательных программ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=032000<BR>
 Код=032040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783866");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_702)</span><div id='gateway/receive_3_podrazd1514306783866' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032040",
"Наименование": "Отдел разработки и создания образовательных программ",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32040
OLD_PID=32000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=032000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=032000, name='Отдел разработки и создания образовательных программ', is_deleted=0, changed=now() where ID=032040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783871");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_702)</span><div id='gateway/jinr_setDivParents1514306783871' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=32000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=32000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УНЦ / Отдел разработки и создания образовательных программ' where id=32040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783871");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783866");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_702");'>Request_HR_LHEP_702 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_703");'> Request_HR_LHEP_703 [26.12 19:46:23] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_703' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844800-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115073&ClientObjectID=32020&Time=27.02.2017 12:43:25&Object={
"Код": "032020",
"Наименование": "Научно-технический персонал",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=32020;<br> Наименование=Научно-технический персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=032000<BR>
 Код=032020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783951");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_703)</span><div id='gateway/receive_3_podrazd1514306783951' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032020",
"Наименование": "Научно-технический персонал",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32020
OLD_PID=32000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=032000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=032000, name='Научно-технический персонал', is_deleted=0, changed=now() where ID=032020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783957");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_703)</span><div id='gateway/jinr_setDivParents1514306783957' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=32000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=32000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УНЦ / Научно-технический персонал' where id=32020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306783957");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306783951");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_703");'>Request_HR_LHEP_703 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_704");'> Request_HR_LHEP_704 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_704' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=1420c6c6-109b-11e4-941d-0025907d24fa&GateObjectID=115072&ClientObjectID=32050&Time=27.02.2017 12:43:26&Object={
"Код": "032050",
"Наименование": "Научно-инженерная группа",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=32050;<br> Наименование=Научно-инженерная группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=032000<BR>
 Код=032050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784034");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_704)</span><div id='gateway/receive_3_podrazd1514306784034' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032050",
"Наименование": "Научно-инженерная группа",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32050
OLD_PID=32000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=032000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=032000, name='Научно-инженерная группа', is_deleted=0, changed=now() where ID=032050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784040");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_704)</span><div id='gateway/jinr_setDivParents1514306784040' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=32000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=32000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УНЦ / Научно-инженерная группа' where id=32050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784040");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784034");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_704");'>Request_HR_LHEP_704 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_705");'> Request_HR_LHEP_705 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_705' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=cca0f255-5b9b-11e5-9445-0025907d24fa&GateObjectID=115071&ClientObjectID=310000&Time=27.02.2017 12:43:27&Object={
"Код": "310000",
"Наименование": "Научный отдел теории атомного ядра",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=310000;<br> Наименование=Научный отдел теории атомного ядра<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=310000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784119");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_705)</span><div id='gateway/receive_3_podrazd1514306784119' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "310000",
"Наименование": "Научный отдел теории атомного ядра",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=310000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=310000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Научный отдел теории атомного ядра', is_deleted=0, changed=now() where ID=310000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784125");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_705)</span><div id='gateway/jinr_setDivParents1514306784125' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=310000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=310000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории атомного ядра' where id=310000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784125");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784119");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_705");'>Request_HR_LHEP_705 (gateway/receive) DONE! (147ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_706");'> Request_HR_LHEP_706 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_706' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=08f833cf-5b9b-11e5-9445-0025907d24fa&GateObjectID=115070&ClientObjectID=309000&Time=27.02.2017 12:43:27&Object={
"Код": "309000",
"Наименование": "Научный отдел теории фундаментальных взаимодействий",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=309000;<br> Наименование=Научный отдел теории фундаментальных взаимодействий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=309000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784470");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_706)</span><div id='gateway/receive_3_podrazd1514306784470' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "309000",
"Наименование": "Научный отдел теории фундаментальных взаимодействий",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=309000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Научный отдел теории фундаментальных взаимодействий', is_deleted=0, changed=now() where ID=309000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784478");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_706)</span><div id='gateway/jinr_setDivParents1514306784478' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=309000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=309000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории фундаментальных взаимодействий' where id=309000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784478");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784470");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_706");'>Request_HR_LHEP_706 (gateway/receive) DONE! (124ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_707");'> Request_HR_LHEP_707 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_707' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b243-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115080&ClientObjectID=201000&Time=27.02.2017 12:43:17&Object={
"Код": "201000",
"Наименование": "Руководство",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=201000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=201000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784610");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_707)</span><div id='gateway/receive_3_podrazd1514306784610' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "201000",
"Наименование": "Руководство",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=201000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=201000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Руководство', is_deleted=0, changed=now() where ID=201000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784617");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_707)</span><div id='gateway/jinr_setDivParents1514306784617' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=201000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=201000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Руководство' where id=201000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784617");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784610");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_707");'>Request_HR_LHEP_707 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_708");'> Request_HR_LHEP_708 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_708' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b275-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115081&ClientObjectID=211000&Time=27.02.2017 12:43:17&Object={
"Код": "211000",
"Наименование": "Сектор исследования спиновых эффектов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=211000;<br> Наименование=Сектор исследования спиновых эффектов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=211000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784711");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_708)</span><div id='gateway/receive_3_podrazd1514306784711' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "211000",
"Наименование": "Сектор исследования спиновых эффектов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=211000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=211000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор исследования спиновых эффектов', is_deleted=0, changed=now() where ID=211000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784718");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_708)</span><div id='gateway/jinr_setDivParents1514306784718' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=211000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=211000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор исследования спиновых эффектов' where id=211000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784718");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784711");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_708");'>Request_HR_LHEP_708 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_709");'> Request_HR_LHEP_709 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_709' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1fd-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115082&ClientObjectID=248000&Time=27.02.2017 12:43:15&Object={
"Код": "248000",
"Наименование": "Научно-экспериментальный отдел физики промежуточных энергий",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=248000;<br> Наименование=Научно-экспериментальный отдел физики промежуточных энергий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=248000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784811");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_709)</span><div id='gateway/receive_3_podrazd1514306784811' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "248000",
"Наименование": "Научно-экспериментальный отдел физики промежуточных энергий",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=248000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел физики промежуточных энергий', is_deleted=0, changed=now() where ID=248000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784816");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_709)</span><div id='gateway/jinr_setDivParents1514306784816' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=248000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=248000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики промежуточных энергий' where id=248000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784816");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784811");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_709");'>Request_HR_LHEP_709 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_710");'> Request_HR_LHEP_710 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_710' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f5-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115101&ClientObjectID=116000&Time=27.02.2017 12:43:00&Object={
"Код": "116000",
"Наименование": "Научно-инженерный отдел систем электропитания Нуклотрона",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=116000;<br> Наименование=Научно-инженерный отдел систем электропитания Нуклотрона<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=110000<BR>
 Код=116000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784894");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_710)</span><div id='gateway/receive_3_podrazd1514306784894' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "116000",
"Наименование": "Научно-инженерный отдел систем электропитания Нуклотрона",
"РодительКод": "110000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=116000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=116000
OLD_PID=110000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=110000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=110000, name='Научно-инженерный отдел систем электропитания Нуклотрона', is_deleted=0, changed=now() where ID=116000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784899");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_710)</span><div id='gateway/jinr_setDivParents1514306784899' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=116000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=110000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=116000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное  / Научно-инженерный отдел систем электропитания Нуклотрона' where id=116000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784899");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784894");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_710");'>Request_HR_LHEP_710 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_711");'> Request_HR_LHEP_711 [26.12 19:46:24] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_711' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb65-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115092&ClientObjectID=124000&Time=27.02.2017 12:43:06&Object={
"Код": "124000",
"Наименование": "Сектор физики странных кварков в ядрах",
"РодительКод": "120000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=124000;<br> Наименование=Сектор физики странных кварков в ядрах<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=120000<BR>
 Код=124000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784981");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_711)</span><div id='gateway/receive_3_podrazd1514306784981' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "124000",
"Наименование": "Сектор физики странных кварков в ядрах",
"РодительКод": "120000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=124000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=124000
OLD_PID=120000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=120000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=120000, name='Сектор физики странных кварков в ядрах', is_deleted=0, changed=now() where ID=124000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784987");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_711)</span><div id='gateway/jinr_setDivParents1514306784987' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=124000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=120000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=120000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=124000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Сектор физики странных кварков в ядрах' where id=124000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306784987");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306784981");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_711");'>Request_HR_LHEP_711 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_712");'> Request_HR_LHEP_712 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_712' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b237-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115091&ClientObjectID=121000&Time=27.02.2017 12:43:05&Object={
"Код": "121000",
"Наименование": "Научно-экспериментальный отдел многоцелевого детектора (MPD)",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=121000;<br> Наименование=Научно-экспериментальный отдел многоцелевого детектора (MPD)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=130000<BR>
 Код=121000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785100");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_712)</span><div id='gateway/receive_3_podrazd1514306785100' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "121000",
"Наименование": "Научно-экспериментальный отдел многоцелевого детектора (MPD)",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=121000
OLD_PID=130000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=130000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=130000, name='Научно-экспериментальный отдел многоцелевого детектора (MPD)', is_deleted=0, changed=now() where ID=121000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785106");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_712)</span><div id='gateway/jinr_setDivParents1514306785106' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=121000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=130000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=130000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=121000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно-экспериментальный отдел многоцелевого детектора (MPD)' where id=121000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785106");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785100");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_712");'>Request_HR_LHEP_712 (gateway/receive) DONE! (98ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_713");'> Request_HR_LHEP_713 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_713' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b21d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115090&ClientObjectID=123000&Time=27.02.2017 12:43:07&Object={
"Код": "123000",
"Наименование": "Научно-экспериментальный отдел спиновой физики малонуклонных систем",
"РодительКод": "120000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=123000;<br> Наименование=Научно-экспериментальный отдел спиновой физики малонуклонных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=120000<BR>
 Код=123000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785211");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_713)</span><div id='gateway/receive_3_podrazd1514306785211' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "123000",
"Наименование": "Научно-экспериментальный отдел спиновой физики малонуклонных систем",
"РодительКод": "120000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=123000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=123000
OLD_PID=120000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=120000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=120000, name='Научно-экспериментальный отдел спиновой физики малонуклонных систем', is_deleted=0, changed=now() where ID=123000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785216");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_713)</span><div id='gateway/jinr_setDivParents1514306785216' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=123000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=120000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=120000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=123000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел спиновой физики малонуклонных систем' where id=123000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785216");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785211");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_713");'>Request_HR_LHEP_713 (gateway/receive) DONE! (121ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_714");'> Request_HR_LHEP_714 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_714' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb5b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115089&ClientObjectID=122000&Time=27.02.2017 12:43:07&Object={
"Код": "122000",
"Наименование": "Научно-экспериментальный отдел физики тяжелых ионов",
"РодительКод": "120000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=122000;<br> Наименование=Научно-экспериментальный отдел физики тяжелых ионов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=120000<BR>
 Код=122000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785343");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_714)</span><div id='gateway/receive_3_podrazd1514306785343' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "122000",
"Наименование": "Научно-экспериментальный отдел физики тяжелых ионов",
"РодительКод": "120000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=122000
OLD_PID=120000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=120000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=120000, name='Научно-экспериментальный отдел физики тяжелых ионов', is_deleted=0, changed=now() where ID=122000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785349");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_714)</span><div id='gateway/jinr_setDivParents1514306785349' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=122000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=120000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=120000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=122000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA / Научно-экспериментальный отдел физики тяжелых ионов' where id=122000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785349");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785343");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_714");'>Request_HR_LHEP_714 (gateway/receive) DONE! (65ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_715");'> Request_HR_LHEP_715 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_715' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b23a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115088&ClientObjectID=151000&Time=27.02.2017 12:43:08&Object={
"Код": "151000",
"Наименование": "Научно–экспериментальный отдел автоматизации физических исследований",
"РодительКод": "150000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=151000;<br> Наименование=Научно–экспериментальный отдел автоматизации физических исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=150000<BR>
 Код=151000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785428");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_715)</span><div id='gateway/receive_3_podrazd1514306785428' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "151000",
"Наименование": "Научно–экспериментальный отдел автоматизации физических исследований",
"РодительКод": "150000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=151000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=151000
OLD_PID=150000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=150000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=150000, name='Научно–экспериментальный отдел автоматизации физических исследований', is_deleted=0, changed=now() where ID=151000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785435");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_715)</span><div id='gateway/jinr_setDivParents1514306785435' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=151000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=150000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=150000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=151000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно–экспериментальный отдел автоматизации физических исследований' where id=151000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785435");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785428");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_715");'>Request_HR_LHEP_715 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_716");'> Request_HR_LHEP_716 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_716' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=55c271f5-b0bb-11e3-940c-0025907d24fa&GateObjectID=115083&ClientObjectID=158000&Time=27.02.2017 12:43:11&Object={
"Код": "158000",
"Наименование": "Научно-методический отдел кремниевых трековых систем",
"РодительКод": "150000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=158000;<br> Наименование=Научно-методический отдел кремниевых трековых систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=150000<BR>
 Код=158000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785522");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_716)</span><div id='gateway/receive_3_podrazd1514306785522' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "158000",
"Наименование": "Научно-методический отдел кремниевых трековых систем",
"РодительКод": "150000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=158000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=158000
OLD_PID=150000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=150000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=150000, name='Научно-методический отдел кремниевых трековых систем', is_deleted=0, changed=now() where ID=158000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785528");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_716)</span><div id='gateway/jinr_setDivParents1514306785528' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=158000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=150000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=150000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=158000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций / Научно-методический отдел кремниевых трековых систем' where id=158000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785528");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785522");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_716");'>Request_HR_LHEP_716 (gateway/receive) DONE! (182ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_717");'> Request_HR_LHEP_717 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_717' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b249-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115062&ClientObjectID=524000&Time=27.02.2017 12:43:32&Object={
"Код": "524000",
"Наименование": "Сектор №4 масс-спектрометрия и лазерная спектроскопия тяжелых нуклидов",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=524000;<br> Наименование=Сектор №4 масс-спектрометрия и лазерная спектроскопия тяжелых нуклидов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=524000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785772");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_717)</span><div id='gateway/receive_3_podrazd1514306785772' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "524000",
"Наименование": "Сектор №4 масс-спектрометрия и лазерная спектроскопия тяжелых нуклидов",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=524000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=524000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №4 масс-спектрометрия и лазерная спектроскопия тяжелых нуклидов', is_deleted=0, changed=now() where ID=524000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785778");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_717)</span><div id='gateway/jinr_setDivParents1514306785778' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=524000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=524000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №4 масс-спектрометрия и лазерная спектроскопия тяжелых нуклидов' where id=524000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785778");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785772");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_717");'>Request_HR_LHEP_717 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_718");'> Request_HR_LHEP_718 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_718' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b26b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115055&ClientObjectID=522000&Time=27.02.2017 12:43:36&Object={
"Код": "522000",
"Наименование": "Сектор №2 реакции образования и структура тяжелых ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=522000;<br> Наименование=Сектор №2 реакции образования и структура тяжелых ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=522000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785878");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_718)</span><div id='gateway/receive_3_podrazd1514306785878' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "522000",
"Наименование": "Сектор №2 реакции образования и структура тяжелых ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=522000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=522000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №2 реакции образования и структура тяжелых ядер', is_deleted=0, changed=now() where ID=522000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785883");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_718)</span><div id='gateway/jinr_setDivParents1514306785883' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=522000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=522000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №2 реакции образования и структура тяжелых ядер' where id=522000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785883");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785878");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_718");'>Request_HR_LHEP_718 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_719");'> Request_HR_LHEP_719 [26.12 19:46:25] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_719' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b22d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115060&ClientObjectID=527000&Time=27.02.2017 12:43:33&Object={
"Код": "527000",
"Наименование": "Сектор №7 реакции с пучками легких радиоактивных и стабильных ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=527000;<br> Наименование=Сектор №7 реакции с пучками легких радиоактивных и стабильных ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=527000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785969");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_719)</span><div id='gateway/receive_3_podrazd1514306785969' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "527000",
"Наименование": "Сектор №7 реакции с пучками легких радиоактивных и стабильных ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=527000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=527000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №7 реакции с пучками легких радиоактивных и стабильных ядер', is_deleted=0, changed=now() where ID=527000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785975");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_719)</span><div id='gateway/jinr_setDivParents1514306785975' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=527000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=527000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №7 реакции с пучками легких радиоактивных и стабильных ядер' where id=527000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306785975");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306785969");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_719");'>Request_HR_LHEP_719 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_720");'> Request_HR_LHEP_720 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_720' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb58-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115054&ClientObjectID=521000&Time=27.02.2017 12:43:37&Object={
"Код": "521000",
"Наименование": "Сектор №1 синтез и свойства сверхтяжелых ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=521000;<br> Наименование=Сектор №1 синтез и свойства сверхтяжелых ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=521000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786067");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_720)</span><div id='gateway/receive_3_podrazd1514306786067' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "521000",
"Наименование": "Сектор №1 синтез и свойства сверхтяжелых ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=521000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=521000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №1 синтез и свойства сверхтяжелых ядер', is_deleted=0, changed=now() where ID=521000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786073");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_720)</span><div id='gateway/jinr_setDivParents1514306786073' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=521000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=521000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №1 синтез и свойства сверхтяжелых ядер' where id=521000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786073");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786067");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_720");'>Request_HR_LHEP_720 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_721");'> Request_HR_LHEP_721 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_721' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b208-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115050&ClientObjectID=525000&Time=27.02.2017 12:43:39&Object={
"Код": "525000",
"Наименование": "Сектор №5 динамика взаимодействия тяжелых ядер, деление тяжелых и сверхтяжелых ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=525000;<br> Наименование=Сектор №5 динамика взаимодействия тяжелых ядер, деление тяжелых и сверхтяжелых ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=525000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786154");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_721)</span><div id='gateway/receive_3_podrazd1514306786154' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "525000",
"Наименование": "Сектор №5 динамика взаимодействия тяжелых ядер, деление тяжелых и сверхтяжелых ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=525000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=525000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №5 динамика взаимодействия тяжелых ядер, деление тяжелых и сверхтяжелых ядер', is_deleted=0, changed=now() where ID=525000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786161");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_721)</span><div id='gateway/jinr_setDivParents1514306786161' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=525000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=525000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №5 динамика взаимодействия тяжелых ядер, деление тяжелых и сверхтяжелых ядер' where id=525000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786161");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786154");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_721");'>Request_HR_LHEP_721 (gateway/receive) DONE! (122ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_722");'> Request_HR_LHEP_722 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_722' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b202-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115052&ClientObjectID=523000&Time=27.02.2017 12:43:38&Object={
"Код": "523000",
"Наименование": "Сектор №3 химия трансактиноидов",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=523000;<br> Наименование=Сектор №3 химия трансактиноидов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=523000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786301");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_722)</span><div id='gateway/receive_3_podrazd1514306786301' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "523000",
"Наименование": "Сектор №3 химия трансактиноидов",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=523000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=523000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №3 химия трансактиноидов', is_deleted=0, changed=now() where ID=523000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786308");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_722)</span><div id='gateway/jinr_setDivParents1514306786308' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=523000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=523000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №3 химия трансактиноидов' where id=523000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786308");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786301");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_722");'>Request_HR_LHEP_722 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_723");'> Request_HR_LHEP_723 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_723' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb6a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115053&ClientObjectID=560000&Time=27.02.2017 12:43:37&Object={
"Код": "560000",
"Наименование": "Административно-хозяйственный отдел",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=560000;<br> Наименование=Административно-хозяйственный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=560000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786388");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_723)</span><div id='gateway/receive_3_podrazd1514306786388' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "560000",
"Наименование": "Административно-хозяйственный отдел",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=560000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=560000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Административно-хозяйственный отдел', is_deleted=0, changed=now() where ID=560000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786396");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_723)</span><div id='gateway/jinr_setDivParents1514306786396' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=560000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=560000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Административно-хозяйственный отдел' where id=560000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786396");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786388");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_723");'>Request_HR_LHEP_723 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_724");'> Request_HR_LHEP_724 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_724' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b25e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115063&ClientObjectID=330000&Time=27.02.2017 12:43:31&Object={
"Код": "330000",
"Наименование": "Дубненская международная  школа современной теоретической физики (ДИАС)",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=330000;<br> Наименование=Дубненская международная  школа современной теоретической физики (ДИАС)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=330000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786493");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_724)</span><div id='gateway/receive_3_podrazd1514306786493' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "330000",
"Наименование": "Дубненская международная  школа современной теоретической физики (ДИАС)",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=330000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=330000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Дубненская международная  школа современной теоретической физики (ДИАС)', is_deleted=0, changed=now() where ID=330000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786499");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_724)</span><div id='gateway/jinr_setDivParents1514306786499' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=330000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=330000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Дубненская международная  школа современной теоретической физики (ДИАС)' where id=330000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786499");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786493");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_724");'>Request_HR_LHEP_724 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_725");'> Request_HR_LHEP_725 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_725' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b250-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115064&ClientObjectID=528000&Time=27.02.2017 12:43:31&Object={
"Код": "528000",
"Наименование": "Сектор №8 ионно-имплантационных нанотехнологий и радиационного материаловедения",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=528000;<br> Наименование=Сектор №8 ионно-имплантационных нанотехнологий и радиационного материаловедения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=528000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786583");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_725)</span><div id='gateway/receive_3_podrazd1514306786583' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "528000",
"Наименование": "Сектор №8 ионно-имплантационных нанотехнологий и радиационного материаловедения",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=528000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=528000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №8 ионно-имплантационных нанотехнологий и радиационного материаловедения', is_deleted=0, changed=now() where ID=528000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786590");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_725)</span><div id='gateway/jinr_setDivParents1514306786590' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=528000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=528000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №8 ионно-имплантационных нанотехнологий и радиационного материаловедения' where id=528000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786590");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786583");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_725");'>Request_HR_LHEP_725 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_726");'> Request_HR_LHEP_726 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_726' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b21c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115065&ClientObjectID=302000&Time=27.02.2017 12:43:29&Object={
"Код": "302000",
"Наименование": "Группа по делопроизводству и кадрам",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=302000;<br> Наименование=Группа по делопроизводству и кадрам<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=302000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786680");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_726)</span><div id='gateway/receive_3_podrazd1514306786680' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "302000",
"Наименование": "Группа по делопроизводству и кадрам",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=302000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=302000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Группа по делопроизводству и кадрам', is_deleted=0, changed=now() where ID=302000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786685");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_726)</span><div id='gateway/jinr_setDivParents1514306786685' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=302000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=302000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Группа по делопроизводству и кадрам' where id=302000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786685");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786680");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_726");'>Request_HR_LHEP_726 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_727");'> Request_HR_LHEP_727 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_727' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb6a1861-5b9d-11e5-9445-0025907d24fa&GateObjectID=115069&ClientObjectID=311000&Time=27.02.2017 12:43:28&Object={
"Код": "311000",
"Наименование": "Научный отдел теории конденсированных сред",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=311000;<br> Наименование=Научный отдел теории конденсированных сред<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=311000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786770");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_727)</span><div id='gateway/receive_3_podrazd1514306786770' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "311000",
"Наименование": "Научный отдел теории конденсированных сред",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=311000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=311000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Научный отдел теории конденсированных сред', is_deleted=0, changed=now() where ID=311000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786778");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_727)</span><div id='gateway/jinr_setDivParents1514306786778' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=311000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=311000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории конденсированных сред' where id=311000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786778");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786770");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_727");'>Request_HR_LHEP_727 (gateway/receive) DONE! (157ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_728");'> Request_HR_LHEP_728 [26.12 19:46:26] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_728' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b22f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115078&ClientObjectID=213000&Time=27.02.2017 12:43:20&Object={
"Код": "213000",
"Наименование": "Научно-экспериментальный отдел физики элементарных частиц",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=213000;<br> Наименование=Научно-экспериментальный отдел физики элементарных частиц<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=213000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786943");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_728)</span><div id='gateway/receive_3_podrazd1514306786943' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "213000",
"Наименование": "Научно-экспериментальный отдел физики элементарных частиц",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=213000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел физики элементарных частиц', is_deleted=0, changed=now() where ID=213000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786949");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_728)</span><div id='gateway/jinr_setDivParents1514306786949' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=213000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=213000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики элементарных частиц' where id=213000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306786949");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306786943");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_728");'>Request_HR_LHEP_728 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_729");'> Request_HR_LHEP_729 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_729' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b239-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115079&ClientObjectID=251000&Time=27.02.2017 12:43:19&Object={
"Код": "251000",
"Наименование": "Сектор низких температур",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=251000;<br> Наименование=Сектор низких температур<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=251000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787055");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_729)</span><div id='gateway/receive_3_podrazd1514306787055' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "251000",
"Наименование": "Сектор низких температур",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=251000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=251000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор низких температур', is_deleted=0, changed=now() where ID=251000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787062");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_729)</span><div id='gateway/jinr_setDivParents1514306787062' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=251000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=251000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор низких температур' where id=251000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787062");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787055");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_729");'>Request_HR_LHEP_729 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_730");'> Request_HR_LHEP_730 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_730' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b235-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115077&ClientObjectID=249000&Time=27.02.2017 12:43:22&Object={
"Код": "249000",
"Наименование": "Сектор элементарных частиц",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=249000;<br> Наименование=Сектор элементарных частиц<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=249000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787148");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_730)</span><div id='gateway/receive_3_podrazd1514306787148' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "249000",
"Наименование": "Сектор элементарных частиц",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=249000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=249000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор элементарных частиц', is_deleted=0, changed=now() where ID=249000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787155");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_730)</span><div id='gateway/jinr_setDivParents1514306787155' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=249000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=249000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор элементарных частиц' where id=249000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787155");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787148");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_730");'>Request_HR_LHEP_730 (gateway/receive) DONE! (130ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_731");'> Request_HR_LHEP_731 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_731' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9663a08e-5b9e-11e5-9445-0025907d24fa&GateObjectID=115068&ClientObjectID=312000&Time=27.02.2017 12:43:28&Object={
"Код": "312000",
"Наименование": "Научный отдел современной математической физики",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=312000;<br> Наименование=Научный отдел современной математической физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=312000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787291");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_731)</span><div id='gateway/receive_3_podrazd1514306787291' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "312000",
"Наименование": "Научный отдел современной математической физики",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=312000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=312000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Научный отдел современной математической физики', is_deleted=0, changed=now() where ID=312000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787297");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_731)</span><div id='gateway/jinr_setDivParents1514306787297' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=312000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=312000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел современной математической физики' where id=312000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787297");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787291");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_731");'>Request_HR_LHEP_731 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_732");'> Request_HR_LHEP_732 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_732' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f1-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115067&ClientObjectID=304000&Time=27.02.2017 12:43:29&Object={
"Код": "304000",
"Наименование": "Хозяйственный отдел",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=304000;<br> Наименование=Хозяйственный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=304000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787381");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_732)</span><div id='gateway/receive_3_podrazd1514306787381' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "304000",
"Наименование": "Хозяйственный отдел",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=304000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=304000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Хозяйственный отдел', is_deleted=0, changed=now() where ID=304000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787386");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_732)</span><div id='gateway/jinr_setDivParents1514306787386' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=304000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=304000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Хозяйственный отдел' where id=304000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787386");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787381");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_732");'>Request_HR_LHEP_732 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_733");'> Request_HR_LHEP_733 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_733' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b224-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115066&ClientObjectID=301000&Time=27.02.2017 12:43:30&Object={
"Код": "301000",
"Наименование": "Руководство",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=301000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=300000<BR>
 Код=301000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787481");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_733)</span><div id='gateway/receive_3_podrazd1514306787481' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "301000",
"Наименование": "Руководство",
"РодительКод": "300000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=301000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=301000
OLD_PID=300000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=300000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=300000, name='Руководство', is_deleted=0, changed=now() where ID=301000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787488");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_733)</span><div id='gateway/jinr_setDivParents1514306787488' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=301000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=300000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=300000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=301000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Руководство' where id=301000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787488");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787481");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_733");'>Request_HR_LHEP_733 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_734");'> Request_HR_LHEP_734 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_734' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb70-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115043&ClientObjectID=64000&Time=27.02.2017 12:43:44&Object={
"Код": "064000",
"Наименование": "Отдел гостиничного хозяйства",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=64000;<br> Наименование=Отдел гостиничного хозяйства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=060000<BR>
 Код=064000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787582");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_734)</span><div id='gateway/receive_3_podrazd1514306787582' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064000",
"Наименование": "Отдел гостиничного хозяйства",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64000
OLD_PID=60000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=060000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=060000, name='Отдел гостиничного хозяйства', is_deleted=0, changed=now() where ID=064000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787588");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_734)</span><div id='gateway/jinr_setDivParents1514306787588' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=60000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел гостиничного хозяйства' where id=64000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787588");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787582");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_734");'>Request_HR_LHEP_734 (gateway/receive) DONE! (85ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_735");'> Request_HR_LHEP_735 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_735' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b226-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115041&ClientObjectID=643000&Time=27.02.2017 12:43:45&Object={
"Код": "643000",
"Наименование": "Отдел производственно-технического и хозяйственного обслуживания",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=643000;<br> Наименование=Отдел производственно-технического и хозяйственного обслуживания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=643000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787672");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_735)</span><div id='gateway/receive_3_podrazd1514306787672' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "643000",
"Наименование": "Отдел производственно-технического и хозяйственного обслуживания",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=643000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=643000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Отдел производственно-технического и хозяйственного обслуживания', is_deleted=0, changed=now() where ID=643000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787679");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_735)</span><div id='gateway/jinr_setDivParents1514306787679' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=643000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=643000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ОТПХО' where id=643000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787679");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787672");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_735");'>Request_HR_LHEP_735 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_736");'> Request_HR_LHEP_736 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_736' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb59-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115042&ClientObjectID=62000&Time=27.02.2017 12:43:44&Object={
"Код": "062000",
"Наименование": "Отдел общественного питания и торговли",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=62000;<br> Наименование=Отдел общественного питания и торговли<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=060000<BR>
 Код=062000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787779");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_736)</span><div id='gateway/receive_3_podrazd1514306787779' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "062000",
"Наименование": "Отдел общественного питания и торговли",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=062000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=62000
OLD_PID=60000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=060000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=060000, name='Отдел общественного питания и торговли', is_deleted=0, changed=now() where ID=062000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787787");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_736)</span><div id='gateway/jinr_setDivParents1514306787787' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=62000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=60000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=62000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел общественного питания и торговли' where id=62000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787787");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787779");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_736");'>Request_HR_LHEP_736 (gateway/receive) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_737");'> Request_HR_LHEP_737 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_737' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b261-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115040&ClientObjectID=63000&Time=27.02.2017 12:43:45&Object={
"Код": "063000",
"Наименование": "Отдел бухгалтерского учета и экономического анализа",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=63000;<br> Наименование=Отдел бухгалтерского учета и экономического анализа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=060000<BR>
 Код=063000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787875");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_737)</span><div id='gateway/receive_3_podrazd1514306787875' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "063000",
"Наименование": "Отдел бухгалтерского учета и экономического анализа",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=063000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=63000
OLD_PID=60000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=060000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=060000, name='Отдел бухгалтерского учета и экономического анализа', is_deleted=0, changed=now() where ID=063000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787881");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_737)</span><div id='gateway/jinr_setDivParents1514306787881' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=63000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=60000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=63000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел бухгалтерского учета и экономического анализа' where id=63000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787881");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787875");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_737");'>Request_HR_LHEP_737 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_738");'> Request_HR_LHEP_738 [26.12 19:46:27] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_738' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f7-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115034&ClientObjectID=601000&Time=27.02.2017 12:43:49&Object={
"Код": "601000",
"Наименование": "Руководство",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=601000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=601000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787964");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_738)</span><div id='gateway/receive_3_podrazd1514306787964' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "601000",
"Наименование": "Руководство",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=601000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=601000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Руководство', is_deleted=0, changed=now() where ID=601000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787969");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_738)</span><div id='gateway/jinr_setDivParents1514306787969' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=601000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=601000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / Руководство' where id=601000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306787969");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306787964");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_738");'>Request_HR_LHEP_738 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_739");'> Request_HR_LHEP_739 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_739' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1fe-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115033&ClientObjectID=170000&Time=27.02.2017 12:43:50&Object={
"Код": "170000",
"Наименование": "Отделение №6 Главного инженера",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=170000;<br> Наименование=Отделение №6 Главного инженера<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=170000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788056");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_739)</span><div id='gateway/receive_3_podrazd1514306788056' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "170000",
"Наименование": "Отделение №6 Главного инженера",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=170000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=170000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Отделение №6 Главного инженера', is_deleted=0, changed=now() where ID=170000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788062");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_739)</span><div id='gateway/jinr_setDivParents1514306788062' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=170000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=170000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №6 Главного инженера' where id=170000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788062");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788056");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_739");'>Request_HR_LHEP_739 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_740");'> Request_HR_LHEP_740 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_740' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b216-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115032&ClientObjectID=613000&Time=27.02.2017 12:43:49&Object={
"Код": "613000",
"Наименование": "Инженерно-технологический отдел",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=613000;<br> Наименование=Инженерно-технологический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=613000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788153");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_740)</span><div id='gateway/receive_3_podrazd1514306788153' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "613000",
"Наименование": "Инженерно-технологический отдел",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=613000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=613000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Инженерно-технологический отдел', is_deleted=0, changed=now() where ID=613000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788159");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_740)</span><div id='gateway/jinr_setDivParents1514306788159' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=613000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=613000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / ИТО' where id=613000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788159");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788153");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_740");'>Request_HR_LHEP_740 (gateway/receive) DONE! (129ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_741");'> Request_HR_LHEP_741 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_741' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb6f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115030&ClientObjectID=101000&Time=27.02.2017 12:43:51&Object={
"Код": "101000",
"Наименование": "Руководство",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=101000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=101000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788323");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_741)</span><div id='gateway/receive_3_podrazd1514306788323' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "101000",
"Наименование": "Руководство",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=101000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=101000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Руководство', is_deleted=0, changed=now() where ID=101000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788329");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_741)</span><div id='gateway/jinr_setDivParents1514306788329' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=101000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=101000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Руководство' where id=101000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788329");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788323");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_741");'>Request_HR_LHEP_741 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_742");'> Request_HR_LHEP_742 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_742' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b205-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115044&ClientObjectID=65000&Time=27.02.2017 12:43:43&Object={
"Код": "065000",
"Наименование": "Дом отдыха \"Ратмино\"",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=65000;<br> Наименование=Дом отдыха "Ратмино"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=060000<BR>
 Код=065000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788421");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_742)</span><div id='gateway/receive_3_podrazd1514306788421' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "065000",
"Наименование": "Дом отдыха \"Ратмино\"",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=065000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=65000
OLD_PID=60000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=060000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=060000, name='Дом отдыха "Ратмино"', is_deleted=0, changed=now() where ID=065000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788427");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_742)</span><div id='gateway/jinr_setDivParents1514306788427' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=65000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=60000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=65000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Дом отдыха "Ратмино"  ' where id=65000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788427");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788421");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_742");'>Request_HR_LHEP_742 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_743");'> Request_HR_LHEP_743 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_743' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844822-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=115045&ClientObjectID=61000&Time=27.02.2017 12:43:42&Object={
"Код": "061000",
"Наименование": "Руководство",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=61000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=060000<BR>
 Код=061000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788508");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_743)</span><div id='gateway/receive_3_podrazd1514306788508' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "061000",
"Наименование": "Руководство",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=061000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=61000
OLD_PID=60000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=060000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=060000, name='Руководство', is_deleted=0, changed=now() where ID=061000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788514");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_743)</span><div id='gateway/jinr_setDivParents1514306788514' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=61000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=60000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=61000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Руководство' where id=61000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788514");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788508");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_743");'>Request_HR_LHEP_743 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_744");'> Request_HR_LHEP_744 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_744' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b269-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115057&ClientObjectID=504000&Time=27.02.2017 12:43:35&Object={
"Код": "504000",
"Наименование": "НЭХО",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=504000;<br> Наименование=НЭХО<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=504000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788597");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_744)</span><div id='gateway/receive_3_podrazd1514306788597' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "504000",
"Наименование": "НЭХО",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=504000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=504000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='НЭХО', is_deleted=0, changed=now() where ID=504000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788603");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_744)</span><div id='gateway/jinr_setDivParents1514306788603' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=504000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=504000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / НЭХО' where id=504000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788603");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788597");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_744");'>Request_HR_LHEP_744 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_745");'> Request_HR_LHEP_745 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_745' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b228-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115058&ClientObjectID=535000&Time=27.02.2017 12:43:34&Object={
"Код": "535000",
"Наименование": "Группа теоретической и вычислительной физики",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=535000;<br> Наименование=Группа теоретической и вычислительной физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=535000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788691");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_745)</span><div id='gateway/receive_3_podrazd1514306788691' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "535000",
"Наименование": "Группа теоретической и вычислительной физики",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=535000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=535000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Группа теоретической и вычислительной физики', is_deleted=0, changed=now() where ID=535000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788696");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_745)</span><div id='gateway/jinr_setDivParents1514306788696' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=535000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=535000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Группа теоретической и вычислительной физики' where id=535000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788696");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788691");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_745");'>Request_HR_LHEP_745 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_746");'> Request_HR_LHEP_746 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_746' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b22b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115059&ClientObjectID=526000&Time=27.02.2017 12:43:34&Object={
"Код": "526000",
"Наименование": "Сектор №6 структура легких экзотических ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=526000;<br> Наименование=Сектор №6 структура легких экзотических ядер<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=526000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788778");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_746)</span><div id='gateway/receive_3_podrazd1514306788778' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "526000",
"Наименование": "Сектор №6 структура легких экзотических ядер",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=526000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=526000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Сектор №6 структура легких экзотических ядер', is_deleted=0, changed=now() where ID=526000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788784");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_746)</span><div id='gateway/jinr_setDivParents1514306788784' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=526000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=526000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Сектор №6 структура легких экзотических ядер' where id=526000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788784");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788778");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_746");'>Request_HR_LHEP_746 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_747");'> Request_HR_LHEP_747 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_747' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b266-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115056&ClientObjectID=501000&Time=27.02.2017 12:43:36&Object={
"Код": "501000",
"Наименование": "Руководство",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=501000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=501000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788865");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_747)</span><div id='gateway/receive_3_podrazd1514306788865' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "501000",
"Наименование": "Руководство",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=501000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=501000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Руководство', is_deleted=0, changed=now() where ID=501000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788874");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_747)</span><div id='gateway/jinr_setDivParents1514306788874' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=501000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=501000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Руководство' where id=501000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788874");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788865");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_747");'>Request_HR_LHEP_747 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_748");'> Request_HR_LHEP_748 [26.12 19:46:28] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_748' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b24b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115061&ClientObjectID=530000&Time=27.02.2017 12:43:32&Object={
"Код": "530000",
"Наименование": "Служба главного инженера",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=530000;<br> Наименование=Служба главного инженера<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=530000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788957");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_748)</span><div id='gateway/receive_3_podrazd1514306788957' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "530000",
"Наименование": "Служба главного инженера",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=530000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=530000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Служба главного инженера', is_deleted=0, changed=now() where ID=530000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788962");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_748)</span><div id='gateway/jinr_setDivParents1514306788962' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=530000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=530000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Служба главного инженера' where id=530000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306788962");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306788957");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_748");'>Request_HR_LHEP_748 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_749");'> Request_HR_LHEP_749 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_749' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f4-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115051&ClientObjectID=550000&Time=27.02.2017 12:43:39&Object={
"Код": "550000",
"Наименование": "Технологический отдел системы электропитания и автоматизации физических установок",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=550000;<br> Наименование=Технологический отдел системы электропитания и автоматизации физических установок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=550000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789046");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_749)</span><div id='gateway/receive_3_podrazd1514306789046' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "550000",
"Наименование": "Технологический отдел системы электропитания и автоматизации физических установок",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=550000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Технологический отдел системы электропитания и автоматизации физических установок', is_deleted=0, changed=now() where ID=550000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789052");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_749)</span><div id='gateway/jinr_setDivParents1514306789052' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=550000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=550000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Технологический отдел системы электропитания и автоматизации физических установок' where id=550000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789052");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789046");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_749");'>Request_HR_LHEP_749 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_750");'> Request_HR_LHEP_750 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_750' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9254dfc6-51b6-11e3-9402-0025907d24fa&GateObjectID=115049&ClientObjectID=534000&Time=27.02.2017 12:43:40&Object={
"Код": "534000",
"Наименование": "Группа селективной лазерной ионизации и сепарации продуктов ядерных реакций (установка ГаЛС)",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=534000;<br> Наименование=Группа селективной лазерной ионизации и сепарации продуктов ядерных реакций (установка ГаЛС)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=500000<BR>
 Код=534000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789131");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_750)</span><div id='gateway/receive_3_podrazd1514306789131' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "534000",
"Наименование": "Группа селективной лазерной ионизации и сепарации продуктов ядерных реакций (установка ГаЛС)",
"РодительКод": "500000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=534000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=534000
OLD_PID=500000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=500000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=500000, name='Группа селективной лазерной ионизации и сепарации продуктов ядерных реакций (установка ГаЛС)', is_deleted=0, changed=now() where ID=534000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789137");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_750)</span><div id='gateway/jinr_setDivParents1514306789137' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=534000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=500000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=534000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР / Группа селективной лазерной ионизации и сепарации продуктов ядерных реакций (установка ГаЛС)' where id=534000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789137");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789131");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_750");'>Request_HR_LHEP_750 (gateway/receive) DONE! (123ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_751");'> Request_HR_LHEP_751 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_751' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f8-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115046&ClientObjectID=66000&Time=27.02.2017 12:43:42&Object={
"Код": "066000",
"Наименование": "Отдел главного инженера",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=66000;<br> Наименование=Отдел главного инженера<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=060000<BR>
 Код=066000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789267");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_751)</span><div id='gateway/receive_3_podrazd1514306789267' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "066000",
"Наименование": "Отдел главного инженера",
"РодительКод": "060000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=066000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=66000
OLD_PID=60000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=060000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=060000, name='Отдел главного инженера', is_deleted=0, changed=now() where ID=066000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789273");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_751)</span><div id='gateway/jinr_setDivParents1514306789273' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=66000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=60000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=66000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК / Отдел главного инженера' where id=66000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789273");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789267");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_751");'>Request_HR_LHEP_751 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_752");'> Request_HR_LHEP_752 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_752' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b26c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115025&ClientObjectID=110000&Time=27.02.2017 12:43:55&Object={
"Код": "110000",
"Наименование": "Отделение №1 Ускорительное",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=110000;<br> Наименование=Отделение №1 Ускорительное<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=110000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789358");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_752)</span><div id='gateway/receive_3_podrazd1514306789358' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "110000",
"Наименование": "Отделение №1 Ускорительное",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=110000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Отделение №1 Ускорительное', is_deleted=0, changed=now() where ID=110000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789364");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_752)</span><div id='gateway/jinr_setDivParents1514306789364' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=110000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=110000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №1 Ускорительное ' where id=110000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789364");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (7ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789358");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_752");'>Request_HR_LHEP_752 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_753");'> Request_HR_LHEP_753 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_753' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b271-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115026&ClientObjectID=130000&Time=27.02.2017 12:43:53&Object={
"Код": "130000",
"Наименование": "Отделение №3 Физики адронов",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=130000;<br> Наименование=Отделение №3 Физики адронов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=130000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789444");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_753)</span><div id='gateway/receive_3_podrazd1514306789444' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "130000",
"Наименование": "Отделение №3 Физики адронов",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=130000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=130000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Отделение №3 Физики адронов', is_deleted=0, changed=now() where ID=130000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789449");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_753)</span><div id='gateway/jinr_setDivParents1514306789449' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=130000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=130000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов' where id=130000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789449");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789444");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_753");'>Request_HR_LHEP_753 (gateway/receive) DONE! (97ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_754");'> Request_HR_LHEP_754 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_754' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b277-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115024&ClientObjectID=150000&Time=27.02.2017 12:43:55&Object={
"Код": "150000",
"Наименование": "Отделение №5 Научно–методических исследований и инноваций",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=150000;<br> Наименование=Отделение №5 Научно–методических исследований и инноваций<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=150000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789554");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_754)</span><div id='gateway/receive_3_podrazd1514306789554' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "150000",
"Наименование": "Отделение №5 Научно–методических исследований и инноваций",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=150000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=150000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Отделение №5 Научно–методических исследований и инноваций', is_deleted=0, changed=now() where ID=150000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789560");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_754)</span><div id='gateway/jinr_setDivParents1514306789560' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=150000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=150000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №5 Научно–методических исследований и инноваций' where id=150000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789560");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789554");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_754");'>Request_HR_LHEP_754 (gateway/receive) DONE! (189ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_755");'> Request_HR_LHEP_755 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_755' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b23b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115023&ClientObjectID=91000&Time=27.02.2017 12:43:56&Object={
"Код": "091000",
"Наименование": "Руководство",
"РодительКод": "090000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=91000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=090000<BR>
 Код=091000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789762");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_755)</span><div id='gateway/receive_3_podrazd1514306789762' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "091000",
"Наименование": "Руководство",
"РодительКод": "090000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=091000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=91000
OLD_PID=90000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=090000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=090000, name='Руководство', is_deleted=0, changed=now() where ID=091000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789769");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_755)</span><div id='gateway/jinr_setDivParents1514306789769' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=91000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=90000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=90000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=91000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Руководство' where id=91000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789769");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789762");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_755");'>Request_HR_LHEP_755 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_756");'> Request_HR_LHEP_756 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_756' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b263-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115022&ClientObjectID=102000&Time=27.02.2017 12:43:56&Object={
"Код": "102000",
"Наименование": "Группа советников и консультантов",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=102000;<br> Наименование=Группа советников и консультантов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=102000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789861");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_756)</span><div id='gateway/receive_3_podrazd1514306789861' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "102000",
"Наименование": "Группа советников и консультантов",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=102000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=102000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Группа советников и консультантов', is_deleted=0, changed=now() where ID=102000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789868");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_756)</span><div id='gateway/jinr_setDivParents1514306789868' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=102000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=102000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Группа советников и консультантов' where id=102000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789868");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789861");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_756");'>Request_HR_LHEP_756 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_757");'> Request_HR_LHEP_757 [26.12 19:46:29] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_757' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9c9f8d3d-5972-11e6-9463-0025907d24fa&GateObjectID=3216&ClientObjectID=195000&Time=27.02.2017 12:43:53&Object={
"Код": "195000",
"Наименование": "Планово-финансовое бюро",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=195000;<br> Наименование=Планово-финансовое бюро<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=195000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789950");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_757)</span><div id='gateway/receive_3_podrazd1514306789950' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "195000",
"Наименование": "Планово-финансовое бюро",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=195000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=195000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Планово-финансовое бюро', is_deleted=0, changed=now() where ID=195000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789955");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_757)</span><div id='gateway/jinr_setDivParents1514306789955' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=195000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=195000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Планово-финансовое бюро' where id=195000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306789955");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306789950");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_757");'>Request_HR_LHEP_757 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_758");'> Request_HR_LHEP_758 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_758' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b227-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115039&ClientObjectID=609000&Time=27.02.2017 12:43:46&Object={
"Код": "609000",
"Наименование": "Сектор ученого секретаря",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=609000;<br> Наименование=Сектор ученого секретаря<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=609000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790060");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_758)</span><div id='gateway/receive_3_podrazd1514306790060' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "609000",
"Наименование": "Сектор ученого секретаря",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=609000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=609000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Сектор ученого секретаря', is_deleted=0, changed=now() where ID=609000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790066");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_758)</span><div id='gateway/jinr_setDivParents1514306790066' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=609000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=609000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / Сектор ученого секретаря' where id=609000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790066");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790060");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_758");'>Request_HR_LHEP_758 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_759");'> Request_HR_LHEP_759 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_759' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b276-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115027&ClientObjectID=120000&Time=27.02.2017 12:43:54&Object={
"Код": "120000",
"Наименование": "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=120000;<br> Наименование=Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=120000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790152");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_759)</span><div id='gateway/receive_3_podrazd1514306790152' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "120000",
"Наименование": "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=120000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=120000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', is_deleted=0, changed=now() where ID=120000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790157");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_759)</span><div id='gateway/jinr_setDivParents1514306790157' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=120000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=120000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA' where id=120000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790157");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790152");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_759");'>Request_HR_LHEP_759 (gateway/receive) DONE! (107ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_760");'> Request_HR_LHEP_760 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_760' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=44f3da45-843c-11e4-942f-0025907d24fa&GateObjectID=115028&ClientObjectID=189000&Time=27.02.2017 12:43:52&Object={
"Код": "189000",
"Наименование": "Инженерный энерготехнологический отдел",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=189000;<br> Наименование=Инженерный энерготехнологический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=189000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790269");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_760)</span><div id='gateway/receive_3_podrazd1514306790269' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "189000",
"Наименование": "Инженерный энерготехнологический отдел",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=189000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=189000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Инженерный энерготехнологический отдел', is_deleted=0, changed=now() where ID=189000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790275");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_760)</span><div id='gateway/jinr_setDivParents1514306790275' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=189000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=189000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Инженерный энерготехнологический отдел' where id=189000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790275");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790269");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_760");'>Request_HR_LHEP_760 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_761");'> Request_HR_LHEP_761 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_761' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb5a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115038&ClientObjectID=608000&Time=27.02.2017 12:43:47&Object={
"Код": "608000",
"Наименование": "Научно-технический отдел программного и информационного обеспечения",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=608000;<br> Наименование=Научно-технический отдел программного и информационного обеспечения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=608000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790353");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_761)</span><div id='gateway/receive_3_podrazd1514306790353' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "608000",
"Наименование": "Научно-технический отдел программного и информационного обеспечения",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=608000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=608000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Научно-технический отдел программного и информационного обеспечения', is_deleted=0, changed=now() where ID=608000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790359");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_761)</span><div id='gateway/jinr_setDivParents1514306790359' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=608000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=608000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОПиИО' where id=608000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790359");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (7ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790353");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_761");'>Request_HR_LHEP_761 (gateway/receive) DONE! (71ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_762");'> Request_HR_LHEP_762 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_762' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f6-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115035&ClientObjectID=607000&Time=27.02.2017 12:43:48&Object={
"Код": "607000",
"Наименование": "Научный отдел вычислительной физики",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=607000;<br> Наименование=Научный отдел вычислительной физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=607000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790442");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_762)</span><div id='gateway/receive_3_podrazd1514306790442' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "607000",
"Наименование": "Научный отдел вычислительной физики",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=607000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Научный отдел вычислительной физики', is_deleted=0, changed=now() where ID=607000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790449");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_762)</span><div id='gateway/jinr_setDivParents1514306790449' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=607000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НОВФ' where id=607000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790449");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790442");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_762");'>Request_HR_LHEP_762 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_763");'> Request_HR_LHEP_763 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_763' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb64-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115036&ClientObjectID=602000&Time=27.02.2017 12:43:48&Object={
"Код": "602000",
"Наименование": "Научно-технический отдел внешних коммуникаций и распределенных информационных систем",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=602000;<br> Наименование=Научно-технический отдел внешних коммуникаций и распределенных информационных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=602000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790544");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_763)</span><div id='gateway/receive_3_podrazd1514306790544' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "602000",
"Наименование": "Научно-технический отдел внешних коммуникаций и распределенных информационных систем",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=602000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=602000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Научно-технический отдел внешних коммуникаций и распределенных информационных систем', is_deleted=0, changed=now() where ID=602000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790553");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_763)</span><div id='gateway/jinr_setDivParents1514306790553' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=602000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=602000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НТОВКиРИС' where id=602000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790553");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790544");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_763");'>Request_HR_LHEP_763 (gateway/receive) DONE! (122ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_764");'> Request_HR_LHEP_764 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_764' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b278-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115037&ClientObjectID=648000&Time=27.02.2017 12:43:47&Object={
"Код": "648000",
"Наименование": "Научный центр исследований и  разработок информационных систем",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=648000;<br> Наименование=Научный центр исследований и  разработок информационных систем<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=600000<BR>
 Код=648000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790678");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_764)</span><div id='gateway/receive_3_podrazd1514306790678' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "648000",
"Наименование": "Научный центр исследований и  разработок информационных систем",
"РодительКод": "600000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=648000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=648000
OLD_PID=600000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=600000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=600000, name='Научный центр исследований и  разработок информационных систем', is_deleted=0, changed=now() where ID=648000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790685");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_764)</span><div id='gateway/jinr_setDivParents1514306790685' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=648000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=600000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=600000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=648000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / Научный центр исследований и  разработок информационных систем' where id=648000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790685");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790678");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_764");'>Request_HR_LHEP_764 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_765");'> Request_HR_LHEP_765 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_765' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=c8457e40-0be7-11e4-941d-0025907d24fa&GateObjectID=115010&ClientObjectID=438000&Time=27.02.2017 12:44:03&Object={
"Код": "438000",
"Наименование": "Грант РФФИ проект №12-02-00003_а",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=438000;<br> Наименование=Грант РФФИ проект №12-02-00003_а<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=438000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790776");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_765)</span><div id='gateway/receive_3_podrazd1514306790776' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "438000",
"Наименование": "Грант РФФИ проект №12-02-00003_а",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=438000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=438000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Грант РФФИ проект №12-02-00003_а', is_deleted=0, changed=now() where ID=438000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790785");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_765)</span><div id='gateway/jinr_setDivParents1514306790785' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=438000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=438000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Грант РФФИ проект №12-02-00003_а' where id=438000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790785");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790776");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_765");'>Request_HR_LHEP_765 (gateway/receive) DONE! (173ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_766");'> Request_HR_LHEP_766 [26.12 19:46:30] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_766' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb6b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115002&ClientObjectID=821000&Time=27.02.2017 12:44:09&Object={
"Код": "821000",
"Наименование": "Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов",
"РодительКод": "801000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821000;<br> Наименование=Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=801000<BR>
 Код=821000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790964");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_766)</span><div id='gateway/receive_3_podrazd1514306790964' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821000",
"Наименование": "Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов",
"РодительКод": "801000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821000
OLD_PID=801000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=801000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=801000, name='Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов', is_deleted=0, changed=now() where ID=821000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790970");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_766)</span><div id='gateway/jinr_setDivParents1514306790970' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=801000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=801000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов' where id=821000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306790970");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306790964");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_766");'>Request_HR_LHEP_766 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_767");'> Request_HR_LHEP_767 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_767' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=48ba5989-a307-11e5-944d-0025907d24fa&GateObjectID=115004&ClientObjectID=825000&Time=27.02.2017 12:44:08&Object={
"Код": "825000",
"Наименование": "Группа новых разработок  в области нано- и ядерно-физических технологий",
"РодительКод": "801000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=825000;<br> Наименование=Группа новых разработок  в области нано- и ядерно-физических технологий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=801000<BR>
 Код=825000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791063");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_767)</span><div id='gateway/receive_3_podrazd1514306791063' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "825000",
"Наименование": "Группа новых разработок  в области нано- и ядерно-физических технологий",
"РодительКод": "801000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=825000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=825000
OLD_PID=801000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=801000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=801000, name='Группа новых разработок  в области нано- и ядерно-физических технологий', is_deleted=0, changed=now() where ID=825000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791069");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_767)</span><div id='gateway/jinr_setDivParents1514306791069' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=825000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=801000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=801000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=825000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Группа новых разработок  в области нано- и ядерно-физических технологий' where id=825000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791069");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791063");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_767");'>Request_HR_LHEP_767 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_768");'> Request_HR_LHEP_768 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_768' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b26f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115003&ClientObjectID=445000&Time=27.02.2017 12:44:08&Object={
"Код": "445000",
"Наименование": "Группа материально-технического снабжения",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=445000;<br> Наименование=Группа материально-технического снабжения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=445000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791152");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_768)</span><div id='gateway/receive_3_podrazd1514306791152' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "445000",
"Наименование": "Группа материально-технического снабжения",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=445000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=445000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Группа материально-технического снабжения', is_deleted=0, changed=now() where ID=445000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791158");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_768)</span><div id='gateway/jinr_setDivParents1514306791158' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=445000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=445000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Гр.МТС' where id=445000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791158");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791152");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_768");'>Request_HR_LHEP_768 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_769");'> Request_HR_LHEP_769 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_769' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=86ba777f-1377-11e2-ab6e-000e0ce597c9&GateObjectID=115001&ClientObjectID=999205&Time=27.02.2017 12:44:10&Object={
"Код": "999205",
"Наименование": "Технический отдел",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999205;<br> Наименование=Технический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=999205<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791247");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_769)</span><div id='gateway/receive_3_podrazd1514306791247' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999205",
"Наименование": "Технический отдел",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999205
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999205
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Технический отдел', is_deleted=0, changed=now() where ID=999205
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791253");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_769)</span><div id='gateway/jinr_setDivParents1514306791253' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999205
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999205
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Технический отдел' where id=999205
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791253");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (7ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791247");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_769");'>Request_HR_LHEP_769 (gateway/receive) DONE! (103ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_770");'> Request_HR_LHEP_770 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_770' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1fa-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115000&ClientObjectID=801823&Time=27.02.2017 12:44:10&Object={
"Код": "801823",
"Наименование": "Отдел административно-хозяйственного обеспечения проектных работ",
"РодительКод": "801000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=801823;<br> Наименование=Отдел административно-хозяйственного обеспечения проектных работ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=801000<BR>
 Код=801823<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791359");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_770)</span><div id='gateway/receive_3_podrazd1514306791359' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "801823",
"Наименование": "Отдел административно-хозяйственного обеспечения проектных работ",
"РодительКод": "801000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=801823
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=801823
OLD_PID=801000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=801000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=801000, name='Отдел административно-хозяйственного обеспечения проектных работ', is_deleted=0, changed=now() where ID=801823
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791365");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_770)</span><div id='gateway/jinr_setDivParents1514306791365' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=801823
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=801000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=801000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=801823
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Отдел административно-хозяйственного обеспечения проектных работ' where id=801823
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791365");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791359");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_770");'>Request_HR_LHEP_770 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_771");'> Request_HR_LHEP_771 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_771' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=240c44a7-7f4a-11e2-93f0-0025907d24fa&GateObjectID=115011&ClientObjectID=404000&Time=27.02.2017 12:44:04&Object={
"Код": "404000",
"Наименование": "Отделение нейтронных исследований и разработок в области конденсированных сред",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=404000;<br> Наименование=Отделение нейтронных исследований и разработок в области конденсированных сред<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=404000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791452");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_771)</span><div id='gateway/receive_3_podrazd1514306791452' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "404000",
"Наименование": "Отделение нейтронных исследований и разработок в области конденсированных сред",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=404000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=404000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Отделение нейтронных исследований и разработок в области конденсированных сред', is_deleted=0, changed=now() where ID=404000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791458");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_771)</span><div id='gateway/jinr_setDivParents1514306791458' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=404000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=404000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред' where id=404000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791458");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791452");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_771");'>Request_HR_LHEP_771 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_772");'> Request_HR_LHEP_772 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_772' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=03ae8413-4aee-11e4-9424-0025907d24fa&GateObjectID=115012&ClientObjectID=435000&Time=27.02.2017 12:44:03&Object={
"Код": "435000",
"Наименование": "Сектор Рамановской спектроскопии (Центр Нанобиофотоники)",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=435000;<br> Наименование=Сектор Рамановской спектроскопии (Центр Нанобиофотоники)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=435000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791546");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_772)</span><div id='gateway/receive_3_podrazd1514306791546' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "435000",
"Наименование": "Сектор Рамановской спектроскопии (Центр Нанобиофотоники)",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=435000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=435000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Сектор Рамановской спектроскопии (Центр Нанобиофотоники)', is_deleted=0, changed=now() where ID=435000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791552");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_772)</span><div id='gateway/jinr_setDivParents1514306791552' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=435000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=435000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Сектор Рамановской спектроскопии (Центр Нанобиофотоники)' where id=435000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791552");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791546");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_772");'>Request_HR_LHEP_772 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_773");'> Request_HR_LHEP_773 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_773' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb60-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115013&ClientObjectID=433000&Time=27.02.2017 12:44:02&Object={
"Код": "433000",
"Наименование": "Группа ученого секретаря",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=433000;<br> Наименование=Группа ученого секретаря<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=433000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791651");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_773)</span><div id='gateway/receive_3_podrazd1514306791651' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "433000",
"Наименование": "Группа ученого секретаря",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=433000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=433000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Группа ученого секретаря', is_deleted=0, changed=now() where ID=433000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791657");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_773)</span><div id='gateway/jinr_setDivParents1514306791657' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=433000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=433000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Группа ученого секретаря' where id=433000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791657");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791651");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_773");'>Request_HR_LHEP_773 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_774");'> Request_HR_LHEP_774 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_774' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60ef94ca-e2cd-11e1-9f24-7071bc4316b3&GateObjectID=115029&ClientObjectID=190000&Time=27.02.2017 12:43:52&Object={
"Код": "190000",
"Наименование": "Административно-хозяйственное подразделение",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=190000;<br> Наименование=Административно-хозяйственное подразделение<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=190000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791757");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_774)</span><div id='gateway/receive_3_podrazd1514306791757' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "190000",
"Наименование": "Административно-хозяйственное подразделение",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=190000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=190000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Административно-хозяйственное подразделение', is_deleted=0, changed=now() where ID=190000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791763");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_774)</span><div id='gateway/jinr_setDivParents1514306791763' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=190000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=190000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Административно-хозяйственное подразделение' where id=190000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791763");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791757");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_774");'>Request_HR_LHEP_774 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_775");'> Request_HR_LHEP_775 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_775' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ea276f25-e2d1-11e1-a86a-e0cb4eda5b7d&GateObjectID=115031&ClientObjectID=140000&Time=27.02.2017 12:43:51&Object={
"Код": "140000",
"Наименование": "Отделение №4 Физики на встречных пучках",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=140000;<br> Наименование=Отделение №4 Физики на встречных пучках<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=100000<BR>
 Код=140000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791851");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_775)</span><div id='gateway/receive_3_podrazd1514306791851' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "140000",
"Наименование": "Отделение №4 Физики на встречных пучках",
"РодительКод": "100000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=140000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=140000
OLD_PID=100000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=100000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=100000, name='Отделение №4 Физики на встречных пучках', is_deleted=0, changed=now() where ID=140000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791857");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_775)</span><div id='gateway/jinr_setDivParents1514306791857' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=140000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=100000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=140000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №4 Физики на встречных пучках' where id=140000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791857");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791851");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_775");'>Request_HR_LHEP_775 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_776");'> Request_HR_LHEP_776 [26.12 19:46:31] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_776' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b201-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115018&ClientObjectID=401000&Time=27.02.2017 12:43:59&Object={
"Код": "401000",
"Наименование": "Руководство",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=401000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=401000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791943");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_776)</span><div id='gateway/receive_3_podrazd1514306791943' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "401000",
"Наименование": "Руководство",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=401000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=401000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Руководство', is_deleted=0, changed=now() where ID=401000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791949");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_776)</span><div id='gateway/jinr_setDivParents1514306791949' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=401000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=401000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Руководство' where id=401000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306791949");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306791943");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_776");'>Request_HR_LHEP_776 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_777");'> Request_HR_LHEP_777 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_777' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b207-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115017&ClientObjectID=92000&Time=27.02.2017 12:43:59&Object={
"Код": "092000",
"Наименование": "Отдел радиационных исследований",
"РодительКод": "090000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=92000;<br> Наименование=Отдел радиационных исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=090000<BR>
 Код=092000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792025");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_777)</span><div id='gateway/receive_3_podrazd1514306792025' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "092000",
"Наименование": "Отдел радиационных исследований",
"РодительКод": "090000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=092000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=92000
OLD_PID=90000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=090000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=090000, name='Отдел радиационных исследований', is_deleted=0, changed=now() where ID=092000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792031");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_777)</span><div id='gateway/jinr_setDivParents1514306792031' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=92000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=90000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=90000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=92000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛРБ / Отдел радиационных исследований' where id=92000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792031");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792025");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_777");'>Request_HR_LHEP_777 (gateway/receive) DONE! (144ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_778");'> Request_HR_LHEP_778 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_778' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b214-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115016&ClientObjectID=441000&Time=27.02.2017 12:44:00&Object={
"Код": "441000",
"Наименование": "Конструкторское бюро",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=441000;<br> Наименование=Конструкторское бюро<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=441000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792187");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_778)</span><div id='gateway/receive_3_podrazd1514306792187' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "441000",
"Наименование": "Конструкторское бюро",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=441000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=441000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Конструкторское бюро', is_deleted=0, changed=now() where ID=441000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792194");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_778)</span><div id='gateway/jinr_setDivParents1514306792194' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=441000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=441000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Конструкторское бюро' where id=441000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792194");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792187");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_778");'>Request_HR_LHEP_778 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_779");'> Request_HR_LHEP_779 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_779' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b219-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115015&ClientObjectID=407000&Time=27.02.2017 12:44:00&Object={
"Код": "407000",
"Наименование": "Установка ИБР-2",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=407000;<br> Наименование=Установка ИБР-2<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=407000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792282");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_779)</span><div id='gateway/receive_3_podrazd1514306792282' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "407000",
"Наименование": "Установка ИБР-2",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=407000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=407000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Установка ИБР-2', is_deleted=0, changed=now() where ID=407000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792289");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_779)</span><div id='gateway/jinr_setDivParents1514306792289' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=407000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=407000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Установка ИБР-2' where id=407000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792289");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792282");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_779");'>Request_HR_LHEP_779 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_780");'> Request_HR_LHEP_780 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_780' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb66-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115014&ClientObjectID=442000&Time=27.02.2017 12:44:01&Object={
"Код": "442000",
"Наименование": "Цех опытно-экспериментального производства",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=442000;<br> Наименование=Цех опытно-экспериментального производства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=442000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792375");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_780)</span><div id='gateway/receive_3_podrazd1514306792375' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "442000",
"Наименование": "Цех опытно-экспериментального производства",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=442000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=442000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Цех опытно-экспериментального производства', is_deleted=0, changed=now() where ID=442000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792382");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_780)</span><div id='gateway/jinr_setDivParents1514306792382' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=442000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=442000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Цех опытно-экспериментального производства' where id=442000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792382");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792375");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_780");'>Request_HR_LHEP_780 (gateway/receive) DONE! (109ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_781");'> Request_HR_LHEP_781 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_781' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf08-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114983&ClientObjectID=827001&Time=27.02.2017 12:44:20&Object={
"Код": "827001",
"Наименование": "Группа №1 электрофизическая",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827001;<br> Наименование=Группа №1 электрофизическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=827000<BR>
 Код=827001<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792514");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_781)</span><div id='gateway/receive_3_podrazd1514306792514' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827001",
"Наименование": "Группа №1 электрофизическая",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827001
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827001
OLD_PID=827000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=827000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=827000, name='Группа №1 электрофизическая', is_deleted=0, changed=now() where ID=827001
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792520");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_781)</span><div id='gateway/jinr_setDivParents1514306792520' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827001
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=827000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827001
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП / Группа №1 электрофизическая' where id=827001
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792520");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792514");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_781");'>Request_HR_LHEP_781 (gateway/receive) DONE! (143ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_782");'> Request_HR_LHEP_782 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_782' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084481d-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114994&ClientObjectID=966000&Time=27.02.2017 12:44:14&Object={
"Код": "966000",
"Наименование": "Финансово-экономическая группа",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=966000;<br> Наименование=Финансово-экономическая группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=966000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792679");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_782)</span><div id='gateway/receive_3_podrazd1514306792679' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "966000",
"Наименование": "Финансово-экономическая группа",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=966000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=966000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Финансово-экономическая группа', is_deleted=0, changed=now() where ID=966000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792685");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_782)</span><div id='gateway/jinr_setDivParents1514306792685' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=966000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=966000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Финансово-экономическая группа ' where id=966000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792685");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792679");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_782");'>Request_HR_LHEP_782 (gateway/receive) DONE! (65ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_783");'> Request_HR_LHEP_783 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_783' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084481f-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114993&ClientObjectID=968000&Time=27.02.2017 12:44:15&Object={
"Код": "968000",
"Наименование": "Хозяйственное обслуживание",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=968000;<br> Наименование=Хозяйственное обслуживание<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=968000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792755");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_783)</span><div id='gateway/receive_3_podrazd1514306792755' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "968000",
"Наименование": "Хозяйственное обслуживание",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=968000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=968000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Хозяйственное обслуживание', is_deleted=0, changed=now() where ID=968000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792762");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_783)</span><div id='gateway/jinr_setDivParents1514306792762' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=968000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=968000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Хозяйственное обслуживание' where id=968000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792762");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792755");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_783");'>Request_HR_LHEP_783 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_784");'> Request_HR_LHEP_784 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_784' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf0b-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114980&ClientObjectID=827005&Time=27.02.2017 12:44:22&Object={
"Код": "827005",
"Наименование": "Группа №5 пучков",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827005;<br> Наименование=Группа №5 пучков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=827000<BR>
 Код=827005<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792858");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_784)</span><div id='gateway/receive_3_podrazd1514306792858' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827005",
"Наименование": "Группа №5 пучков",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827005
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827005
OLD_PID=827000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=827000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=827000, name='Группа №5 пучков', is_deleted=0, changed=now() where ID=827005
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792864");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_784)</span><div id='gateway/jinr_setDivParents1514306792864' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827005
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=827000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827005
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП / Группа №5 пучков ' where id=827005
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792864");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792858");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_784");'>Request_HR_LHEP_784 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_785");'> Request_HR_LHEP_785 [26.12 19:46:32] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_785' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084481e-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114992&ClientObjectID=967000&Time=27.02.2017 12:44:14&Object={
"Код": "967000",
"Наименование": "Материально-техническое снабжение",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=967000;<br> Наименование=Материально-техническое снабжение<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=967000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792948");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_785)</span><div id='gateway/receive_3_podrazd1514306792948' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "967000",
"Наименование": "Материально-техническое снабжение",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=967000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=967000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Материально-техническое снабжение', is_deleted=0, changed=now() where ID=967000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792953");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_785)</span><div id='gateway/jinr_setDivParents1514306792953' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=967000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=967000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / МТС' where id=967000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306792953");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306792948");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_785");'>Request_HR_LHEP_785 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_786");'> Request_HR_LHEP_786 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_786' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf0a-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114982&ClientObjectID=827003&Time=27.02.2017 12:44:21&Object={
"Код": "827003",
"Наименование": "Группа №3 радиотехническая",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827003;<br> Наименование=Группа №3 радиотехническая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=827000<BR>
 Код=827003<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793037");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_786)</span><div id='gateway/receive_3_podrazd1514306793037' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827003",
"Наименование": "Группа №3 радиотехническая",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827003
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827003
OLD_PID=827000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=827000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=827000, name='Группа №3 радиотехническая', is_deleted=0, changed=now() where ID=827003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793042");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_786)</span><div id='gateway/jinr_setDivParents1514306793042' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827003
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=827000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827003
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП / Группа №3 радиотехническая ' where id=827003
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793042");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793037");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_786");'>Request_HR_LHEP_786 (gateway/receive) DONE! (123ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_787");'> Request_HR_LHEP_787 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_787' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844820-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114990&ClientObjectID=969000&Time=27.02.2017 12:44:16&Object={
"Код": "969000",
"Наименование": "Группа по эксплуатации и содержанию железнодорожных путей",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=969000;<br> Наименование=Группа по эксплуатации и содержанию железнодорожных путей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=969000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793179");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_787)</span><div id='gateway/receive_3_podrazd1514306793179' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "969000",
"Наименование": "Группа по эксплуатации и содержанию железнодорожных путей",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=969000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=969000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Группа по эксплуатации и содержанию железнодорожных путей', is_deleted=0, changed=now() where ID=969000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793185");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_787)</span><div id='gateway/jinr_setDivParents1514306793185' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=969000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=969000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Группа по эксплуатации и содержанию железнодорожных путей ' where id=969000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793185");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793179");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_787");'>Request_HR_LHEP_787 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_788");'> Request_HR_LHEP_788 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_788' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084481b-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114995&ClientObjectID=964000&Time=27.02.2017 12:44:13&Object={
"Код": "964000",
"Наименование": "Ремонтная мастерская",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=964000;<br> Наименование=Ремонтная мастерская<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=964000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793275");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_788)</span><div id='gateway/receive_3_podrazd1514306793275' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "964000",
"Наименование": "Ремонтная мастерская",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=964000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=964000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Ремонтная мастерская', is_deleted=0, changed=now() where ID=964000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793281");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_788)</span><div id='gateway/jinr_setDivParents1514306793281' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=964000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=964000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Ремонтная мастерская' where id=964000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793281");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793275");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_788");'>Request_HR_LHEP_788 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_789");'> Request_HR_LHEP_789 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_789' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084481c-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114996&ClientObjectID=965000&Time=27.02.2017 12:44:13&Object={
"Код": "965000",
"Наименование": "Служба безопасности движения, охраны труда и техники безопасности",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=965000;<br> Наименование=Служба безопасности движения, охраны труда и техники безопасности<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=965000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793363");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_789)</span><div id='gateway/receive_3_podrazd1514306793363' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "965000",
"Наименование": "Служба безопасности движения, охраны труда и техники безопасности",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=965000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=965000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Служба безопасности движения, охраны труда и техники безопасности', is_deleted=0, changed=now() where ID=965000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793369");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_789)</span><div id='gateway/jinr_setDivParents1514306793369' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=965000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=965000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Служба безопасности движения, охраны труда и техники безопасности' where id=965000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793369");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793363");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_789");'>Request_HR_LHEP_789 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_790");'> Request_HR_LHEP_790 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_790' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844819-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114997&ClientObjectID=962000&Time=27.02.2017 12:44:12&Object={
"Код": "962000",
"Наименование": "Отдел эксплуатации",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=962000;<br> Наименование=Отдел эксплуатации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=962000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793457");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_790)</span><div id='gateway/receive_3_podrazd1514306793457' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "962000",
"Наименование": "Отдел эксплуатации",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=962000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=962000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Отдел эксплуатации', is_deleted=0, changed=now() where ID=962000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793463");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_790)</span><div id='gateway/jinr_setDivParents1514306793463' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=962000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=962000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Отдел эксплуатации' where id=962000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793463");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793457");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_790");'>Request_HR_LHEP_790 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_791");'> Request_HR_LHEP_791 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_791' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b267-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115006&ClientObjectID=437000&Time=27.02.2017 12:44:07&Object={
"Код": "437000",
"Наименование": "Группа №1 ядерной безопасности",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=437000;<br> Наименование=Группа №1 ядерной безопасности<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=437000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793570");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_791)</span><div id='gateway/receive_3_podrazd1514306793570' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "437000",
"Наименование": "Группа №1 ядерной безопасности",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=437000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=437000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Группа №1 ядерной безопасности', is_deleted=0, changed=now() where ID=437000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793576");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_791)</span><div id='gateway/jinr_setDivParents1514306793576' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=437000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=437000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Группа №1 ядерной безопасности' where id=437000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793576");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793570");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_791");'>Request_HR_LHEP_791 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_792");'> Request_HR_LHEP_792 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_792' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b238-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115008&ClientObjectID=410000&Time=27.02.2017 12:44:05&Object={
"Код": "410000",
"Наименование": "Отделение ядерной физики",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=410000;<br> Наименование=Отделение ядерной физики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=410000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793656");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_792)</span><div id='gateway/receive_3_podrazd1514306793656' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "410000",
"Наименование": "Отделение ядерной физики",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=410000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=410000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Отделение ядерной физики', is_deleted=0, changed=now() where ID=410000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793663");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_792)</span><div id='gateway/jinr_setDivParents1514306793663' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=410000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=410000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики' where id=410000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793663");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793656");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_792");'>Request_HR_LHEP_792 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_793");'> Request_HR_LHEP_793 [26.12 19:46:33] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_793' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b248-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115005&ClientObjectID=443000&Time=27.02.2017 12:44:07&Object={
"Код": "443000",
"Наименование": "Отдел обслуживания",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=443000;<br> Наименование=Отдел обслуживания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=443000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793943");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_793)</span><div id='gateway/receive_3_podrazd1514306793943' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "443000",
"Наименование": "Отдел обслуживания",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=443000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=443000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Отдел обслуживания', is_deleted=0, changed=now() where ID=443000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793949");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_793)</span><div id='gateway/jinr_setDivParents1514306793949' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=443000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=443000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отдел обслуживания' where id=443000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306793949");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306793943");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_793");'>Request_HR_LHEP_793 (gateway/receive) DONE! (289ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_794");'> Request_HR_LHEP_794 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_794' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b225-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115009&ClientObjectID=409000&Time=27.02.2017 12:44:05&Object={
"Код": "409000",
"Наименование": "Механико-технологический отдел",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=409000;<br> Наименование=Механико-технологический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=409000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794041");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_794)</span><div id='gateway/receive_3_podrazd1514306794041' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "409000",
"Наименование": "Механико-технологический отдел",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=409000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=409000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Механико-технологический отдел', is_deleted=0, changed=now() where ID=409000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794047");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_794)</span><div id='gateway/jinr_setDivParents1514306794047' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=409000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=409000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Механико-технологический отдел' where id=409000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794047");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794041");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_794");'>Request_HR_LHEP_794 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_795");'> Request_HR_LHEP_795 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_795' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b25f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=115007&ClientObjectID=440000&Time=27.02.2017 12:44:06&Object={
"Код": "440000",
"Наименование": "Электротехнологический отдел",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=440000;<br> Наименование=Электротехнологический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=440000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794134");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_795)</span><div id='gateway/receive_3_podrazd1514306794134' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "440000",
"Наименование": "Электротехнологический отдел",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=440000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=440000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Электротехнологический отдел', is_deleted=0, changed=now() where ID=440000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794140");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_795)</span><div id='gateway/jinr_setDivParents1514306794140' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=440000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=440000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Электротехнологический отдел' where id=440000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794140");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794134");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_795");'>Request_HR_LHEP_795 (gateway/receive) DONE! (106ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_796");'> Request_HR_LHEP_796 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_796' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844818-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114999&ClientObjectID=961000&Time=27.02.2017 12:44:11&Object={
"Код": "961000",
"Наименование": "Руководство",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=961000;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=961000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794257");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_796)</span><div id='gateway/receive_3_podrazd1514306794257' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "961000",
"Наименование": "Руководство",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=961000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=961000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Руководство', is_deleted=0, changed=now() where ID=961000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794263");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_796)</span><div id='gateway/jinr_setDivParents1514306794263' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=961000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=961000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Руководство' where id=961000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794263");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794257");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_796");'>Request_HR_LHEP_796 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_797");'> Request_HR_LHEP_797 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_797' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6084481a-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114998&ClientObjectID=963000&Time=27.02.2017 12:44:12&Object={
"Код": "963000",
"Наименование": "Отдел технического контроля",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=963000;<br> Наименование=Отдел технического контроля<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=960000<BR>
 Код=963000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794353");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_797)</span><div id='gateway/receive_3_podrazd1514306794353' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "963000",
"Наименование": "Отдел технического контроля",
"РодительКод": "960000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=963000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=963000
OLD_PID=960000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=960000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=960000, name='Отдел технического контроля', is_deleted=0, changed=now() where ID=963000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794360");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_797)</span><div id='gateway/jinr_setDivParents1514306794360' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=963000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=960000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=960000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=963000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='АТХ / Отдел технического контроля' where id=963000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794360");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794353");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_797");'>Request_HR_LHEP_797 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_798");'> Request_HR_LHEP_798 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_798' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70fc-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114977&ClientObjectID=6030&Time=27.02.2017 12:44:24&Object={
"Код": "006030",
"Наименование": "Группа по расчетам с поставщиками,  подрядчиками  и другими организациями",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6030;<br> Наименование=Группа по расчетам с поставщиками,  подрядчиками  и другими организациями<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=006000<BR>
 Код=006030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794454");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_798)</span><div id='gateway/receive_3_podrazd1514306794454' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006030",
"Наименование": "Группа по расчетам с поставщиками,  подрядчиками  и другими организациями",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6030
OLD_PID=6000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=006000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=006000, name='Группа по расчетам с поставщиками,  подрядчиками  и другими организациями', is_deleted=0, changed=now() where ID=006030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794465");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_798)</span><div id='gateway/jinr_setDivParents1514306794465' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=6000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия / Группа по расчетам с поставщиками,  подрядчиками  и другими организациями' where id=6030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794465");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794454");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_798");'>Request_HR_LHEP_798 (gateway/receive) DONE! (114ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_799");'> Request_HR_LHEP_799 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_799' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70fe-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114976&ClientObjectID=6050&Time=27.02.2017 12:44:25&Object={
"Код": "006050",
"Наименование": "Группа банковских и финансовых операций",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6050;<br> Наименование=Группа банковских и финансовых операций<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=006000<BR>
 Код=006050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794591");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_799)</span><div id='gateway/receive_3_podrazd1514306794591' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006050",
"Наименование": "Группа банковских и финансовых операций",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6050
OLD_PID=6000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=006000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=006000, name='Группа банковских и финансовых операций', is_deleted=0, changed=now() where ID=006050
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794600");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_799)</span><div id='gateway/jinr_setDivParents1514306794600' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=6000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия / Группа банковских и финансовых операций' where id=6050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794600");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794591");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (22ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_799");'>Request_HR_LHEP_799 (gateway/receive) DONE! (190ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_800");'> Request_HR_LHEP_800 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_800' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70fd-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114975&ClientObjectID=6040&Time=27.02.2017 12:44:24&Object={
"Код": "006040",
"Наименование": "Группа НИР и сводного баланса",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6040;<br> Наименование=Группа НИР и сводного баланса<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=006000<BR>
 Код=006040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794802");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_800)</span><div id='gateway/receive_3_podrazd1514306794802' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006040",
"Наименование": "Группа НИР и сводного баланса",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6040
OLD_PID=6000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=006000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=006000, name='Группа НИР и сводного баланса', is_deleted=0, changed=now() where ID=006040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794811");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_800)</span><div id='gateway/jinr_setDivParents1514306794811' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=6000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия / Группа НИР и сводного баланса' where id=6040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794811");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794802");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_800");'>Request_HR_LHEP_800 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_801");'> Request_HR_LHEP_801 [26.12 19:46:34] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_801' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b218-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114974&ClientObjectID=88000&Time=27.02.2017 12:44:27&Object={
"Код": "088000",
"Наименование": "Отдел кадров",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=88000;<br> Наименование=Отдел кадров<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=080000<BR>
 Код=088000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794923");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_801)</span><div id='gateway/receive_3_podrazd1514306794923' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "088000",
"Наименование": "Отдел кадров",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=088000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=88000
OLD_PID=80000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=080000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=080000, name='Отдел кадров', is_deleted=0, changed=now() where ID=088000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794929");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_801)</span><div id='gateway/jinr_setDivParents1514306794929' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=88000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=80000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=88000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР / Отдел кадров ' where id=88000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306794929");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306794923");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_801");'>Request_HR_LHEP_801 (gateway/receive) DONE! (104ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_802");'> Request_HR_LHEP_802 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_802' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=92b464c7-646e-11e2-b3f2-000e0ce597c9&GateObjectID=114973&ClientObjectID=999222&Time=27.02.2017 12:44:27&Object={
"Код": "999222",
"Наименование": "Руководство",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999222;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=080000<BR>
 Код=999222<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795036");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_802)</span><div id='gateway/receive_3_podrazd1514306795036' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999222",
"Наименование": "Руководство",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999222
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999222
OLD_PID=80000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=080000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=080000, name='Руководство', is_deleted=0, changed=now() where ID=999222
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795044");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_802)</span><div id='gateway/jinr_setDivParents1514306795044' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999222
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=80000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999222
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР / Руководство' where id=999222
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795044");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795036");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (21ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_802");'>Request_HR_LHEP_802 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_803");'> Request_HR_LHEP_803 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_803' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b215-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114972&ClientObjectID=85000&Time=27.02.2017 12:44:28&Object={
"Код": "085000",
"Наименование": "Отдел организации труда и заработной платы",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=85000;<br> Наименование=Отдел организации труда и заработной платы<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=080000<BR>
 Код=085000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795133");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_803)</span><div id='gateway/receive_3_podrazd1514306795133' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "085000",
"Наименование": "Отдел организации труда и заработной платы",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=085000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=85000
OLD_PID=80000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=080000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=080000, name='Отдел организации труда и заработной платы', is_deleted=0, changed=now() where ID=085000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795139");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_803)</span><div id='gateway/jinr_setDivParents1514306795139' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=85000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=80000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=85000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР / Отдел организации труда и заработной платы ' where id=85000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795139");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795133");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_803");'>Request_HR_LHEP_803 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_804");'> Request_HR_LHEP_804 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_804' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=eefb37f1-05dd-11e5-943b-0025907d24fa&GateObjectID=114963&ClientObjectID=980060&Time=27.02.2017 12:44:35&Object={
"Код": "980060",
"Наименование": "Группа №2 эксплуатации линейно-кабельных сооружений, устройств радио и электропитания",
"РодительКод": "980000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=980060;<br> Наименование=Группа №2 эксплуатации линейно-кабельных сооружений, устройств радио и электропитания<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=980000<BR>
 Код=980060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795229");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_804)</span><div id='gateway/receive_3_podrazd1514306795229' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "980060",
"Наименование": "Группа №2 эксплуатации линейно-кабельных сооружений, устройств радио и электропитания",
"РодительКод": "980000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=980060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=980060
OLD_PID=980000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=980000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=980000, name='Группа №2 эксплуатации линейно-кабельных сооружений, устройств радио и электропитания', is_deleted=0, changed=now() where ID=980060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795235");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_804)</span><div id='gateway/jinr_setDivParents1514306795235' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=980060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=980000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=980000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=980060
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УТС / Группа №2 эксплуатации линейно - кабельных сооружений, устройств радио и электропитания' where id=980060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795235");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795229");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_804");'>Request_HR_LHEP_804 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_805");'> Request_HR_LHEP_805 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_805' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=7bc51ec7-6554-11e2-b3f2-000e0ce597c9&GateObjectID=114962&ClientObjectID=12060&Time=27.02.2017 12:44:35&Object={
"Код": "012060",
"Наименование": "Центральный пункт управления",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12060;<br> Наименование=Центральный пункт управления<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795319");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_805)</span><div id='gateway/receive_3_podrazd1514306795319' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012060",
"Наименование": "Центральный пункт управления",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12060
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Центральный пункт управления', is_deleted=0, changed=now() where ID=012060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795325");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_805)</span><div id='gateway/jinr_setDivParents1514306795325' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12060
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Центральный пункт управления' where id=12060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795325");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795319");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_805");'>Request_HR_LHEP_805 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_806");'> Request_HR_LHEP_806 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_806' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf0d-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114978&ClientObjectID=827008&Time=27.02.2017 12:44:23&Object={
"Код": "827008",
"Наименование": "Группа №8 молекулярной и радиационной генетики",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827008;<br> Наименование=Группа №8 молекулярной и радиационной генетики<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=827000<BR>
 Код=827008<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795409");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_806)</span><div id='gateway/receive_3_podrazd1514306795409' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827008",
"Наименование": "Группа №8 молекулярной и радиационной генетики",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827008
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827008
OLD_PID=827000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=827000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=827000, name='Группа №8 молекулярной и радиационной генетики', is_deleted=0, changed=now() where ID=827008
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795415");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_806)</span><div id='gateway/jinr_setDivParents1514306795415' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827008
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=827000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827008
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП / Группа №8 молекулярной и радиационной генетики' where id=827008
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795415");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795409");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_806");'>Request_HR_LHEP_806 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_807");'> Request_HR_LHEP_807 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_807' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70fb-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114979&ClientObjectID=6020&Time=27.02.2017 12:44:23&Object={
"Код": "006020",
"Наименование": "Расчетная группа по заработной плате",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6020;<br> Наименование=Расчетная группа по заработной плате<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=006000<BR>
 Код=006020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795525");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_807)</span><div id='gateway/receive_3_podrazd1514306795525' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006020",
"Наименование": "Расчетная группа по заработной плате",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6020
OLD_PID=6000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=006000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=006000, name='Расчетная группа по заработной плате', is_deleted=0, changed=now() where ID=006020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795531");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_807)</span><div id='gateway/jinr_setDivParents1514306795531' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=6000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия / Расчетная группа по заработной плате' where id=6020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795531");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795525");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_807");'>Request_HR_LHEP_807 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_808");'> Request_HR_LHEP_808 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_808' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b217-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114989&ClientObjectID=954000&Time=27.02.2017 12:44:17&Object={
"Код": "954000",
"Наименование": "Азотный цех",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=954000;<br> Наименование=Азотный цех<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=950000<BR>
 Код=954000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795608");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_808)</span><div id='gateway/receive_3_podrazd1514306795608' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "954000",
"Наименование": "Азотный цех",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=954000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=954000
OLD_PID=950000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=950000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=950000, name='Азотный цех', is_deleted=0, changed=now() where ID=954000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795615");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_808)</span><div id='gateway/jinr_setDivParents1514306795615' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=954000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=950000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=954000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Азотный цех' where id=954000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795615");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795608");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_808");'>Request_HR_LHEP_808 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_809");'> Request_HR_LHEP_809 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_809' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b21a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114991&ClientObjectID=953000&Time=27.02.2017 12:44:16&Object={
"Код": "953000",
"Наименование": "Электроцех",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=953000;<br> Наименование=Электроцех<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=950000<BR>
 Код=953000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795705");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_809)</span><div id='gateway/receive_3_podrazd1514306795705' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "953000",
"Наименование": "Электроцех",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=953000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=953000
OLD_PID=950000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=950000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=950000, name='Электроцех', is_deleted=0, changed=now() where ID=953000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795710");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_809)</span><div id='gateway/jinr_setDivParents1514306795710' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=953000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=950000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=953000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Электроцех' where id=953000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795710");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795705");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_809");'>Request_HR_LHEP_809 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_810");'> Request_HR_LHEP_810 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_810' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb6c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114988&ClientObjectID=955000&Time=27.02.2017 12:44:17&Object={
"Код": "955000",
"Наименование": "Котельный цех",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=955000;<br> Наименование=Котельный цех<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=950000<BR>
 Код=955000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795799");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_810)</span><div id='gateway/receive_3_podrazd1514306795799' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "955000",
"Наименование": "Котельный цех",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=955000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=955000
OLD_PID=950000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=950000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=950000, name='Котельный цех', is_deleted=0, changed=now() where ID=955000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795805");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_810)</span><div id='gateway/jinr_setDivParents1514306795805' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=955000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=950000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=955000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Котельный цех' where id=955000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795805");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795799");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_810");'>Request_HR_LHEP_810 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_811");'> Request_HR_LHEP_811 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_811' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f2-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114987&ClientObjectID=956000&Time=27.02.2017 12:44:18&Object={
"Код": "956000",
"Наименование": "Ремонтно-монтажный участок",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=956000;<br> Наименование=Ремонтно-монтажный участок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=950000<BR>
 Код=956000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795884");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_811)</span><div id='gateway/receive_3_podrazd1514306795884' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "956000",
"Наименование": "Ремонтно-монтажный участок",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=956000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=956000
OLD_PID=950000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=950000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=950000, name='Ремонтно-монтажный участок', is_deleted=0, changed=now() where ID=956000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795889");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_811)</span><div id='gateway/jinr_setDivParents1514306795889' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=956000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=950000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=956000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Ремонтно-монтажный участок' where id=956000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795889");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795884");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_811");'>Request_HR_LHEP_811 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_812");'> Request_HR_LHEP_812 [26.12 19:46:35] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_812' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b262-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114986&ClientObjectID=951000&Time=27.02.2017 12:44:19&Object={
"Код": "951000",
"Наименование": "Управление",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=951000;<br> Наименование=Управление<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=950000<BR>
 Код=951000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795968");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_812)</span><div id='gateway/receive_3_podrazd1514306795968' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "951000",
"Наименование": "Управление",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=951000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=951000
OLD_PID=950000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=950000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=950000, name='Управление', is_deleted=0, changed=now() where ID=951000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795974");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_812)</span><div id='gateway/jinr_setDivParents1514306795974' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=951000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=950000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=951000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Управление' where id=951000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306795974");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306795968");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_812");'>Request_HR_LHEP_812 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_813");'> Request_HR_LHEP_813 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_813' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1f3-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114985&ClientObjectID=952000&Time=27.02.2017 12:44:19&Object={
"Код": "952000",
"Наименование": "Цех эксплуатации коммуникаций водоснабжения",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=952000;<br> Наименование=Цех эксплуатации коммуникаций водоснабжения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=950000<BR>
 Код=952000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796054");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_813)</span><div id='gateway/receive_3_podrazd1514306796054' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "952000",
"Наименование": "Цех эксплуатации коммуникаций водоснабжения",
"РодительКод": "950000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=952000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=952000
OLD_PID=950000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=950000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=950000, name='Цех эксплуатации коммуникаций водоснабжения', is_deleted=0, changed=now() where ID=952000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796060");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_813)</span><div id='gateway/jinr_setDivParents1514306796060' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=952000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=950000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=952000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ / Цех эксплуатации коммуникаций водоснабжения' where id=952000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796060");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796054");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_813");'>Request_HR_LHEP_813 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_814");'> Request_HR_LHEP_814 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_814' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf09-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114984&ClientObjectID=827002&Time=27.02.2017 12:44:20&Object={
"Код": "827002",
"Наименование": "Группа №2 вакуумно-механическая",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827002;<br> Наименование=Группа №2 вакуумно-механическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=827000<BR>
 Код=827002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796142");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_814)</span><div id='gateway/receive_3_podrazd1514306796142' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827002",
"Наименование": "Группа №2 вакуумно-механическая",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827002
OLD_PID=827000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=827000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=827000, name='Группа №2 вакуумно-механическая', is_deleted=0, changed=now() where ID=827002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796148");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_814)</span><div id='gateway/jinr_setDivParents1514306796148' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=827000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП / Группа №2 вакуумно-механическая' where id=827002
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796148");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796142");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_814");'>Request_HR_LHEP_814 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_815");'> Request_HR_LHEP_815 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_815' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3cf0c-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114981&ClientObjectID=827006&Time=27.02.2017 12:44:22&Object={
"Код": "827006",
"Наименование": "Группа №6 медицинских протонных пучков",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=827006;<br> Наименование=Группа №6 медицинских протонных пучков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=827000<BR>
 Код=827006<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796242");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_815)</span><div id='gateway/receive_3_podrazd1514306796242' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "827006",
"Наименование": "Группа №6 медицинских протонных пучков",
"РодительКод": "827000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=827006
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=827006
OLD_PID=827000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=827000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=827000, name='Группа №6 медицинских протонных пучков', is_deleted=0, changed=now() where ID=827006
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796249");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_815)</span><div id='gateway/jinr_setDivParents1514306796249' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=827006
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=827000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=827000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=827006
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП / Группа №6 медицинских протонных пучков' where id=827006
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796249");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796242");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_815");'>Request_HR_LHEP_815 (gateway/receive) DONE! (106ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_816");'> Request_HR_LHEP_816 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_816' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70f9-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114958&ClientObjectID=12050&Time=27.02.2017 12:44:38&Object={
"Код": "012050",
"Наименование": "Бюро пропусков",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12050;<br> Наименование=Бюро пропусков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796353");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_816)</span><div id='gateway/receive_3_podrazd1514306796353' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012050",
"Наименование": "Бюро пропусков",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12050
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Бюро пропусков', is_deleted=0, changed=now() where ID=012050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796359");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_816)</span><div id='gateway/jinr_setDivParents1514306796359' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Бюро пропусков' where id=12050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796359");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796353");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_816");'>Request_HR_LHEP_816 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_817");'> Request_HR_LHEP_817 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_817' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=e80563d1-c821-11e6-9472-0025907d24fa&GateObjectID=114956&ClientObjectID=12200&Time=27.02.2017 12:44:39&Object={
"Код": "012200",
"Наименование": "Инженерно-технический отдел",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12200;<br> Наименование=Инженерно-технический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012200<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796470");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_817)</span><div id='gateway/receive_3_podrazd1514306796470' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012200",
"Наименование": "Инженерно-технический отдел",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012200
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12200
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Инженерно-технический отдел', is_deleted=0, changed=now() where ID=012200
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796479");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_817)</span><div id='gateway/jinr_setDivParents1514306796479' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12200
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12200
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Инженерно-технический отдел' where id=12200
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796479");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796470");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_817");'>Request_HR_LHEP_817 (gateway/receive) DONE! (187ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_818");'> Request_HR_LHEP_818 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_818' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=42587ed7-c822-11e6-9472-0025907d24fa&GateObjectID=114955&ClientObjectID=12070&Time=27.02.2017 12:44:40&Object={
"Код": "012070",
"Наименование": "Информационно-аналитическая группа",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12070;<br> Наименование=Информационно-аналитическая группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012070<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796675");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_818)</span><div id='gateway/receive_3_podrazd1514306796675' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012070",
"Наименование": "Информационно-аналитическая группа",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012070
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12070
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Информационно-аналитическая группа', is_deleted=0, changed=now() where ID=012070
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796681");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_818)</span><div id='gateway/jinr_setDivParents1514306796681' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12070
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12070
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Информационно-аналитическая группа' where id=12070
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796681");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796675");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_818");'>Request_HR_LHEP_818 (gateway/receive) DONE! (68ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_819");'> Request_HR_LHEP_819 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_819' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0e908937-c822-11e6-9472-0025907d24fa&GateObjectID=114954&ClientObjectID=12300&Time=27.02.2017 12:44:40&Object={
"Код": "012300",
"Наименование": "Первый отдел",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12300;<br> Наименование=Первый отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012300<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796752");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_819)</span><div id='gateway/receive_3_podrazd1514306796752' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012300",
"Наименование": "Первый отдел",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012300
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12300
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Первый отдел', is_deleted=0, changed=now() where ID=012300
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796758");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_819)</span><div id='gateway/jinr_setDivParents1514306796758' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12300
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12300
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Первый отдел' where id=12300
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796758");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796752");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_819");'>Request_HR_LHEP_819 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_820");'> Request_HR_LHEP_820 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_820' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844802-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114953&ClientObjectID=16010&Time=27.02.2017 12:44:41&Object={
"Код": "016010",
"Наименование": "Редакторско-корректорская группа",
"РодительКод": "016000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=16010;<br> Наименование=Редакторско-корректорская группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=016000<BR>
 Код=016010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796837");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_820)</span><div id='gateway/receive_3_podrazd1514306796837' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "016010",
"Наименование": "Редакторско-корректорская группа",
"РодительКод": "016000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=016010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=16010
OLD_PID=16000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=016000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=016000, name='Редакторско-корректорская группа', is_deleted=0, changed=now() where ID=016010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796844");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_820)</span><div id='gateway/jinr_setDivParents1514306796844' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=16010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=16000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=16000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=16010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Издательский отдел / Редакторско-корректорская группа' where id=16010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796844");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796837");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_820");'>Request_HR_LHEP_820 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_821");'> Request_HR_LHEP_821 [26.12 19:46:36] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_821' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=514398c0-c822-11e6-9472-0025907d24fa&GateObjectID=114952&ClientObjectID=12080&Time=27.02.2017 12:44:41&Object={
"Код": "012080",
"Наименование": "Группа защиты информации",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12080;<br> Наименование=Группа защиты информации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012080<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796950");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_821)</span><div id='gateway/receive_3_podrazd1514306796950' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012080",
"Наименование": "Группа защиты информации",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012080
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12080
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Группа защиты информации', is_deleted=0, changed=now() where ID=012080
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796956");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_821)</span><div id='gateway/jinr_setDivParents1514306796956' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12080
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12080
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Группа защиты информации' where id=12080
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306796956");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306796950");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_821");'>Request_HR_LHEP_821 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_822");'> Request_HR_LHEP_822 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_822' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70f8-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114957&ClientObjectID=12040&Time=27.02.2017 12:44:38&Object={
"Код": "012040",
"Наименование": "Группа фондов научно-технической документации",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12040;<br> Наименование=Группа фондов научно-технической документации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797081");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_822)</span><div id='gateway/receive_3_podrazd1514306797081' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012040",
"Наименование": "Группа фондов научно-технической документации",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12040
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Группа фондов научно-технической документации', is_deleted=0, changed=now() where ID=012040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797087");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_822)</span><div id='gateway/jinr_setDivParents1514306797087' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Группа фондов научно-технической документации ' where id=12040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797087");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797081");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_822");'>Request_HR_LHEP_822 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_823");'> Request_HR_LHEP_823 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_823' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70f6-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114959&ClientObjectID=12020&Time=27.02.2017 12:44:36&Object={
"Код": "012020",
"Наименование": "Группа режима",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12020;<br> Наименование=Группа режима<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797174");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_823)</span><div id='gateway/receive_3_podrazd1514306797174' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012020",
"Наименование": "Группа режима",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12020
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Группа режима', is_deleted=0, changed=now() where ID=012020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797180");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_823)</span><div id='gateway/jinr_setDivParents1514306797180' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Группа режима' where id=12020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797180");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797174");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_823");'>Request_HR_LHEP_823 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_824");'> Request_HR_LHEP_824 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_824' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70f7-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114960&ClientObjectID=12030&Time=27.02.2017 12:44:37&Object={
"Код": "012030",
"Наименование": "Группа делопроизводства",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12030;<br> Наименование=Группа делопроизводства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797274");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_824)</span><div id='gateway/receive_3_podrazd1514306797274' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012030",
"Наименование": "Группа делопроизводства",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12030
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Группа делопроизводства', is_deleted=0, changed=now() where ID=012030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797280");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_824)</span><div id='gateway/jinr_setDivParents1514306797280' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Группа делопроизводства' where id=12030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797280");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797274");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_824");'>Request_HR_LHEP_824 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_825");'> Request_HR_LHEP_825 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_825' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=146c70f5-e2c5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114961&ClientObjectID=12010&Time=27.02.2017 12:44:36&Object={
"Код": "012010",
"Наименование": "Группа ядерной и информационной безопасности",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=12010;<br> Наименование=Группа ядерной и информационной безопасности<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=012000<BR>
 Код=012010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797364");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_825)</span><div id='gateway/receive_3_podrazd1514306797364' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "012010",
"Наименование": "Группа ядерной и информационной безопасности",
"РодительКод": "012000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=012010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=12010
OLD_PID=12000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=012000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=012000, name='Группа ядерной и информационной безопасности', is_deleted=0, changed=now() where ID=012010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797369");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_825)</span><div id='gateway/jinr_setDivParents1514306797369' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=12010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=12000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=12000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=12010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СБ / Группа ядерной и информационной безопасности  ' where id=12010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797369");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797364");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_825");'>Request_HR_LHEP_825 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_826");'> Request_HR_LHEP_826 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_826' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b251-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114971&ClientObjectID=87000&Time=27.02.2017 12:44:29&Object={
"Код": "087000",
"Наименование": "Юридический отдел",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=87000;<br> Наименование=Юридический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=080000<BR>
 Код=087000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797452");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_826)</span><div id='gateway/receive_3_podrazd1514306797452' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "087000",
"Наименование": "Юридический отдел",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=087000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=87000
OLD_PID=80000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=080000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=080000, name='Юридический отдел', is_deleted=0, changed=now() where ID=087000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797457");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_826)</span><div id='gateway/jinr_setDivParents1514306797457' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=87000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=80000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=87000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР / Юридический отдел' where id=87000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797457");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797452");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_826");'>Request_HR_LHEP_826 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_827");'> Request_HR_LHEP_827 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_827' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1fb-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114970&ClientObjectID=81000&Time=27.02.2017 12:44:28&Object={
"Код": "081000",
"Наименование": "Секретариат",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=81000;<br> Наименование=Секретариат<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=080000<BR>
 Код=081000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797555");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_827)</span><div id='gateway/receive_3_podrazd1514306797555' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "081000",
"Наименование": "Секретариат",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=081000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=81000
OLD_PID=80000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=080000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=080000, name='Секретариат', is_deleted=0, changed=now() where ID=081000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797561");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_827)</span><div id='gateway/jinr_setDivParents1514306797561' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=81000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=80000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=81000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР / Секретариат' where id=81000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797561");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (7ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797555");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_827");'>Request_HR_LHEP_827 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_828");'> Request_HR_LHEP_828 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_828' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac352-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=114969&ClientObjectID=21010&Time=27.02.2017 12:44:30&Object={
"Код": "021010",
"Наименование": "Контрольно-методическая группа",
"РодительКод": "021000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=21010;<br> Наименование=Контрольно-методическая группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=021000<BR>
 Код=021010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797655");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_828)</span><div id='gateway/receive_3_podrazd1514306797655' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "021010",
"Наименование": "Контрольно-методическая группа",
"РодительКод": "021000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=021010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=21010
OLD_PID=21000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=021000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=021000, name='Контрольно-методическая группа', is_deleted=0, changed=now() where ID=021010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797661");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_828)</span><div id='gateway/jinr_setDivParents1514306797661' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=21010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=21000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=21000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=21010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Отдел охраны труда / Контрольно-методическая группа' where id=21010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797661");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797655");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_828");'>Request_HR_LHEP_828 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_829");'> Request_HR_LHEP_829 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_829' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b220-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114968&ClientObjectID=82000&Time=27.02.2017 12:44:30&Object={
"Код": "082000",
"Наименование": "Отдел лицензий и интеллектуальной собственности",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=82000;<br> Наименование=Отдел лицензий и интеллектуальной собственности<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=080000<BR>
 Код=082000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797759");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_829)</span><div id='gateway/receive_3_podrazd1514306797759' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "082000",
"Наименование": "Отдел лицензий и интеллектуальной собственности",
"РодительКод": "080000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=082000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=82000
OLD_PID=80000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=080000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=080000, name='Отдел лицензий и интеллектуальной собственности', is_deleted=0, changed=now() where ID=082000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797765");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_829)</span><div id='gateway/jinr_setDivParents1514306797765' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=82000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=80000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=80000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=82000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УПиИР / Отдел лицензий и интеллектуальной собственности' where id=82000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797765");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797759");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_829");'>Request_HR_LHEP_829 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_830");'> Request_HR_LHEP_830 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_830' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac353-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=114967&ClientObjectID=21020&Time=27.02.2017 12:44:31&Object={
"Код": "021020",
"Наименование": "Испытательная промышленно-санитарная лаборатория",
"РодительКод": "021000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=21020;<br> Наименование=Испытательная промышленно-санитарная лаборатория<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=021000<BR>
 Код=021020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797845");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_830)</span><div id='gateway/receive_3_podrazd1514306797845' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "021020",
"Наименование": "Испытательная промышленно-санитарная лаборатория",
"РодительКод": "021000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=021020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=21020
OLD_PID=21000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=021000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=021000, name='Испытательная промышленно-санитарная лаборатория', is_deleted=0, changed=now() where ID=021020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797851");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_830)</span><div id='gateway/jinr_setDivParents1514306797851' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=21020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=21000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=21000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=21020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Отдел охраны труда / Испытательная промышленно-санитарная лаборатория' where id=21020
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797851");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797845");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_830");'>Request_HR_LHEP_830 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_831");'> Request_HR_LHEP_831 [26.12 19:46:37] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_831' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac354-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=114965&ClientObjectID=21030&Time=27.02.2017 12:44:32&Object={
"Код": "021030",
"Наименование": "Группа охраны окружающей среды",
"РодительКод": "021000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=21030;<br> Наименование=Группа охраны окружающей среды<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=021000<BR>
 Код=021030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797933");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_831)</span><div id='gateway/receive_3_podrazd1514306797933' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "021030",
"Наименование": "Группа охраны окружающей среды",
"РодительКод": "021000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=021030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=21030
OLD_PID=21000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=021000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=021000, name='Группа охраны окружающей среды', is_deleted=0, changed=now() where ID=021030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797938");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_831)</span><div id='gateway/jinr_setDivParents1514306797938' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=21030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=21000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=21000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=21030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / СГИ / Отдел охраны труда / Группа охраны окружающей среды' where id=21030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306797938");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306797933");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_831");'>Request_HR_LHEP_831 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_832");'> Request_HR_LHEP_832 [26.12 19:46:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_832' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=77c70ddc-05dd-11e5-943b-0025907d24fa&GateObjectID=114964&ClientObjectID=980040&Time=27.02.2017 12:44:34&Object={
"Код": "980040",
"Наименование": "Группа №1 эксплуатации и развития АТС и ЛСО",
"РодительКод": "980000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=980040;<br> Наименование=Группа №1 эксплуатации и развития АТС и ЛСО<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=980000<BR>
 Код=980040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798036");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_832)</span><div id='gateway/receive_3_podrazd1514306798036' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "980040",
"Наименование": "Группа №1 эксплуатации и развития АТС и ЛСО",
"РодительКод": "980000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=980040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=980040
OLD_PID=980000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=980000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=980000, name='Группа №1 эксплуатации и развития АТС и ЛСО', is_deleted=0, changed=now() where ID=980040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798044");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_832)</span><div id='gateway/jinr_setDivParents1514306798044' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=980040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=980000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=980000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 0ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=980040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УТС / Группа №1 эксплуатации и развития АТС и ЛСО' where id=980040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798044");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798036");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_832");'>Request_HR_LHEP_832 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_833");'> Request_HR_LHEP_833 [26.12 19:46:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_833' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a0-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114937&ClientObjectID=31000&Time=27.02.2017 12:44:51&Object={
"Код": "031000",
"Наименование": "Редакция журнала \"Физика элементарных частиц и атомного ядра\"",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=31000;<br> Наименование=Редакция журнала "Физика элементарных частиц и атомного ядра"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=031000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798129");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_833)</span><div id='gateway/receive_3_podrazd1514306798129' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "031000",
"Наименование": "Редакция журнала \"Физика элементарных частиц и атомного ядра\"",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=031000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=31000
OLD_PID=35000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 035000 => 35000</b>;<br><b>Сохранен старый РодительКод=35000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=35000, name='Редакция журнала "Физика элементарных частиц и атомного ядра"', is_deleted=0, changed=now() where ID=031000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798134");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_833)</span><div id='gateway/jinr_setDivParents1514306798134' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=31000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=31000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Редакция' where id=31000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798134");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798129");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_833");'>Request_HR_LHEP_833 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_834");'> Request_HR_LHEP_834 [26.12 19:46:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_834' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b299-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114936&ClientObjectID=3000&Time=27.02.2017 12:44:51&Object={
"Код": "003000",
"Наименование": "Отдел международных связей",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=3000;<br> Наименование=Отдел международных связей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=003000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798221");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_834)</span><div id='gateway/receive_3_podrazd1514306798221' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "003000",
"Наименование": "Отдел международных связей",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=003000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=3000
OLD_PID=35000
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 035000 => 35000</b>;<br><b>Сохранен старый РодительКод=35000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=35000, name='Отдел международных связей', is_deleted=0, changed=now() where ID=003000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798228");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_834)</span><div id='gateway/jinr_setDivParents1514306798228' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=3000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=3000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / ОМС' where id=3000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798228");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798221");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_834");'>Request_HR_LHEP_834 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_835");'> Request_HR_LHEP_835 [26.12 19:46:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_835' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2ad-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114935&ClientObjectID=22000&Time=27.02.2017 12:44:52&Object={
"Код": "022000",
"Наименование": "Музей истории науки и техники ОИЯИ",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=22000;<br> Наименование=Музей истории науки и техники ОИЯИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=022000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798315");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_835)</span><div id='gateway/receive_3_podrazd1514306798315' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "022000",
"Наименование": "Музей истории науки и техники ОИЯИ",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=022000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=22000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Музей истории науки и техники ОИЯИ', is_deleted=0, changed=now() where ID=022000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798322");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_835)</span><div id='gateway/jinr_setDivParents1514306798322' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=22000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=22000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Музей истории науки и техники ОИЯИ' where id=22000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306798322");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798315");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_835");'>Request_HR_LHEP_835 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_836");'> Request_HR_LHEP_836 [26.12 19:46:38] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_836' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b293-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114934&ClientObjectID=16000&Time=27.02.2017 12:44:52&Object={
"Код": "016000",
"Наименование": "Издательский отдел",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=16000;<br> Наименование=Издательский отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=016000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798611");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_836)</span><div id='gateway/receive_3_podrazd1514306798611' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "016000",
"Наименование": "Издательский отдел",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=016000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=16000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 149ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Издательский отдел', is_deleted=0, changed=now() where ID=016000
</xmp> DONE! 1 record(s) affected------ SQL done, 649ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799414");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_836)</span><div id='gateway/jinr_setDivParents1514306799414' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=16000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=16000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Издательский отдел' where id=16000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799414");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306798611");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (816ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_836");'>Request_HR_LHEP_836 (gateway/receive) DONE! (1126ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_837");'> Request_HR_LHEP_837 [26.12 19:46:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_837' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2ae-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114933&ClientObjectID=33000&Time=27.02.2017 12:44:53&Object={
"Код": "033000",
"Наименование": "Редакция еженедельника ОИЯИ \"Дубна: наука, сотрудничество, прогресс\"",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=33000;<br> Наименование=Редакция еженедельника ОИЯИ "Дубна: наука, сотрудничество, прогресс"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=033000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306799780");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_837)</span><div id='gateway/receive_3_podrazd1514306799780' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "033000",
"Наименование": "Редакция еженедельника ОИЯИ \"Дубна: наука, сотрудничество, прогресс\"",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=033000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=33000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Редакция еженедельника ОИЯИ "Дубна: наука, сотрудничество, прогресс"', is_deleted=0, changed=now() where ID=033000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799786");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_837)</span><div id='gateway/jinr_setDivParents1514306799786' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=33000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=33000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Редакция еженедельника ОИЯИ "Дубна: наука, сотрудничество, прогресс"' where id=33000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799786");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306799780");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_837");'>Request_HR_LHEP_837 (gateway/receive) DONE! (83ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_838");'> Request_HR_LHEP_838 [26.12 19:46:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_838' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a7-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114932&ClientObjectID=23000&Time=27.02.2017 12:44:54&Object={
"Код": "023000",
"Наименование": "Дом международных совещаний",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=23000;<br> Наименование=Дом международных совещаний<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=023000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306799870");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_838)</span><div id='gateway/receive_3_podrazd1514306799870' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "023000",
"Наименование": "Дом международных совещаний",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=023000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=23000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Дом международных совещаний', is_deleted=0, changed=now() where ID=023000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799875");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_838)</span><div id='gateway/jinr_setDivParents1514306799875' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=23000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=23000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Дом международных совещаний' where id=23000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799875");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306799870");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_838");'>Request_HR_LHEP_838 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_839");'> Request_HR_LHEP_839 [26.12 19:46:39] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_839' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a9-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114931&ClientObjectID=26000&Time=27.02.2017 12:44:53&Object={
"Код": "026000",
"Наименование": "Научно-техническая библиотека",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=26000;<br> Наименование=Научно-техническая библиотека<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=026000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306799955");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_839)</span><div id='gateway/receive_3_podrazd1514306799955' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "026000",
"Наименование": "Научно-техническая библиотека",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=026000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=26000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Научно-техническая библиотека', is_deleted=0, changed=now() where ID=026000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799961");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_839)</span><div id='gateway/jinr_setDivParents1514306799961' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=26000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=26000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-техническая библиотека' where id=26000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306799961");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306799955");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_839");'>Request_HR_LHEP_839 (gateway/receive) DONE! (105ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_840");'> Request_HR_LHEP_840 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_840' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b28f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114938&ClientObjectID=935000&Time=27.02.2017 12:44:50&Object={
"Код": "935000",
"Наименование": "Дом ученых",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=935000;<br> Наименование=Дом ученых<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=935000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800072");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_840)</span><div id='gateway/receive_3_podrazd1514306800072' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "935000",
"Наименование": "Дом ученых",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=935000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=935000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Дом ученых', is_deleted=0, changed=now() where ID=935000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800078");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_840)</span><div id='gateway/jinr_setDivParents1514306800078' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=935000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=935000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Дом ученых' where id=935000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800078");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800072");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_840");'>Request_HR_LHEP_840 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_841");'> Request_HR_LHEP_841 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_841' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b289-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114941&ClientObjectID=6000&Time=27.02.2017 12:44:48&Object={
"Код": "006000",
"Наименование": "Бухгалтерия",
"РодительКод": "030000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6000;<br> Наименование=Бухгалтерия<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=030000<BR>
 Код=006000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800197");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_841)</span><div id='gateway/receive_3_podrazd1514306800197' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006000",
"Наименование": "Бухгалтерия",
"РодительКод": "030000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6000
OLD_PID=30000
is_manual=1</xmp>------ SQL done, 36ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=030000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 030000 => 30000</b>;<br><b>Сохранен старый РодительКод=30000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=30000, name='Бухгалтерия', is_deleted=0, changed=now() where ID=006000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800238");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_841)</span><div id='gateway/jinr_setDivParents1514306800238' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=30000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=30000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия' where id=6000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800238");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800197");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (51ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_841");'>Request_HR_LHEP_841 (gateway/receive) DONE! (132ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_842");'> Request_HR_LHEP_842 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_842' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac35c-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=114948&ClientObjectID=50030&Time=27.02.2017 12:44:44&Object={
"Код": "050030",
"Наименование": "Группа №2 сервиса малой вычислительной техники",
"РодительКод": "050000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=50030;<br> Наименование=Группа №2 сервиса малой вычислительной техники<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=050000<BR>
 Код=050030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800344");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_842)</span><div id='gateway/receive_3_podrazd1514306800344' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "050030",
"Наименование": "Группа №2 сервиса малой вычислительной техники",
"РодительКод": "050000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=050030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=50030
OLD_PID=50000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=050000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=050000, name='Группа №2 сервиса малой вычислительной техники', is_deleted=0, changed=now() where ID=050030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800350");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_842)</span><div id='gateway/jinr_setDivParents1514306800350' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=50030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=50000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=50000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=50030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОКИП / Группа №2 сервиса малой вычислительной техники' where id=50030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800350");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800344");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_842");'>Request_HR_LHEP_842 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_843");'> Request_HR_LHEP_843 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_843' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac35a-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=114950&ClientObjectID=50010&Time=27.02.2017 12:44:43&Object={
"Код": "050010",
"Наименование": "Административно-технический персонал",
"РодительКод": "050000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=50010;<br> Наименование=Административно-технический персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=050000<BR>
 Код=050010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800439");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_843)</span><div id='gateway/receive_3_podrazd1514306800439' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "050010",
"Наименование": "Административно-технический персонал",
"РодительКод": "050000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=050010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=50010
OLD_PID=50000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=050000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=050000, name='Административно-технический персонал', is_deleted=0, changed=now() where ID=050010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800445");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_843)</span><div id='gateway/jinr_setDivParents1514306800445' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=50010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=50000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=50000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=50010
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОКИП / Административно-технический персонал' where id=50010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800445");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800439");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_843");'>Request_HR_LHEP_843 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_844");'> Request_HR_LHEP_844 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_844' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b8eac35b-e2ee-11e1-9f24-7071bc4316b3&GateObjectID=114947&ClientObjectID=50020&Time=27.02.2017 12:44:44&Object={
"Код": "050020",
"Наименование": "Группа №1 ремонта средств измерений",
"РодительКод": "050000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=50020;<br> Наименование=Группа №1 ремонта средств измерений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=050000<BR>
 Код=050020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800530");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_844)</span><div id='gateway/receive_3_podrazd1514306800530' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "050020",
"Наименование": "Группа №1 ремонта средств измерений",
"РодительКод": "050000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=050020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=50020
OLD_PID=50000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=050000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=050000, name='Группа №1 ремонта средств измерений', is_deleted=0, changed=now() where ID=050020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800536");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_844)</span><div id='gateway/jinr_setDivParents1514306800536' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=50020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=50000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=50000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=50020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОКИП / Группа №1 ремонта средств измерений' where id=50020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800536");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800530");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_844");'>Request_HR_LHEP_844 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_845");'> Request_HR_LHEP_845 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_845' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=3979f391-4fde-11e6-9463-0025907d24fa&GateObjectID=114946&ClientObjectID=28200&Time=27.02.2017 12:44:45&Object={
"Код": "028200",
"Наименование": "Группа по хозяйственному обслуживанию технической площадки ЛЯП",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=28200;<br> Наименование=Группа по хозяйственному обслуживанию технической площадки ЛЯП<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=055000<BR>
 Код=028200<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800636");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_845)</span><div id='gateway/receive_3_podrazd1514306800636' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "028200",
"Наименование": "Группа по хозяйственному обслуживанию технической площадки ЛЯП",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=028200
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=28200
OLD_PID=55000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=055000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=055000, name='Группа по хозяйственному обслуживанию технической площадки ЛЯП', is_deleted=0, changed=now() where ID=028200
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800642");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_845)</span><div id='gateway/jinr_setDivParents1514306800642' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=28200
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=55000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=55000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=28200
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Группа по хозяйственному обслуживанию технической площадки ЛЯП' where id=28200
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800642");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800636");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_845");'>Request_HR_LHEP_845 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_846");'> Request_HR_LHEP_846 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_846' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=92b464c6-646e-11e2-b3f2-000e0ce597c9&GateObjectID=114945&ClientObjectID=999221&Time=27.02.2017 12:44:46&Object={
"Код": "999221",
"Наименование": "Руководство",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999221;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=055000<BR>
 Код=999221<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800723");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_846)</span><div id='gateway/receive_3_podrazd1514306800723' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999221",
"Наименование": "Руководство",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999221
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999221
OLD_PID=55000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=055000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=055000, name='Руководство', is_deleted=0, changed=now() where ID=999221
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800732");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_846)</span><div id='gateway/jinr_setDivParents1514306800732' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999221
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=55000
LEV_OLD=3</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=55000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999221
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Руководство' where id=999221
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800732");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800723");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (24ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_846");'>Request_HR_LHEP_846 (gateway/receive) DONE! (88ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_847");'> Request_HR_LHEP_847 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_847' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=632b79c2-ac0f-11e2-93f5-0025907d24fa&GateObjectID=114944&ClientObjectID=28100&Time=27.02.2017 12:44:45&Object={
"Код": "028100",
"Наименование": "Административно-хозяйственный отдел",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=28100;<br> Наименование=Административно-хозяйственный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=055000<BR>
 Код=028100<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800821");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_847)</span><div id='gateway/receive_3_podrazd1514306800821' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "028100",
"Наименование": "Административно-хозяйственный отдел",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=028100
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=28100
OLD_PID=55000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=055000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=055000, name='Административно-хозяйственный отдел', is_deleted=0, changed=now() where ID=028100
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800827");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_847)</span><div id='gateway/jinr_setDivParents1514306800827' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=28100
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=55000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=55000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=28100
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Административно-хозяйственный отдел' where id=28100
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800827");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800821");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_847");'>Request_HR_LHEP_847 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_848");'> Request_HR_LHEP_848 [26.12 19:46:40] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_848' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2ab-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114943&ClientObjectID=4000&Time=27.02.2017 12:44:47&Object={
"Код": "004000",
"Наименование": "Планово-финансовый отдел",
"РодительКод": "030000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=4000;<br> Наименование=Планово-финансовый отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=030000<BR>
 Код=004000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800909");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_848)</span><div id='gateway/receive_3_podrazd1514306800909' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "004000",
"Наименование": "Планово-финансовый отдел",
"РодительКод": "030000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=004000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=4000
OLD_PID=30000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=030000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=030000, name='Планово-финансовый отдел', is_deleted=0, changed=now() where ID=004000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800915");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_848)</span><div id='gateway/jinr_setDivParents1514306800915' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=4000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=30000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=30000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=4000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Планово-финансовый отдел' where id=4000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306800915");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306800909");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_848");'>Request_HR_LHEP_848 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_849");'> Request_HR_LHEP_849 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_849' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a5-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114942&ClientObjectID=46000&Time=27.02.2017 12:44:47&Object={
"Код": "046000",
"Наименование": "Группа управления, планирования и информации",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=46000;<br> Наименование=Группа управления, планирования и информации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=055000<BR>
 Код=046000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801015");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_849)</span><div id='gateway/receive_3_podrazd1514306801015' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "046000",
"Наименование": "Группа управления, планирования и информации",
"РодительКод": "055000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=046000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=46000
OLD_PID=55000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=055000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=055000, name='Группа управления, планирования и информации', is_deleted=0, changed=now() where ID=046000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801021");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_849)</span><div id='gateway/jinr_setDivParents1514306801021' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=46000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=55000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=55000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=46000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УХОиКС / Группа управления, планирования и информации' where id=46000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801021");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801015");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_849");'>Request_HR_LHEP_849 (gateway/receive) DONE! (105ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_850");'> Request_HR_LHEP_850 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_850' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=63c7ed3b-e7ed-11e3-9416-0025907d24fa&GateObjectID=114922&ClientObjectID=999080&Time=27.02.2017 12:44:59&Object={
"Код": "999080",
"Наименование": "Служба маркетинга",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999080;<br> Наименование=Служба маркетинга<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999080<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801157");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_850)</span><div id='gateway/receive_3_podrazd1514306801157' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999080",
"Наименование": "Служба маркетинга",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999080
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999080
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Служба маркетинга', is_deleted=0, changed=now() where ID=999080
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801163");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_850)</span><div id='gateway/jinr_setDivParents1514306801163' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999080
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999080
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Служба маркетинга' where id=999080
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801163");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801157");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_850");'>Request_HR_LHEP_850 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_851");'> Request_HR_LHEP_851 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_851' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447f8-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114923&ClientObjectID=999010&Time=27.02.2017 12:44:59&Object={
"Код": "999010",
"Наименование": "Административно-управленческий персонал",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999010;<br> Наименование=Административно-управленческий персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801259");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_851)</span><div id='gateway/receive_3_podrazd1514306801259' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999010",
"Наименование": "Административно-управленческий персонал",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999010
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Административно-управленческий персонал', is_deleted=0, changed=now() where ID=999010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801265");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_851)</span><div id='gateway/jinr_setDivParents1514306801265' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Административно-управленческий персонал' where id=999010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801265");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801259");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_851");'>Request_HR_LHEP_851 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_852");'> Request_HR_LHEP_852 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_852' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447fd-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114917&ClientObjectID=999060&Time=27.02.2017 12:45:02&Object={
"Код": "999060",
"Наименование": "Автотранспорт",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999060;<br> Наименование=Автотранспорт<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999060<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801359");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_852)</span><div id='gateway/receive_3_podrazd1514306801359' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999060",
"Наименование": "Автотранспорт",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999060
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999060
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Автотранспорт', is_deleted=0, changed=now() where ID=999060
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801365");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_852)</span><div id='gateway/jinr_setDivParents1514306801365' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999060
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999060
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Автотранспорт' where id=999060
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801365");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801359");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_852");'>Request_HR_LHEP_852 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_853");'> Request_HR_LHEP_853 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_853' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb56-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114916&ClientObjectID=215000&Time=27.02.2017 15:50:31&Object={
"Код": "215000",
"Наименование": "Научно-экспериментальный отдел физики адронов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=215000;<br> Наименование=Научно-экспериментальный отдел физики адронов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=215000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801448");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_853)</span><div id='gateway/receive_3_podrazd1514306801448' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "215000",
"Наименование": "Научно-экспериментальный отдел физики адронов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=215000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=215000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел физики адронов', is_deleted=0, changed=now() where ID=215000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801454");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_853)</span><div id='gateway/jinr_setDivParents1514306801454' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=215000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=215000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел физики адронов' where id=215000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801454");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801448");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_853");'>Request_HR_LHEP_853 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_854");'> Request_HR_LHEP_854 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_854' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb6d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114915&ClientObjectID=209000&Time=27.02.2017 15:50:32&Object={
"Код": "209000",
"Наименование": "Цех опытно-экспериментального производства",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=209000;<br> Наименование=Цех опытно-экспериментального производства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=209000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801533");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_854)</span><div id='gateway/receive_3_podrazd1514306801533' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "209000",
"Наименование": "Цех опытно-экспериментального производства",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=209000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=209000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Цех опытно-экспериментального производства', is_deleted=0, changed=now() where ID=209000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801538");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_854)</span><div id='gateway/jinr_setDivParents1514306801538' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=209000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=209000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Цех опытно-экспериментального производства' where id=209000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801538");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801533");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_854");'>Request_HR_LHEP_854 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_855");'> Request_HR_LHEP_855 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_855' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ee5fcb5f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114914&ClientObjectID=204000&Time=27.02.2017 15:50:31&Object={
"Код": "204000",
"Наименование": "Научно-экспериментальный отдел ядерной спектроскопии и радиохимии",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=204000;<br> Наименование=Научно-экспериментальный отдел ядерной спектроскопии и радиохимии<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=204000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801614");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_855)</span><div id='gateway/receive_3_podrazd1514306801614' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "204000",
"Наименование": "Научно-экспериментальный отдел ядерной спектроскопии и радиохимии",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=204000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел ядерной спектроскопии и радиохимии', is_deleted=0, changed=now() where ID=204000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801622");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_855)</span><div id='gateway/jinr_setDivParents1514306801622' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=204000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=204000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел ядерной спектроскопии и радиохимии' where id=204000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801622");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801614");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_855");'>Request_HR_LHEP_855 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_856");'> Request_HR_LHEP_856 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_856' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b1fc-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114913&ClientObjectID=205000&Time=27.02.2017 15:50:32&Object={
"Код": "205000",
"Наименование": "Научно-экспериментальный отдел новых ускорителей",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=205000;<br> Наименование=Научно-экспериментальный отдел новых ускорителей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=205000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801698");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_856)</span><div id='gateway/receive_3_podrazd1514306801698' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "205000",
"Наименование": "Научно-экспериментальный отдел новых ускорителей",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=205000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=205000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел новых ускорителей', is_deleted=0, changed=now() where ID=205000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801703");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_856)</span><div id='gateway/jinr_setDivParents1514306801703' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=205000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=205000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел новых ускорителей' where id=205000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801703");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801698");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_856");'>Request_HR_LHEP_856 (gateway/receive) DONE! (71ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_857");'> Request_HR_LHEP_857 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_857' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844809-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114924&ClientObjectID=26030&Time=27.02.2017 12:44:58&Object={
"Код": "026030",
"Наименование": "Группа учета, обработки и каталогизации",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=26030;<br> Наименование=Группа учета, обработки и каталогизации<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=026000<BR>
 Код=026030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801791");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_857)</span><div id='gateway/receive_3_podrazd1514306801791' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "026030",
"Наименование": "Группа учета, обработки и каталогизации",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=026030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=26030
OLD_PID=26000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=026000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=026000, name='Группа учета, обработки и каталогизации', is_deleted=0, changed=now() where ID=026030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801797");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_857)</span><div id='gateway/jinr_setDivParents1514306801797' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=26030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=26000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=26000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=26030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-техническая библиотека / Группа учета, обработки и каталогизации' where id=26030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801797");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801791");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_857");'>Request_HR_LHEP_857 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_858");'> Request_HR_LHEP_858 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_858' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=8c23914c-42c2-11e3-9401-0025907d24fa&GateObjectID=114925&ClientObjectID=26050&Time=27.02.2017 12:44:58&Object={
"Код": "026050",
"Наименование": "Группа обслуживания и книгохранения в ЛФВЭ",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=26050;<br> Наименование=Группа обслуживания и книгохранения в ЛФВЭ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=026000<BR>
 Код=026050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801873");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_858)</span><div id='gateway/receive_3_podrazd1514306801873' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "026050",
"Наименование": "Группа обслуживания и книгохранения в ЛФВЭ",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=026050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=26050
OLD_PID=26000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=026000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=026000, name='Группа обслуживания и книгохранения в ЛФВЭ', is_deleted=0, changed=now() where ID=026050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801878");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_858)</span><div id='gateway/jinr_setDivParents1514306801878' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=26050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=26000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=26000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=26050
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-техническая библиотека / Группа обслуживания и книгохранения в ЛФВЭ' where id=26050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801878");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801873");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_858");'>Request_HR_LHEP_858 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_859");'> Request_HR_LHEP_859 [26.12 19:46:41] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_859' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=92b464c4-646e-11e2-b3f2-000e0ce597c9&GateObjectID=114939&ClientObjectID=999219&Time=27.02.2017 12:44:49&Object={
"Код": "999219",
"Наименование": "Руководство",
"РодительКод": "030000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999219;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=030000<BR>
 Код=999219<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801959");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_859)</span><div id='gateway/receive_3_podrazd1514306801959' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999219",
"Наименование": "Руководство",
"РодительКод": "030000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999219
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999219
OLD_PID=30000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=030000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=030000, name='Руководство', is_deleted=0, changed=now() where ID=999219
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801965");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_859)</span><div id='gateway/jinr_setDivParents1514306801965' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999219
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=30000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=30000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999219
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Руководство' where id=999219
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306801965");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306801959");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_859");'>Request_HR_LHEP_859 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_860");'> Request_HR_LHEP_860 [26.12 19:46:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_860' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=92b464c5-646e-11e2-b3f2-000e0ce597c9&GateObjectID=114940&ClientObjectID=999220&Time=27.02.2017 12:44:49&Object={
"Код": "999220",
"Наименование": "Руководство",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999220;<br> Наименование=Руководство<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=999220<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802251");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_860)</span><div id='gateway/receive_3_podrazd1514306802251' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999220",
"Наименование": "Руководство",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999220
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999220
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Руководство', is_deleted=0, changed=now() where ID=999220
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802257");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_860)</span><div id='gateway/jinr_setDivParents1514306802257' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999220
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999220
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Руководство' where id=999220
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802257");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802251");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_860");'>Request_HR_LHEP_860 (gateway/receive) DONE! (292ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_861");'> Request_HR_LHEP_861 [26.12 19:46:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_861' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a3-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114930&ClientObjectID=2000&Time=27.02.2017 12:44:55&Object={
"Код": "002000",
"Наименование": "Научно-организационный отдел",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=2000;<br> Наименование=Научно-организационный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=002000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802357");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_861)</span><div id='gateway/receive_3_podrazd1514306802357' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "002000",
"Наименование": "Научно-организационный отдел",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=002000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=2000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Научно-организационный отдел', is_deleted=0, changed=now() where ID=002000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802364");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_861)</span><div id='gateway/jinr_setDivParents1514306802364' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=2000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=2000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-организационный отдел' where id=2000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802364");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802357");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_861");'>Request_HR_LHEP_861 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_862");'> Request_HR_LHEP_862 [26.12 19:46:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_862' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a2-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114929&ClientObjectID=19000&Time=27.02.2017 12:44:55&Object={
"Код": "019000",
"Наименование": "Научно-информационный отдел",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=19000;<br> Наименование=Научно-информационный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=019000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802654");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_862)</span><div id='gateway/receive_3_podrazd1514306802654' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "019000",
"Наименование": "Научно-информационный отдел",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=019000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=19000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Научно-информационный отдел', is_deleted=0, changed=now() where ID=019000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802662");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_862)</span><div id='gateway/jinr_setDivParents1514306802662' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=19000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=19000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-информационный отдел' where id=19000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802662");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802654");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_862");'>Request_HR_LHEP_862 (gateway/receive) DONE! (299ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_863");'> Request_HR_LHEP_863 [26.12 19:46:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_863' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844807-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114928&ClientObjectID=26010&Time=27.02.2017 12:44:56&Object={
"Код": "026010",
"Наименование": "Группа обслуживания и книгохранения",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=26010;<br> Наименование=Группа обслуживания и книгохранения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=026000<BR>
 Код=026010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802769");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_863)</span><div id='gateway/receive_3_podrazd1514306802769' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "026010",
"Наименование": "Группа обслуживания и книгохранения",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=026010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=26010
OLD_PID=26000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=026000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=026000, name='Группа обслуживания и книгохранения', is_deleted=0, changed=now() where ID=026010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802774");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_863)</span><div id='gateway/jinr_setDivParents1514306802774' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=26010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=26000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=26000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=26010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-техническая библиотека / Группа обслуживания и книгохранения' where id=26010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802774");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802769");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_863");'>Request_HR_LHEP_863 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_864");'> Request_HR_LHEP_864 [26.12 19:46:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_864' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=60844808-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114926&ClientObjectID=26020&Time=27.02.2017 12:44:57&Object={
"Код": "026020",
"Наименование": "Справочно-библиографическая группа",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=26020;<br> Наименование=Справочно-библиографическая группа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=026000<BR>
 Код=026020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802881");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_864)</span><div id='gateway/receive_3_podrazd1514306802881' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "026020",
"Наименование": "Справочно-библиографическая группа",
"РодительКод": "026000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=026020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=26020
OLD_PID=26000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=026000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=026000, name='Справочно-библиографическая группа', is_deleted=0, changed=now() where ID=026020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802887");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_864)</span><div id='gateway/jinr_setDivParents1514306802887' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=26020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=26000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=26000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=26020
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-техническая библиотека / Справочно-библиографическая группа' where id=26020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802887");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802881");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_864");'>Request_HR_LHEP_864 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_865");'> Request_HR_LHEP_865 [26.12 19:46:42] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_865' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b2a4-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114927&ClientObjectID=24000&Time=27.02.2017 12:44:56&Object={
"Код": "024000",
"Наименование": "Научно-технический отдел АСУ",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=24000;<br> Наименование=Научно-технический отдел АСУ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=035000<BR>
 Код=024000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802966");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_865)</span><div id='gateway/receive_3_podrazd1514306802966' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "024000",
"Наименование": "Научно-технический отдел АСУ",
"РодительКод": "035000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=024000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=24000
OLD_PID=35000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=035000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=035000, name='Научно-технический отдел АСУ', is_deleted=0, changed=now() where ID=024000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802971");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_865)</span><div id='gateway/jinr_setDivParents1514306802971' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=24000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=35000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=35000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=24000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / УНОРиМС / Научно-технический отдел АСУ' where id=24000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306802971");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306802966");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_865");'>Request_HR_LHEP_865 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_866");'> Request_HR_LHEP_866 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_866' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b234-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114906&ClientObjectID=206000&Time=27.02.2017 15:50:36&Object={
"Код": "206000",
"Наименование": "Сектор электронного охлаждения",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=206000;<br> Наименование=Сектор электронного охлаждения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=206000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803052");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_866)</span><div id='gateway/receive_3_podrazd1514306803052' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "206000",
"Наименование": "Сектор электронного охлаждения",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=206000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=206000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор электронного охлаждения', is_deleted=0, changed=now() where ID=206000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803057");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_866)</span><div id='gateway/jinr_setDivParents1514306803057' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=206000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=206000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор электронного охлаждения' where id=206000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803057");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803052");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_866");'>Request_HR_LHEP_866 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_867");'> Request_HR_LHEP_867 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_867' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b260-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114905&ClientObjectID=253000&Time=27.02.2017 15:50:38&Object={
"Код": "253000",
"Наименование": "Сектор информационно-сетевых технологий и автоматизации физического эксперимента",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=253000;<br> Наименование=Сектор информационно-сетевых технологий и автоматизации физического эксперимента<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=253000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803142");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_867)</span><div id='gateway/receive_3_podrazd1514306803142' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "253000",
"Наименование": "Сектор информационно-сетевых технологий и автоматизации физического эксперимента",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=253000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=253000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор информационно-сетевых технологий и автоматизации физического эксперимента', is_deleted=0, changed=now() where ID=253000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803149");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_867)</span><div id='gateway/jinr_setDivParents1514306803149' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=253000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=253000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор информационно-сетевых технологий и автоматизации физического эксперимента' where id=253000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803149");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803142");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_867");'>Request_HR_LHEP_867 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_868");'> Request_HR_LHEP_868 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_868' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b25b-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114904&ClientObjectID=240000&Time=27.02.2017 15:50:37&Object={
"Код": "240000",
"Наименование": "Участок тепловодоснабжения и вентиляции",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=240000;<br> Наименование=Участок тепловодоснабжения и вентиляции<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=240000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803248");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_868)</span><div id='gateway/receive_3_podrazd1514306803248' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "240000",
"Наименование": "Участок тепловодоснабжения и вентиляции",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=240000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=240000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Участок тепловодоснабжения и вентиляции', is_deleted=0, changed=now() where ID=240000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803255");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_868)</span><div id='gateway/jinr_setDivParents1514306803255' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=240000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=240000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Участок тепловодоснабжения и вентиляции' where id=240000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803255");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803248");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_868");'>Request_HR_LHEP_868 (gateway/receive) DONE! (86ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_869");'> Request_HR_LHEP_869 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_869' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0de0bc0b-d7c2-11e1-bad5-e0cb4eda5b1f&GateObjectID=114898&ClientObjectID=999000&Time=29.03.2017 14:26:56&Object={
"Код": "999000",
"Наименование": "Пансионат \"ДУБНА\"",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999000;<br> Наименование=Пансионат "ДУБНА"<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=999000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803351");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_869)</span><div id='gateway/receive_3_podrazd1514306803351' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999000",
"Наименование": "Пансионат \"ДУБНА\"",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Пансионат "ДУБНА"', is_deleted=0, changed=now() where ID=999000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803356");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_869)</span><div id='gateway/jinr_setDivParents1514306803356' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат' where id=999000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803356");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803351");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_869");'>Request_HR_LHEP_869 (gateway/receive) DONE! (74ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_870");'> Request_HR_LHEP_870 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_870' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114897&ClientObjectID=32000&Time=29.03.2017 14:31:54&Object={
"Код": "032000",
"Наименование": "УНЦ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=32000;<br> Наименование=УНЦ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=032000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803433");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_870)</span><div id='gateway/receive_3_podrazd1514306803433' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032000",
"Наименование": "УНЦ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='УНЦ', is_deleted=0, changed=now() where ID=032000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803438");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_870)</span><div id='gateway/jinr_setDivParents1514306803438' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УНЦ' where id=32000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803438");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803433");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_870");'>Request_HR_LHEP_870 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_871");'> Request_HR_LHEP_871 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_871' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b296-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114894&ClientObjectID=50000&Time=29.03.2017 14:31:57&Object={
"Код": "050000",
"Наименование": "Отдел контрольно-измерительных приборов",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=50000;<br> Наименование=Отдел контрольно-измерительных приборов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=050000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803534");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_871)</span><div id='gateway/receive_3_podrazd1514306803534' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "050000",
"Наименование": "Отдел контрольно-измерительных приборов",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=050000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=50000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Отдел контрольно-измерительных приборов', is_deleted=0, changed=now() where ID=050000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803541");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_871)</span><div id='gateway/jinr_setDivParents1514306803541' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=50000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=50000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОКИП' where id=50000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803541");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803534");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_871");'>Request_HR_LHEP_871 (gateway/receive) DONE! (206ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_872");'> Request_HR_LHEP_872 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_872' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114895&ClientObjectID=60000&Time=29.03.2017 14:31:56&Object={
"Код": "060000",
"Наименование": "УГРК",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=60000;<br> Наименование=УГРК<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=060000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803758");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_872)</span><div id='gateway/receive_3_podrazd1514306803758' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "060000",
"Наименование": "УГРК",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=060000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=60000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='УГРК', is_deleted=0, changed=now() where ID=060000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803765");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_872)</span><div id='gateway/jinr_setDivParents1514306803765' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=60000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=60000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УГРК' where id=60000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803765");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (13ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803758");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_872");'>Request_HR_LHEP_872 (gateway/receive) DONE! (138ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_873");'> Request_HR_LHEP_873 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_873' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27d-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114896&ClientObjectID=970000&Time=29.03.2017 14:31:55&Object={
"Код": "970000",
"Наименование": "Ремонтно-строительный участок",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=970000;<br> Наименование=Ремонтно-строительный участок<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=970000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803905");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_873)</span><div id='gateway/receive_3_podrazd1514306803905' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "970000",
"Наименование": "Ремонтно-строительный участок",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=970000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=970000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Ремонтно-строительный участок', is_deleted=0, changed=now() where ID=970000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803912");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_873)</span><div id='gateway/jinr_setDivParents1514306803912' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=970000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=970000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='РСУ' where id=970000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803912");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803905");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_873");'>Request_HR_LHEP_873 (gateway/receive) DONE! (76ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_874");'> Request_HR_LHEP_874 [26.12 19:46:43] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_874' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b23f-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114907&ClientObjectID=242000&Time=27.02.2017 15:50:36&Object={
"Код": "242000",
"Наименование": "Административно-хозяйственное подразделение Группа материально-технического снабжения",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=242000;<br> Наименование=Административно-хозяйственное подразделение Группа материально-технического снабжения<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=242000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803994");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_874)</span><div id='gateway/receive_3_podrazd1514306803994' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "242000",
"Наименование": "Административно-хозяйственное подразделение Группа материально-технического снабжения",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=242000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=242000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Административно-хозяйственное подразделение Группа материально-технического снабжения', is_deleted=0, changed=now() where ID=242000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803999");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_874)</span><div id='gateway/jinr_setDivParents1514306803999' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=242000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=242000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / АХП, гр.МТС' where id=242000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306803999");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306803994");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_874");'>Request_HR_LHEP_874 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_875");'> Request_HR_LHEP_875 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_875' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b230-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114908&ClientObjectID=241000&Time=27.02.2017 15:50:35&Object={
"Код": "241000",
"Наименование": "Административно-хозяйственное подразделение Хозяйственный отдел",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=241000;<br> Наименование=Административно-хозяйственное подразделение Хозяйственный отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=241000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804085");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_875)</span><div id='gateway/receive_3_podrazd1514306804085' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "241000",
"Наименование": "Административно-хозяйственное подразделение Хозяйственный отдел",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=241000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=241000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Административно-хозяйственное подразделение Хозяйственный отдел', is_deleted=0, changed=now() where ID=241000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804090");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_875)</span><div id='gateway/jinr_setDivParents1514306804090' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=241000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=241000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Административно-хозяйственное подразделение Хозяйственный отдел' where id=241000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804090");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804085");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_875");'>Request_HR_LHEP_875 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_876");'> Request_HR_LHEP_876 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_876' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b20a-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114912&ClientObjectID=207000&Time=27.02.2017 15:50:34&Object={
"Код": "207000",
"Наименование": "Электротехнологический отдел",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=207000;<br> Наименование=Электротехнологический отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=207000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804177");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_876)</span><div id='gateway/receive_3_podrazd1514306804177' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "207000",
"Наименование": "Электротехнологический отдел",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=207000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=207000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Электротехнологический отдел', is_deleted=0, changed=now() where ID=207000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804183");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_876)</span><div id='gateway/jinr_setDivParents1514306804183' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=207000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=207000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Электротехнологический отдел' where id=207000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804183");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804177");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_876");'>Request_HR_LHEP_876 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_877");'> Request_HR_LHEP_877 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_877' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447fa-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114919&ClientObjectID=999030&Time=27.02.2017 12:45:01&Object={
"Код": "999030",
"Наименование": "Медицинское отделение",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999030;<br> Наименование=Медицинское отделение<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804267");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_877)</span><div id='gateway/receive_3_podrazd1514306804267' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999030",
"Наименование": "Медицинское отделение",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999030
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Медицинское отделение', is_deleted=0, changed=now() where ID=999030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804273");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_877)</span><div id='gateway/jinr_setDivParents1514306804273' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Медицинское отделение' where id=999030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804273");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804267");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_877");'>Request_HR_LHEP_877 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_878");'> Request_HR_LHEP_878 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_878' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447fc-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114920&ClientObjectID=999050&Time=27.02.2017 12:45:01&Object={
"Код": "999050",
"Наименование": "Хозяйственный персонал",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999050;<br> Наименование=Хозяйственный персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804358");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_878)</span><div id='gateway/receive_3_podrazd1514306804358' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999050",
"Наименование": "Хозяйственный персонал",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999050
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Хозяйственный персонал', is_deleted=0, changed=now() where ID=999050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804364");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_878)</span><div id='gateway/jinr_setDivParents1514306804364' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999050
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Хозяйственный персонал' where id=999050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804364");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804358");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_878");'>Request_HR_LHEP_878 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_879");'> Request_HR_LHEP_879 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_879' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447f9-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114921&ClientObjectID=999020&Time=27.02.2017 12:45:00&Object={
"Код": "999020",
"Наименование": "Кухня и столовая",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999020;<br> Наименование=Кухня и столовая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804443");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_879)</span><div id='gateway/receive_3_podrazd1514306804443' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999020",
"Наименование": "Кухня и столовая",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999020
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Кухня и столовая', is_deleted=0, changed=now() where ID=999020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804448");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_879)</span><div id='gateway/jinr_setDivParents1514306804448' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Кухня и столовая' where id=999020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804448");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804443");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_879");'>Request_HR_LHEP_879 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_880");'> Request_HR_LHEP_880 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_880' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=608447fe-e2c9-11e1-a86a-e0cb4eda5b7d&GateObjectID=114918&ClientObjectID=999070&Time=27.02.2017 12:45:02&Object={
"Код": "999070",
"Наименование": "Сезонный персонал",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999070;<br> Наименование=Сезонный персонал<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999000<BR>
 Код=999070<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804529");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_880)</span><div id='gateway/receive_3_podrazd1514306804529' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999070",
"Наименование": "Сезонный персонал",
"РодительКод": "999000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999070
OLD_PID=999000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999000, name='Сезонный персонал', is_deleted=0, changed=now() where ID=999070
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804535");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_880)</span><div id='gateway/jinr_setDivParents1514306804535' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999070
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999070
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Пансионат / Сезонный персонал' where id=999070
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804535");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804529");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_880");'>Request_HR_LHEP_880 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_881");'> Request_HR_LHEP_881 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_881' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b203-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114911&ClientObjectID=243000&Time=27.02.2017 15:50:33&Object={
"Код": "243000",
"Наименование": "Административно-хозяйственное подразделение Группа кадров и делопроизводства",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=243000;<br> Наименование=Административно-хозяйственное подразделение Группа кадров и делопроизводства<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=243000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804617");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_881)</span><div id='gateway/receive_3_podrazd1514306804617' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "243000",
"Наименование": "Административно-хозяйственное подразделение Группа кадров и делопроизводства",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=243000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=243000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Административно-хозяйственное подразделение Группа кадров и делопроизводства', is_deleted=0, changed=now() where ID=243000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804623");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_881)</span><div id='gateway/jinr_setDivParents1514306804623' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=243000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=243000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Административно-хозяйственное подразделение Группа кадров и делопроизводства' where id=243000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804623");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804617");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_881");'>Request_HR_LHEP_881 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_882");'> Request_HR_LHEP_882 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_882' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b222-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114910&ClientObjectID=245000&Time=27.02.2017 15:50:35&Object={
"Код": "245000",
"Наименование": "Научно-экспериментальный отдел встречных пучков",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=245000;<br> Наименование=Научно-экспериментальный отдел встречных пучков<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=245000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804701");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_882)</span><div id='gateway/receive_3_podrazd1514306804701' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "245000",
"Наименование": "Научно-экспериментальный отдел встречных пучков",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=245000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=245000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Научно-экспериментальный отдел встречных пучков', is_deleted=0, changed=now() where ID=245000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804707");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_882)</span><div id='gateway/jinr_setDivParents1514306804707' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=245000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=245000
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел встречных пучков' where id=245000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804707");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804701");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_882");'>Request_HR_LHEP_882 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_883");'> Request_HR_LHEP_883 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_883' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b20e-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114909&ClientObjectID=208000&Time=27.02.2017 15:50:34&Object={
"Код": "208000",
"Наименование": "Конструкторский отдел",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=208000;<br> Наименование=Конструкторский отдел<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=208000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804808");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_883)</span><div id='gateway/receive_3_podrazd1514306804808' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "208000",
"Наименование": "Конструкторский отдел",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=208000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=208000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 5ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 4ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Конструкторский отдел', is_deleted=0, changed=now() where ID=208000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804820");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_883)</span><div id='gateway/jinr_setDivParents1514306804820' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=208000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=208000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Конструкторский отдел' where id=208000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804820");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804808");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_883");'>Request_HR_LHEP_883 (gateway/receive) DONE! (90ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_884");'> Request_HR_LHEP_884 [26.12 19:46:44] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_884' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=931b7cac-de17-11e6-9473-0025907d24fa&GateObjectID=114879&ClientObjectID=135020&Time=10.07.2017 08:33:32&Object={
"Код": "135020",
"Наименование": "Сектор №2 физического анализа на многоцелевом детекторе",
"РодительКод": "135000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135020;<br> Наименование=Сектор №2 физического анализа на многоцелевом детекторе<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=135000<BR>
 Код=135020<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804911");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_884)</span><div id='gateway/receive_3_podrazd1514306804911' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "135020",
"Наименование": "Сектор №2 физического анализа на многоцелевом детекторе",
"РодительКод": "135000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=135020
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=135020
OLD_PID=135000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=135000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=135000, name='Сектор №2 физического анализа на многоцелевом детекторе', is_deleted=0, changed=now() where ID=135020
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804919");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_884)</span><div id='gateway/jinr_setDivParents1514306804919' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=135020
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=135000
LEV_OLD=5</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=135000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=135020
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA / Сектор №2 физического анализа на многоцелевом детекторе' where id=135020
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306804919");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306804911");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_884");'>Request_HR_LHEP_884 (gateway/receive) DONE! (142ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_885");'> Request_HR_LHEP_885 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_885' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=79830e16-de17-11e6-9473-0025907d24fa&GateObjectID=114880&ClientObjectID=135012&Time=10.07.2017 08:33:31&Object={
"Код": "135012",
"Наименование": "Группа №2 теоретическая",
"РодительКод": "135010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135012;<br> Наименование=Группа №2 теоретическая<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=135010<BR>
 Код=135012<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805073");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_885)</span><div id='gateway/receive_3_podrazd1514306805073' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "135012",
"Наименование": "Группа №2 теоретическая",
"РодительКод": "135010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=135012
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=135012
OLD_PID=135010
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=135010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=135010, name='Группа №2 теоретическая', is_deleted=0, changed=now() where ID=135012
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805082");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_885)</span><div id='gateway/jinr_setDivParents1514306805082' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=135012
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=135010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=135010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=135012
</xmp> <b> Processed in 3ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA / Сектор №1 реконструкции ионных столкновений / Группа №2 теоретическая' where id=135012
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805082");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (14ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805073");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (24ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_885");'>Request_HR_LHEP_885 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_886");'> Request_HR_LHEP_886 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_886' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0a23ec24-0ecf-11e7-9477-0025907d24fa&GateObjectID=114878&ClientObjectID=821040&Time=16.07.2017 21:57:10&Object={
"Код": "821040",
"Наименование": "Группа №4 радиоаналитических исследований",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=821040;<br> Наименование=Группа №4 радиоаналитических исследований<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=821000<BR>
 Код=821040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805199");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_886)</span><div id='gateway/receive_3_podrazd1514306805199' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "821040",
"Наименование": "Группа №4 радиоаналитических исследований",
"РодительКод": "821000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=821040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=821040
OLD_PID=821000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=821000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=821000, name='Группа №4 радиоаналитических исследований', is_deleted=0, changed=now() where ID=821040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805207");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_886)</span><div id='gateway/jinr_setDivParents1514306805207' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=821040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=821000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=821000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=821040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='НХП ЦПФ(ЛЯР) / Научно-экспериментальный отдел прикладных исследований на пучках тяжелых ионов / Группа №4 радиоаналитических исследований' where id=821040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805207");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805199");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (18ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_886");'>Request_HR_LHEP_886 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_887");'> Request_HR_LHEP_887 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_887' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ef20c413-f0d8-11e5-9457-0025907d24fa&GateObjectID=114889&ClientObjectID=6080&Time=18.04.2017 09:04:36&Object={
"Код": "006080",
"Наименование": "Группа налогового контроля, налоговой отчетности и учета МПЗ",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6080;<br> Наименование=Группа налогового контроля, налоговой отчетности и учета МПЗ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=006000<BR>
 Код=006080<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805289");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_887)</span><div id='gateway/receive_3_podrazd1514306805289' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006080",
"Наименование": "Группа налогового контроля, налоговой отчетности и учета МПЗ",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006080
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6080
OLD_PID=6000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=006000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=006000, name='Группа налогового контроля, налоговой отчетности и учета МПЗ', is_deleted=0, changed=now() where ID=006080
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805294");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_887)</span><div id='gateway/jinr_setDivParents1514306805294' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6080
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=6000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6080
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия / Группа налогового контроля, налоговой отчетности и учета МПЗ' where id=6080
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805294");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805289");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_887");'>Request_HR_LHEP_887 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_888");'> Request_HR_LHEP_888 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_888' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=093b6f1f-f0d9-11e5-9457-0025907d24fa&GateObjectID=114888&ClientObjectID=6090&Time=18.04.2017 09:09:37&Object={
"Код": "006090",
"Наименование": "Группа финансовых операций",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=6090;<br> Наименование=Группа финансовых операций<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=006000<BR>
 Код=006090<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805377");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_888)</span><div id='gateway/receive_3_podrazd1514306805377' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "006090",
"Наименование": "Группа финансовых операций",
"РодительКод": "006000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=006090
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=6090
OLD_PID=6000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=006000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=006000, name='Группа финансовых операций', is_deleted=0, changed=now() where ID=006090
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805382");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_888)</span><div id='gateway/jinr_setDivParents1514306805382' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=6090
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=6000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=6000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=6090
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Управление / ФЭУ / Бухгалтерия / Группа финансовых операций' where id=6090
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805382");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805377");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_888");'>Request_HR_LHEP_888 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_889");'> Request_HR_LHEP_889 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_889' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=b4d3ceef-e2e5-11e1-a86a-e0cb4eda5b7d&GateObjectID=114887&ClientObjectID=607010&Time=19.04.2017 11:39:58&Object={
"Код": "607010",
"Наименование": "Сектор №1 методов моделирования физических процессов и анализа данных наблюдений",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=607010;<br> Наименование=Сектор №1 методов моделирования физических процессов и анализа данных наблюдений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=607000<BR>
 Код=607010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805461");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_889)</span><div id='gateway/receive_3_podrazd1514306805461' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "607010",
"Наименование": "Сектор №1 методов моделирования физических процессов и анализа данных наблюдений",
"РодительКод": "607000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=607010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=607010
OLD_PID=607000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=607000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=607000, name='Сектор №1 методов моделирования физических процессов и анализа данных наблюдений', is_deleted=0, changed=now() where ID=607010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805467");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_889)</span><div id='gateway/jinr_setDivParents1514306805467' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=607010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=607000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=607000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=607010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛИТ / НОВФ / Сектор №1 методов моделирования физических  процессов и анализа данных наблюдений' where id=607010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805467");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805461");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_889");'>Request_HR_LHEP_889 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_890");'> Request_HR_LHEP_890 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_890' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=a2bc97b6-d7ca-11e6-9472-0025907d24fa&GateObjectID=114886&ClientObjectID=212000&Time=21.04.2017 14:51:38&Object={
"Код": "212000",
"Наименование": "Сектор физики промежуточных энергий",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=212000;<br> Наименование=Сектор физики промежуточных энергий<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=212000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805574");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_890)</span><div id='gateway/receive_3_podrazd1514306805574' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "212000",
"Наименование": "Сектор физики промежуточных энергий",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=212000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=212000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор физики промежуточных энергий', is_deleted=0, changed=now() where ID=212000
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805582");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_890)</span><div id='gateway/jinr_setDivParents1514306805582' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=212000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=212000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор физики промежуточных энергий' where id=212000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805582");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805574");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (19ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_890");'>Request_HR_LHEP_890 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_891");'> Request_HR_LHEP_891 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_891' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=99f5f2a8-fcea-11e6-9476-0025907d24fa&GateObjectID=114890&ClientObjectID=216000&Time=14.04.2017 14:25:12&Object={
"Код": "216000",
"Наименование": "Сектор редких процессов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=216000;<br> Наименование=Сектор редких процессов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=200000<BR>
 Код=216000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805661");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_891)</span><div id='gateway/receive_3_podrazd1514306805661' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "216000",
"Наименование": "Сектор редких процессов",
"РодительКод": "200000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=216000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=216000
OLD_PID=200000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=200000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=200000, name='Сектор редких процессов', is_deleted=0, changed=now() where ID=216000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805668");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_891)</span><div id='gateway/jinr_setDivParents1514306805668' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=216000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=200000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=216000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Сектор физики мюонных молекул' where id=216000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805668");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805661");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_891");'>Request_HR_LHEP_891 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_892");'> Request_HR_LHEP_892 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_892' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=2c335af6-d740-11e6-9472-0025907d24fa&GateObjectID=114891&ClientObjectID=214002&Time=14.04.2017 14:25:11&Object={
"Код": "214002",
"Наименование": "Группа №1 физики экзотических ядерных реакций",
"РодительКод": "214040",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214002;<br> Наименование=Группа №1 физики экзотических ядерных реакций<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=214040<BR>
 Код=214002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805752");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_892)</span><div id='gateway/receive_3_podrazd1514306805752' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214002",
"Наименование": "Группа №1 физики экзотических ядерных реакций",
"РодительКод": "214040",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214002
OLD_PID=214040
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=214040 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=214040, name='Группа №1 физики экзотических ядерных реакций', is_deleted=0, changed=now() where ID=214002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805757");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_892)</span><div id='gateway/jinr_setDivParents1514306805757' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=214040
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=214040
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214002
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов / Сектор №4 исследования поведения мюонов в веществе / Группа №1 физики экзотических ядерных реакций' where id=214002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805757");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805752");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_892");'>Request_HR_LHEP_892 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_893");'> Request_HR_LHEP_893 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_893' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=29486c0f-85b5-11e4-942f-0025907d24fa&GateObjectID=114903&ClientObjectID=436000&Time=21.03.2017 14:19:28&Object={
"Код": "436000",
"Наименование": "Грант РНФ проект №14-12-00896",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=436000;<br> Наименование=Грант РНФ проект №14-12-00896<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=436000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805835");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_893)</span><div id='gateway/receive_3_podrazd1514306805835' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "436000",
"Наименование": "Грант РНФ проект №14-12-00896",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=436000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=436000
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Грант РНФ проект №14-12-00896', is_deleted=0, changed=now() where ID=436000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805841");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_893)</span><div id='gateway/jinr_setDivParents1514306805841' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=436000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=436000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Грант РНФ проект №14-12-00896' where id=436000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805841");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805835");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_893");'>Request_HR_LHEP_893 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_894");'> Request_HR_LHEP_894 [26.12 19:46:45] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_894' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b279-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114902&ClientObjectID=200000&Time=29.03.2017 14:16:55&Object={
"Код": "200000",
"Наименование": "ЛЯП",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=200000;<br> Наименование=ЛЯП<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=200000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805923");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_894)</span><div id='gateway/receive_3_podrazd1514306805923' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "200000",
"Наименование": "ЛЯП",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=200000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛЯП', is_deleted=0, changed=now() where ID=200000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805929");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_894)</span><div id='gateway/jinr_setDivParents1514306805929' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=200000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=200000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП' where id=200000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306805929");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306805923");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_894");'>Request_HR_LHEP_894 (gateway/receive) DONE! (79ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_895");'> Request_HR_LHEP_895 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_895' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b27c-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114901&ClientObjectID=500000&Time=29.03.2017 14:16:56&Object={
"Код": "500000",
"Наименование": "ЛЯР",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=500000;<br> Наименование=ЛЯР<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=500000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806011");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_895)</span><div id='gateway/receive_3_podrazd1514306806011' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "500000",
"Наименование": "ЛЯР",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=500000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛЯР', is_deleted=0, changed=now() where ID=500000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806017");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_895)</span><div id='gateway/jinr_setDivParents1514306806017' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=500000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=500000
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯР' where id=500000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806017");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806011");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_895");'>Request_HR_LHEP_895 (gateway/receive) DONE! (81ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_896");'> Request_HR_LHEP_896 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_896' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b280-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114900&ClientObjectID=100000&Time=29.03.2017 14:16:57&Object={
"Код": "100000",
"Наименование": "ЛФВЭ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=100000;<br> Наименование=ЛФВЭ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=100000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806102");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_896)</span><div id='gateway/receive_3_podrazd1514306806102' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "100000",
"Наименование": "ЛФВЭ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=100000
OLD_PID=2
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 2</b>;<br><b>Сохранен старый РодительКод=2!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=2, name='ЛФВЭ', is_deleted=0, changed=now() where ID=100000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806108");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_896)</span><div id='gateway/jinr_setDivParents1514306806108' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=100000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=2
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=100000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ' where id=100000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806108");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806102");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_896");'>Request_HR_LHEP_896 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_897");'> Request_HR_LHEP_897 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_897' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=0adb6316-4437-11e7-947c-0025907d24fa&GateObjectID=114885&ClientObjectID=999216&Time=29.05.2017 09:22:58&Object={
"Код": "999216",
"Наименование": "Грант РНФ проект №17-12-01540",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999216;<br> Наименование=Грант РНФ проект №17-12-01540<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=400000<BR>
 Код=999216<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806185");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_897)</span><div id='gateway/receive_3_podrazd1514306806185' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999216",
"Наименование": "Грант РНФ проект №17-12-01540",
"РодительКод": "400000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999216
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999216
OLD_PID=400000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=400000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=400000, name='Грант РНФ проект №17-12-01540', is_deleted=0, changed=now() where ID=999216
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806191");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_897)</span><div id='gateway/jinr_setDivParents1514306806191' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999216
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=400000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=400000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999216
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Грант РНФ проект №17-12-01540' where id=999216
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806191");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (7ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806185");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (13ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_897");'>Request_HR_LHEP_897 (gateway/receive) DONE! (73ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_898");'> Request_HR_LHEP_898 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_898' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=fb62b287-d7c1-11e1-bad5-e0cb4eda5b1f&GateObjectID=114899&ClientObjectID=950000&Time=29.03.2017 14:26:55&Object={
"Код": "950000",
"Наименование": "Отдел главного энергетика",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=950000;<br> Наименование=Отдел главного энергетика<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=950000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806284");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_898)</span><div id='gateway/receive_3_podrazd1514306806284' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "950000",
"Наименование": "Отдел главного энергетика",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=950000
OLD_PID=3
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<b>РодительКод: 0 => 3</b>;<br><b>Сохранен старый РодительКод=3!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=3, name='Отдел главного энергетика', is_deleted=0, changed=now() where ID=950000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806293");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_898)</span><div id='gateway/jinr_setDivParents1514306806293' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=950000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=3
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=950000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ОГЭ' where id=950000
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806293");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806284");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (20ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_898");'>Request_HR_LHEP_898 (gateway/receive) DONE! (87ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_899");'> Request_HR_LHEP_899 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_899' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=17113c4d-d73f-11e6-9472-0025907d24fa&GateObjectID=114893&ClientObjectID=214030&Time=14.04.2017 14:25:09&Object={
"Код": "214030",
"Наименование": "Сектор №3 физики редких и запрещенных распадов пионов и мюонов",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214030;<br> Наименование=Сектор №3 физики редких и запрещенных распадов пионов и мюонов<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=214000<BR>
 Код=214030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806479");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_899)</span><div id='gateway/receive_3_podrazd1514306806479' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214030",
"Наименование": "Сектор №3 физики редких и запрещенных распадов пионов и мюонов",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214030
OLD_PID=214000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=214000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=214000, name='Сектор №3 физики редких и запрещенных распадов пионов и мюонов', is_deleted=0, changed=now() where ID=214030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806487");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_899)</span><div id='gateway/jinr_setDivParents1514306806487' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=214000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214030
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов / Сектор №3 физики редких и запрещенных распадов пионов и мюонов' where id=214030
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806487");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (15ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806479");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (23ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_899");'>Request_HR_LHEP_899 (gateway/receive) DONE! (93ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_900");'> Request_HR_LHEP_900 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_900' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=9462e1a2-d73f-11e6-9472-0025907d24fa&GateObjectID=114892&ClientObjectID=214040&Time=14.04.2017 14:25:10&Object={
"Код": "214040",
"Наименование": "Сектор №4 исследования поведения мюонов в веществе",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=214040;<br> Наименование=Сектор №4 исследования поведения мюонов в веществе<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=214000<BR>
 Код=214040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806589");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_900)</span><div id='gateway/receive_3_podrazd1514306806589' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "214040",
"Наименование": "Сектор №4 исследования поведения мюонов в веществе",
"РодительКод": "214000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=214040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=214040
OLD_PID=214000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=214000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=214000, name='Сектор №4 исследования поведения мюонов в веществе', is_deleted=0, changed=now() where ID=214040
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806595");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_900)</span><div id='gateway/jinr_setDivParents1514306806595' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=214040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=214000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=214000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=214040
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛЯП / Научно-экспериментальный отдел множественных адронных процессов / Сектор №4 исследования поведения мюонов в веществе' where id=214040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806595");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806589");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_900");'>Request_HR_LHEP_900 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_901");'> Request_HR_LHEP_901 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_901' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=1730aec1-de17-11e6-9473-0025907d24fa&GateObjectID=114882&ClientObjectID=135010&Time=10.07.2017 08:33:29&Object={
"Код": "135010",
"Наименование": "Сектор №1 реконструкции ионных столкновений",
"РодительКод": "135000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135010;<br> Наименование=Сектор №1 реконструкции ионных столкновений<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=135000<BR>
 Код=135010<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806682");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_901)</span><div id='gateway/receive_3_podrazd1514306806682' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "135010",
"Наименование": "Сектор №1 реконструкции ионных столкновений",
"РодительКод": "135000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=135010
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=135010
OLD_PID=135000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=135000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=135000, name='Сектор №1 реконструкции ионных столкновений', is_deleted=0, changed=now() where ID=135010
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806688");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_901)</span><div id='gateway/jinr_setDivParents1514306806688' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=135010
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=135000
LEV_OLD=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=135000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=135010
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA / Сектор №1 реконструкции ионных столкновений' where id=135010
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806688");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806682");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_901");'>Request_HR_LHEP_901 (gateway/receive) DONE! (84ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_902");'> Request_HR_LHEP_902 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_902' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=673283c8-de17-11e6-9473-0025907d24fa&GateObjectID=114881&ClientObjectID=135011&Time=10.07.2017 08:33:30&Object={
"Код": "135011",
"Наименование": "Группа №1 программной поддержки",
"РодительКод": "135010",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135011;<br> Наименование=Группа №1 программной поддержки<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=135010<BR>
 Код=135011<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806776");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_902)</span><div id='gateway/receive_3_podrazd1514306806776' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "135011",
"Наименование": "Группа №1 программной поддержки",
"РодительКод": "135010",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=135011
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=135011
OLD_PID=135010
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=135010 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=135010, name='Группа №1 программной поддержки', is_deleted=0, changed=now() where ID=135011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806782");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_902)</span><div id='gateway/jinr_setDivParents1514306806782' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=135011
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=135010
LEV_OLD=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=135010
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=135011
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA / Сектор №1 реконструкции ионных столкновений / Группа №1 программной поддержки' where id=135011
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806782");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806776");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_902");'>Request_HR_LHEP_902 (gateway/receive) DONE! (75ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_903");'> Request_HR_LHEP_903 [26.12 19:46:46] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_903' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=6bed744d-8242-11e2-93f0-0025907d24fa&GateObjectID=114884&ClientObjectID=406040&Time=06.06.2017 16:50:53&Object={
"Код": "406040",
"Наименование": "Группа №4 окружения образца и прерывателей",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=406040;<br> Наименование=Группа №4 окружения образца и прерывателей<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=406000<BR>
 Код=406040<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806894");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_903)</span><div id='gateway/receive_3_podrazd1514306806894' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "406040",
"Наименование": "Группа №4 окружения образца и прерывателей",
"РодительКод": "406000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=406040
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=406040
OLD_PID=406000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=406000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=406000, name='Группа №4 окружения образца и прерывателей', is_deleted=0, changed=now() where ID=406040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806900");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_903)</span><div id='gateway/jinr_setDivParents1514306806900' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=406040
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=406000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=406000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=406040
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение нейтронных исследований и разработок в области конденсированных сред / Научно-экспериментальный отдел комплекса спектрометров ИБР-2 / Группа №4 окружения образца и прерывателй' where id=406040
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306806900");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306806894");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_903");'>Request_HR_LHEP_903 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_904");'> Request_HR_LHEP_904 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_904' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=f1fde6d8-de16-11e6-9473-0025907d24fa&GateObjectID=114883&ClientObjectID=135000&Time=10.07.2017 08:33:17&Object={
"Код": "135000",
"Наименование": "Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=130000<BR>
 Код=135000<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807012");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_904)</span><div id='gateway/receive_3_podrazd1514306807012' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "135000",
"Наименование": "Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA",
"РодительКод": "130000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=135000
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=135000
OLD_PID=130000
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=130000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=130000, name='Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', is_deleted=0, changed=now() where ID=135000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807019");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_904)</span><div id='gateway/jinr_setDivParents1514306807019' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=135000
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=130000
LEV_OLD=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=130000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=135000
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛФВЭ / Отделение №3 Физики адронов / Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA' where id=135000
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807019");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807012");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_904");'>Request_HR_LHEP_904 (gateway/receive) DONE! (82ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_905");'> Request_HR_LHEP_905 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_905' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=126957&GateObjectID=131626&ClientObjectID=135000&Time=08.12.2017 11:55:46&Object={
"Код": "655999",
"Наименование": "СЕТИ (ЛИТ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=СЕТИ (ЛИТ)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=655999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807117");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_905)</span><div id='gateway/receive_3_podrazd1514306807117' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "655999",
"Наименование": "СЕТИ (ЛИТ)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=655999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=655999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='СЕТИ (ЛИТ)', is_deleted=0, changed=now() where ID=655999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807123");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_905)</span><div id='gateway/jinr_setDivParents1514306807123' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=655999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=655999
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / СЕТИ (ЛИТ)' where id=655999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807123");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (9ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807117");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (15ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_905");'>Request_HR_LHEP_905 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_906");'> Request_HR_LHEP_906 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_906' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=46374&GateObjectID=131625&ClientObjectID=135000&Time=05.12.2017 20:54:50&Object={
"Код": "032070",
"Наименование": "Отдел научно-образовательных проектов и программ",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=Отдел научно-образовательных проектов и программ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=032000<BR>
 Код=032070<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807205");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_906)</span><div id='gateway/receive_3_podrazd1514306807205' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "032070",
"Наименование": "Отдел научно-образовательных проектов и программ",
"РодительКод": "032000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=032070
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=32070
OLD_PID=32000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=032000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=032000, name='Отдел научно-образовательных проектов и программ', is_deleted=0, changed=now() where ID=032070
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807211");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_906)</span><div id='gateway/jinr_setDivParents1514306807211' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=32070
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=32000
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=32000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=32070
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='УНЦ / Отдел научно - образовательных проектов и программ' where id=32070
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807211");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (11ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807205");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (17ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_906");'>Request_HR_LHEP_906 (gateway/receive) DONE! (80ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_907");'> Request_HR_LHEP_907 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_907' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=115358&GateObjectID=131630&ClientObjectID=135000&Time=19.12.2017 09:44:26&Object={
"Код": "064052",
"Наименование": "Общежитие №2",
"РодительКод": "064050",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=Общежитие №2<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=064050<BR>
 Код=064052<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807306");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_907)</span><div id='gateway/receive_3_podrazd1514306807306' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "064052",
"Наименование": "Общежитие №2",
"РодительКод": "064050",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=064052
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=64052
OLD_PID=64050
is_manual=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=064050 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=064050, name='Общежитие №2', is_deleted=0, changed=now() where ID=064052
</xmp> DONE! 1 record(s) affected------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807316");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_907)</span><div id='gateway/jinr_setDivParents1514306807316' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=64052
</xmp><xmp>***** 0 record(s) retrieved. Filled 0 parameters: </xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=
</xmp>XXXXXXXX Exception: java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1; SQL: 'select level+1 as "LEV" from info_10 where id='<BR>
XXXXXXXX FATAL Exception - QUIT <BR>
 SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=64052
</xmp> <b> Processed in 3ms. </b><br> <b> NumTableRows=0; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807316");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (12ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807306");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (23ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=3; ERROR=java.sql.SQLException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near `` at line 1; SQL: `select level+1 as "LEV" from info_10 where id=`; <br>+++++<b>$INCLUDE </b>gateway/receive[ERROR]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_907");'>Request_HR_LHEP_907 (gateway/receive) DONE! (89ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_908");'> Request_HR_LHEP_908 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_908' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=114876&GateObjectID=131629&ClientObjectID=135000&Time=16.12.2017 09:06:23&Object={
"Код": "405030",
"Наименование": "Группа нейтронного активационного анализа",
"РодительКод": "405000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=Группа нейтронного активационного анализа<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=405000<BR>
 Код=405030<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807404");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_908)</span><div id='gateway/receive_3_podrazd1514306807404' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "405030",
"Наименование": "Группа нейтронного активационного анализа",
"РодительКод": "405000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=405030
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=405030
OLD_PID=405000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=405000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=405000, name='Группа нейтронного активационного анализа', is_deleted=0, changed=now() where ID=405030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807410");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_908)</span><div id='gateway/jinr_setDivParents1514306807410' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=405030
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=405000
LEV_OLD=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=405000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=405030
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛНФ / Отделение ядерной физики / Установка ИРЕН / Группа нейтронного активационного анализа' where id=405030
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807410");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807404");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_908");'>Request_HR_LHEP_908 (gateway/receive) DONE! (72ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_909");'> Request_HR_LHEP_909 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_909' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=128846&GateObjectID=131628&ClientObjectID=135000&Time=15.12.2017 15:12:27&Object={
"Код": "311050",
"Наименование": "Сектор №3 физики наноструктур",
"РодительКод": "311000",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=Сектор №3 физики наноструктур<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=311000<BR>
 Код=311050<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807500");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_909)</span><div id='gateway/receive_3_podrazd1514306807500' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "311050",
"Наименование": "Сектор №3 физики наноструктур",
"РодительКод": "311000",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=311050
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=311050
OLD_PID=311000
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=311000 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=311000, name='Сектор №3 физики наноструктур', is_deleted=0, changed=now() where ID=311050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807506");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_909)</span><div id='gateway/jinr_setDivParents1514306807506' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=311050
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=311000
LEV_OLD=4</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=311000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=311050
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='ЛТФ / Научный отдел теории конденсированных сред / Сектор №3 физики наноструктур' where id=311050
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807506");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (8ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807500");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (14ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_909");'>Request_HR_LHEP_909 (gateway/receive) DONE! (77ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_910");'> Request_HR_LHEP_910 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_910' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=126962&GateObjectID=131627&ClientObjectID=135000&Time=08.12.2017 12:00:44&Object={
"Код": "515999",
"Наименование": "Установка ДЦ-280 (ЛЯР)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=135000;<br> Наименование=Установка ДЦ-280 (ЛЯР)<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=999999<BR>
 Код=515999<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807599");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_910)</span><div id='gateway/receive_3_podrazd1514306807599' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "515999",
"Наименование": "Установка ДЦ-280 (ЛЯР)",
"РодительКод": "999999",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=515999
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=515999
OLD_PID=999999
is_manual=0</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=999999 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=999999, name='Установка ДЦ-280 (ЛЯР)', is_deleted=0, changed=now() where ID=515999
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807605");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_910)</span><div id='gateway/jinr_setDivParents1514306807605' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=515999
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=999999
LEV_OLD=3</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=999999
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=515999
</xmp> <b> Processed in 2ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Базовые установки / Установка ДЦ-280 (ЛЯР)' where id=515999
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807605");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807599");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_910");'>Request_HR_LHEP_910 (gateway/receive) DONE! (78ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_911");'> Request_HR_LHEP_911 [26.12 19:46:47] : 159.93.33.203 c=gateway/receive</span><div id='Request_HR_LHEP_911' class='req'> queryString:c=gateway/receive&Ver=1&ClientID=1&Command=PutObject&ObjectType=3&SrcObjectID=ec8f0323-88d8-11e3-9407-0025907d24fa&GateObjectID=353&ClientObjectID=999002&Time=27.02.2017 12:38:43&Object={
"Код": "999002",
"Наименование": "Закрытие инфраструктуры ОИЯИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
}; log=true; session inactive=min;<br><hr><p style="color:red;"> [log request]  </p>  <br>gateway/receive.cfg: ClientID=1; Command=PutObject; ObjectType=3; ObjectID=; GlobalID=; ClientObjectID=999002;<br> Наименование=Закрытие инфраструктуры ОИЯИ<BR>
 ПометкаУдаления=Нет<BR>
 РодительКод=<BR>
 Код=999002<BR>
* JSON Keys=Наименование, ПометкаУдаления, РодительКод, Код<BR>
<hr>----- gateway/receive.cfg[process request] <br>---------- Command=PutObject;<br>+++++<b>$INCLUDE </b>[process receive]<BR>
log <p style="color:red;"> [process receive]  </p>  <br><hr>gateway/receive.cfg[process receive] ObjectType=3<br><br><span class='ss_start pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807695");'> $CALL_SERVICE: <b>gateway/receive.cfg => gateway/receive_3_podrazd</b> (request:HR_LHEP_911)</span><div id='gateway/receive_3_podrazd1514306807695' class='ss'><hr><b>===>>> receive_3_podrazd.cfg</b><br>object={
"Код": "999002",
"Наименование": "Закрытие инфраструктуры ОИЯИ",
"РодительКод": "",
"ПометкаУдаления": "Нет"
};<br><br> <b>SQL: [[check existing record] (1) ]:</b><xmp>select 'Y' as REC_EXISTS, id as REC_ID, pid as "OLD_PID", is_manual from struktura
where ID=999002
</xmp><xmp>***** 1 record(s) retrieved. Filled 4 parameters: 
REC_EXISTS=Y
REC_ID=999002
OLD_PID=1000000
is_manual=1</xmp>------ SQL done, 1ms.<br><BR>
<b>$INCLUDE </b>[PutObject]<BR>
<br> <b>SQL: [[check parent] (1) ]:</b><xmp>select 'Y' as "PARENT_EXISTS"
from struktura
where ID=0 and is_deleted=0
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
PARENT_EXISTS=Y</xmp>------ SQL done, 1ms.<br><BR>
<b>РодительКод: 0 => 1000000</b>;<br><b>Сохранен старый РодительКод=1000000!</b>;<br><br> <b>SQL: [[update record] (1) ]:</b><xmp>update struktura set pid=1000000, name='Закрытие инфраструктуры ОИЯИ', is_deleted=0, changed=now() where ID=999002
</xmp> DONE! 1 record(s) affected------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[update record] (2) ]:</b><xmp></xmp><br><span class='ss_start pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807701");'> $CALL_SERVICE: <b>gateway/receive_3_podrazd.cfg => gateway/jinr_setDivParents</b> (request:HR_LHEP_911)</span><div id='gateway/jinr_setDivParents1514306807701' class='ss'><br> <b>SQL: [[setNodeLevel] (1) ]:</b><xmp>select pid, level as LEV_OLD from info_10 where id=999002
</xmp><xmp>***** 1 record(s) retrieved. Filled 2 parameters: 
pid=1000000
LEV_OLD=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (2) ]:</b><xmp>select level+1 as "LEV" from info_10 where id=1000000
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
LEV=2</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[setNodeLevel] (3) ]:</b><xmp></xmp> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select id, path as "PATH"
from
(select i1.id, i1.pid, i1.name, i1.short_name, i1.level
, concat(
ifnull(concat(i5.short_name, ' / '),'')
, ifnull(concat(i4.short_name, ' / '),'')
, ifnull(concat(i3.short_name, ' / '),'')
, ifnull(concat(i2.short_name, ' / '),'')
, i1.short_name) as "PATH"
, i1.changed
, i1.is_deleted
, i1.is_manual
from info_10 i1
left join info_10 i2 on (i2.id=i1.pid and i2.id>4)
left join info_10 i3 on (i3.id=i2.pid and i3.id>4)
left join info_10 i4 on (i4.id=i3.pid and i4.id>4)
left join info_10 i5 on (i5.id=i4.pid and i5.id>4)
) vw
where vw.id=999002
</xmp> <b> Processed in 1ms. </b><br><br> <b>SQL: [[updateNode] (1) ]:</b><xmp>try: update info_10 set path='Прочее / Закрытие инфраструктуры ОИЯИ' where id=999002
</xmp> DONE! 1 record(s) affected------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[updateNode] (2) ]:</b><xmp></xmp> <b> NumTableRows=1; </b><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/jinr_setDivParents1514306807701");'> BACK: <b>gateway/jinr_setDivParents => gateway/receive_3_podrazd.cfg; (10ms.)</b></span><BR>
</div><span class='ss_back pt'  onClick='toggleDiv("gateway/receive_3_podrazd1514306807695");'> BACK: <b>gateway/receive_3_podrazd => gateway/receive.cfg; (16ms.)</b></span><BR>
<hr>----- gateway/receive.cfg[report]: ERR_CODE=0; ERROR=; <br>+++++<b>$INCLUDE </b>gateway/receive[OK]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_911");'>Request_HR_LHEP_911 (gateway/receive) DONE! (85ms)</span> <BR>
