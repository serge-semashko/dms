<html>
    <head>
        <title>HR LHEP Log</title>
        <META http-equiv=Content-Type content="text/html; charset=utf-8">
        <style>
            body{background-color:#eefff4;}
            xmp {margin:0;} 
            .pt {cursor:pointer;} 
            span.req_start {border:solid 1px red; font-weight:bold; background-color:#FFFFA0;}
            span.req_end {border:solid 1px red; font-weight:bold; background-color:#D0FFB0;}
            div.req {display:none; border:solid 1px red; padding:4px; background-color:white;}

            span.ss_start {border:solid 1px red; background-color:#D0E8FF;}
            span.ss_back {border:solid 1px blue; background-color:#D0FFB0;}
            div.ss {display:none; border:solid 1px green; border-right:none; padding:6px; margin-left:5px;}
        </style>
        <script type="text/javascript">
            var toggleDiv = function (id) {
                var d = document.getElementById(id);
                if (d.style.display === "block")
                    d.style.display = "none";
                else
                    d.style.display = "block";
            };
        </script>
    </head><body>
<b>$INCLUDE </b>[report_]<BR>
<br> <b>SQL: [[read file] (1) ]:</b><xmp>read file: HR_LOG_12_26_21.html maxLength=500000
</xmp>------ SQL done, 0ms.<br><BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1206");'> Request_HR_LHEP_1206 [26.12 21:01:53] 2309: 0:0:0:0:0:0:0:1 c=tab_premii</span><div id='Request_HR_LHEP_1206' class='req'> queryString:c=tab_premii&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 18ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 14ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 3ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514311313667");'> $CALL_SERVICE: <b>tab_premii.cfg => fill_otdel</b> (request:HR_LHEP_1206)</span><div id='fill_otdel1514311313667' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514311313667");'> BACK: <b>fill_otdel => tab_premii.cfg; (7ms.)</b></span><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_premii_table1514311313679");'> $CALL_SERVICE: <b>tab_premii.cfg => tab_premii_table</b> (request:HR_LHEP_1206)</span><div id='tab_premii_table1514311313679' class='ss'><br> <b>SQL: [[define month] (1) ]:</b><xmp>select month(now()) as edit_month
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
edit_month=12</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[define month] (2) ]:</b><xmp></xmp>lookup_date!!!!!!   month(now()) 12<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_POST
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_POST=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post
, sotr.division, sotr.category,
(select
sum(ifnull(premii.istochnik1,0) + ifnull(premii.istochnik2,0) +
ifnull(premii.istochnik3,0) + ifnull(premii.istochnik4,0)+ ifnull(premii.istochnik5,0) +
ifnull(premii.istochnik6,0))
from premii where premii.tab_n = sotr.tab_n and premii.year = year(now())) as summa_year,
(select sum(ifnull(premii.istochnik1,0) + ifnull(premii.istochnik2,0) + ifnull(premii.istochnik3,0) +
ifnull(premii.istochnik4,0)+ ifnull(premii.istochnik5,0) + ifnull(premii.istochnik6,0))
from premii where premii.tab_n = sotr.tab_n and premii.year = year(now()) and premii.month = month(now())
) as summa_month,
ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 40ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_premii_table1514311313679");'> BACK: <b>tab_premii_table => tab_premii.cfg; (231ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1206");'>Request_HR_LHEP_1206 (tab_premii) DONE! (411ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1207");'> Request_HR_LHEP_1207 [26.12 21:01:55] 2309: 0:0:0:0:0:0:0:1 c=edit/premiya</span><div id='Request_HR_LHEP_1207' class='req'> queryString:c=edit/premiya&tab_n=17914&month=12&ajax=Y; log=true; session inactive=min;<br><br> <b>SQL: [[istochnik titles] (1) ]:</b><xmp>select name as istochnik1_title from istochniki where id=1
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
istochnik1_title=Источник 1</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[istochnik titles] (2) ]:</b><xmp>select name as istochnik2_title  from istochniki where id=2
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
istochnik2_title=Источник 2</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[istochnik titles] (3) ]:</b><xmp>select name as istochnik3_title  from istochniki where id=3
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
istochnik3_title=Источник 3</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[istochnik titles] (4) ]:</b><xmp>select name as istochnik4_title  from istochniki where id=4
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
istochnik4_title=Источник 4</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[istochnik titles] (5) ]:</b><xmp>select name as istochnik5_title  from istochniki where id=5
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
istochnik5_title=Источник 5</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[istochnik titles] (6) ]:</b><xmp>select name as istochnik6_title  from istochniki where id=6
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
istochnik6_title=Источник 6</xmp>------ SQL done, 1ms.<br><BR>
<br> <b>SQL: [[istochnik titles] (7) ]:</b><xmp></xmp><br> <b>SQL: [[getRecord] (1) ]:</b><xmp>select sotr.FIO, sotr.tab_n
, premii.istochnik1, premii.istochnik2, premii.istochnik3
, premii.istochnik4, premii.istochnik5, premii.istochnik6
, ifnull(premii.istochnik1,0)+ifnull(premii.istochnik2,0)+ifnull(premii.istochnik3,0)
+ifnull(premii.istochnik4,0)+ifnull(premii.istochnik5,0)+ ifnull(premii.istochnik6,0) summa
from sotrudniki sotr
left join premii on sotr.tab_n=premii.tab_n  and premii.year=year(now())and premii.month=12
where sotr.tab_n=17914
</xmp><xmp>***** 1 record(s) retrieved. Filled 3 parameters: 
FIO=Абраамян Хачик Унанович
tab_n=17914
summa=0</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[month]</tr><BR>
<b>$INCLUDE </b>[view form]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1207");'>Request_HR_LHEP_1207 (edit/premiya) DONE! (100ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1208");'> Request_HR_LHEP_1208 [26.12 21:02:1] 2309: 0:0:0:0:0:0:0:1 c=tab_povysh</span><div id='Request_HR_LHEP_1208' class='req'> queryString:c=tab_povysh&ajax=Y; log=true; session inactive=min;<br><br><span class='ss_start pt'  onClick='toggleDiv("tab_povysh_table1514311321591");'> $CALL_SERVICE: <b>tab_povysh.cfg => tab_povysh_table</b> (request:HR_LHEP_1208)</span><div id='tab_povysh_table1514311321591' class='ss'> SQL: [SQL]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel
, sotr.division, sotr.post, sotr.category, oklad.year, oklad.koef
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim,0)+ifnull(oklad.sovmeshenie,0) itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 37ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_povysh_table1514311321591");'> BACK: <b>tab_povysh_table => tab_povysh.cfg; (209ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1208");'>Request_HR_LHEP_1208 (tab_povysh) DONE! (309ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1209");'> Request_HR_LHEP_1209 [26.12 21:02:2] 2309: 0:0:0:0:0:0:0:1 c=edit/povysh</span><div id='Request_HR_LHEP_1209' class='req'> queryString:c=edit/povysh&tab_n=17914&ajax=Y; log=true; session inactive=min;<br><br> <b>SQL: [[getRecord] (1) ]:</b><xmp>select sotr.FIO, sotr.tab_n
, oklad.oklad, oklad.kompens, oklad.personal_nadbav, oklad.koef
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.koef,0) new
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where sotr.tab_n=17914
</xmp><xmp>***** 1 record(s) retrieved. Filled 5 parameters: 
FIO=Абраамян Хачик Унанович
tab_n=17914
oklad=37450
kompens=3530
new=37450.00</xmp>------ SQL done, 2ms.<br><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1209");'>Request_HR_LHEP_1209 (edit/povysh) DONE! (91ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1210");'> Request_HR_LHEP_1210 [26.12 21:02:34] 2309: 0:0:0:0:0:0:0:1 c=tab_reports</span><div id='Request_HR_LHEP_1210' class='req'> queryString:c=tab_reports&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 18ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 14ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 2ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514311354957");'> $CALL_SERVICE: <b>tab_reports.cfg => fill_otdel</b> (request:HR_LHEP_1210)</span><div id='fill_otdel1514311354957' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514311354957");'> BACK: <b>fill_otdel => tab_reports.cfg; (10ms.)</b></span><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_reports_chart1514311354974");'> $CALL_SERVICE: <b>tab_reports.cfg => tab_reports_chart</b> (request:HR_LHEP_1210)</span><div id='tab_reports_chart1514311354974' class='ss'><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 362 record(s) affected------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 81ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option> SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 60ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_reports_chart1514311354974");'> BACK: <b>tab_reports_chart => tab_reports.cfg; (1080ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1210");'>Request_HR_LHEP_1210 (tab_reports) DONE! (1309ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1211");'> Request_HR_LHEP_1211 [26.12 21:02:39] 2309: 0:0:0:0:0:0:0:1 c=tab_premii</span><div id='Request_HR_LHEP_1211' class='req'> queryString:c=tab_premii&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 26ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 14ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 3ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514311360082");'> $CALL_SERVICE: <b>tab_premii.cfg => fill_otdel</b> (request:HR_LHEP_1211)</span><div id='fill_otdel1514311360082' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514311360082");'> BACK: <b>fill_otdel => tab_premii.cfg; (12ms.)</b></span><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_premii_table1514311360105");'> $CALL_SERVICE: <b>tab_premii.cfg => tab_premii_table</b> (request:HR_LHEP_1211)</span><div id='tab_premii_table1514311360105' class='ss'><br> <b>SQL: [[define month] (1) ]:</b><xmp>select month(now()) as edit_month
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
edit_month=12</xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [[define month] (2) ]:</b><xmp></xmp>lookup_date!!!!!!   month(now()) 12<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_POST
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_POST=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 15ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post
, sotr.division, sotr.category,
(select
sum(ifnull(premii.istochnik1,0) + ifnull(premii.istochnik2,0) +
ifnull(premii.istochnik3,0) + ifnull(premii.istochnik4,0)+ ifnull(premii.istochnik5,0) +
ifnull(premii.istochnik6,0))
from premii where premii.tab_n = sotr.tab_n and premii.year = year(now())) as summa_year,
(select sum(ifnull(premii.istochnik1,0) + ifnull(premii.istochnik2,0) + ifnull(premii.istochnik3,0) +
ifnull(premii.istochnik4,0)+ ifnull(premii.istochnik5,0) + ifnull(premii.istochnik6,0))
from premii where premii.tab_n = sotr.tab_n and premii.year = year(now()) and premii.month = month(now())
) as summa_month,
ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 37ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_premii_table1514311360105");'> BACK: <b>tab_premii_table => tab_premii.cfg; (223ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1211");'>Request_HR_LHEP_1211 (tab_premii) DONE! (426ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1212");'> Request_HR_LHEP_1212 [26.12 21:04:57] 2309: 0:0:0:0:0:0:0:1 c=tab_premii_table</span><div id='Request_HR_LHEP_1212' class='req'> queryString:c=tab_premii_table&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><br> <b>SQL: [[define month] (1) ]:</b><xmp>select month(now()) as edit_month
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
edit_month=12</xmp>------ SQL done, 2ms.<br><BR>
<br> <b>SQL: [[define month] (2) ]:</b><xmp></xmp>lookup_date!!!!!!   month(now()) 12<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_POST
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_POST=37124418.00</xmp>------ SQL done, 15ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 14ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.otdel, sotr.post
, sotr.division, sotr.category,
(select
sum(ifnull(premii.istochnik1,0) + ifnull(premii.istochnik2,0) +
ifnull(premii.istochnik3,0) + ifnull(premii.istochnik4,0)+ ifnull(premii.istochnik5,0) +
ifnull(premii.istochnik6,0))
from premii where premii.tab_n = sotr.tab_n and premii.year = year(now())) as summa_year,
(select sum(ifnull(premii.istochnik1,0) + ifnull(premii.istochnik2,0) + ifnull(premii.istochnik3,0) +
ifnull(premii.istochnik4,0)+ ifnull(premii.istochnik5,0) + ifnull(premii.istochnik6,0))
from premii where premii.tab_n = sotr.tab_n and premii.year = year(now()) and premii.month = month(now())
) as summa_month,
ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as SUM_oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 41ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1212");'>Request_HR_LHEP_1212 (tab_premii_table) DONE! (338ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1213");'> Request_HR_LHEP_1213 [26.12 21:04:59] 2309: 0:0:0:0:0:0:0:1 c=tab_reports</span><div id='Request_HR_LHEP_1213' class='req'> queryString:c=tab_reports&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 18ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 2ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514311500060");'> $CALL_SERVICE: <b>tab_reports.cfg => fill_otdel</b> (request:HR_LHEP_1213)</span><div id='fill_otdel1514311500060' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514311500060");'> BACK: <b>fill_otdel => tab_reports.cfg; (9ms.)</b></span><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_reports_chart1514311500075");'> $CALL_SERVICE: <b>tab_reports.cfg => tab_reports_chart</b> (request:HR_LHEP_1213)</span><div id='tab_reports_chart1514311500075' class='ss'><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 72ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option> SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 58ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_reports_chart1514311500075");'> BACK: <b>tab_reports_chart => tab_reports.cfg; (1062ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1213");'>Request_HR_LHEP_1213 (tab_reports) DONE! (1279ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1214");'> Request_HR_LHEP_1214 [26.12 21:09:38] 2309: 0:0:0:0:0:0:0:1 c=tab_salary</span><div id='Request_HR_LHEP_1214' class='req'> queryString:c=tab_salary&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 17ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 14ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 10ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 3ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514311779077");'> $CALL_SERVICE: <b>tab_salary.cfg => fill_otdel</b> (request:HR_LHEP_1214)</span><div id='fill_otdel1514311779077' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514311779077");'> BACK: <b>fill_otdel => tab_salary.cfg; (13ms.)</b></span><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_salary_table1514311779099");'> $CALL_SERVICE: <b>tab_salary.cfg => tab_salary_table</b> (request:HR_LHEP_1214)</span><div id='tab_salary_table1514311779099' class='ss'><b>$INCLUDE </b>[total table]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 56ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_salary_table1514311779099");'> BACK: <b>tab_salary_table => tab_salary.cfg; (305ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1214");'>Request_HR_LHEP_1214 (tab_salary) DONE! (499ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1215");'> Request_HR_LHEP_1215 [26.12 21:09:41] 2309: 0:0:0:0:0:0:0:1 c=main</span><div id='Request_HR_LHEP_1215' class='req'> queryString:c=main; log=true; session inactive=min;<br>====== main.cfg; <br><b>$INCLUDE </b>main.cfg[top]<BR>
<b>$INCLUDE </b>dat/common.dat[head]<BR>
<b>$INCLUDE </b>free/main_css_noDB.cfg[css]<BR>
<b>$INCLUDE </b>free/main_css_noDB.cfg[report]<BR>
<b>$INCLUDE </b>free/main_js_noDB.cfg[js]<BR>
<b>$INCLUDE </b>free/main_js_noDB.cfg[report]<BR>
<b>$INCLUDE </b>free/js_tabs.dat[report]<BR>
<b>$INCLUDE </b>free/js_forms.dat[report]<BR>
<b>$INCLUDE </b>free/js_jQuery.dat[report]<BR>
<b>$INCLUDE </b>free/js_popup.dat[report]<BR>
<b>$INCLUDE </b>free/js_service.dat[report]<BR>
<b>$INCLUDE </b>free/js_CallModule.dat[report]<BR>
<b>$INCLUDE </b>dat/common.dat[scripts]<BR>
<b>$INCLUDE </b>dat/common.dat[form]<BR>
<b>$INCLUDE </b>main.cfg[tabs]<BR>
<b>$INCLUDE </b>main.cfg[bottom]<BR>
<b>$INCLUDE </b>main.cfg[logged bottom]<BR>
<b>$INCLUDE </b>dat/common.dat[popup divs]<BR>
<b>$INCLUDE </b>dat/debugTools.dat[debug links]<BR>
<b>$INCLUDE </b>dat/debugTools.dat[play]<BR>
<b>$INCLUDE </b>free/main_js_noDB.cfg[startup script]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1215");'>Request_HR_LHEP_1215 (main) DONE! (181ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1216");'> Request_HR_LHEP_1216 [26.12 21:09:41] 2309: 0:0:0:0:0:0:0:1 c=tab_personal</span><div id='Request_HR_LHEP_1216' class='req'> queryString:c=tab_personal&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 18ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 15ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 3ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 3ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514311781710");'> $CALL_SERVICE: <b>tab_personal.cfg => fill_otdel</b> (request:HR_LHEP_1216)</span><div id='fill_otdel1514311781710' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514311781710");'> BACK: <b>fill_otdel => tab_personal.cfg; (9ms.)</b></span><BR>
<br> #############SSS<br><span class='ss_start pt'  onClick='toggleDiv("tab_personal_table1514311781724");'> $CALL_SERVICE: <b>tab_personal.cfg => tab_personal_table</b> (request:HR_LHEP_1216)</span><div id='tab_personal_table1514311781724' class='ss'><b>$INCLUDE </b>[criteria]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select count(*) as "NUM_RECORDS"
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
NUM_RECORDS=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[criteria]<BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.tab_n,sotr.topparent_name,sotr.subtopparent_name, sotr.FIO, sotr.history_contract, sotr.stepen, sotr.otdel, sotr.shtat_direct
, sotr.division, sotr.div_code, sotr.post, date_format(sotr.dr,'%d.%m.%Y') birthday
, sotr.usl_truda, sotr.usl_rab, sotr.category, sotr.grazhdan, date_format(sotr.nachalo_rab,'%d.%m.%Y') nachalo_rab
, date_format(sotr.okonch_rab,'%d.%m.%Y') okonch_rab, sotr.otdel, sotr.shtat_direct
, sotr.sovmeshenie
, ((YEAR(CURRENT_DATE)-YEAR(dr))-(DATE_FORMAT(CURRENT_DATE, '%m%d')<DATE_FORMAT(dr, '%m%d'))) AS age
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 82ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_personal_table1514311781724");'> BACK: <b>tab_personal_table => tab_personal.cfg; (301ms.)</b></span><BR>
<br> #############SSS</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1216");'>Request_HR_LHEP_1216 (tab_personal) DONE! (479ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1217");'> Request_HR_LHEP_1217 [26.12 21:14:23] 2309: 0:0:0:0:0:0:0:1 c=tab_personal_table</span><div id='Request_HR_LHEP_1217' class='req'> queryString:c=tab_personal_table&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[criteria]<BR>
<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select count(*) as "NUM_RECORDS"
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
NUM_RECORDS=1</xmp>------ SQL done, 2ms.<br><BR>
<b>$INCLUDE </b>[criteria]<BR>
 SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.tab_n,sotr.topparent_name,sotr.subtopparent_name, sotr.FIO, sotr.history_contract, sotr.stepen, sotr.otdel, sotr.shtat_direct
, sotr.division, sotr.div_code, sotr.post, date_format(sotr.dr,'%d.%m.%Y') birthday
, sotr.usl_truda, sotr.usl_rab, sotr.category, sotr.grazhdan, date_format(sotr.nachalo_rab,'%d.%m.%Y') nachalo_rab
, date_format(sotr.okonch_rab,'%d.%m.%Y') okonch_rab, sotr.otdel, sotr.shtat_direct
, sotr.sovmeshenie
, ((YEAR(CURRENT_DATE)-YEAR(dr))-(DATE_FORMAT(CURRENT_DATE, '%m%d')<DATE_FORMAT(dr, '%m%d'))) AS age
from sotrudniki sotr
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 70ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1217");'>Request_HR_LHEP_1217 (tab_personal_table) DONE! (375ms)</span> <BR>
</div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1218");'> Request_HR_LHEP_1218 [26.12 21:14:26] 2309: 0:0:0:0:0:0:0:1 c=tab_reports</span><div id='Request_HR_LHEP_1218' class='req'> queryString:c=tab_reports&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>utils.cfg[personal filters]<BR>
<br> <b>SQL: [utils.cfg[dropdowns] (1) ]:</b><xmp>select distinct concat('<option value="', trim(post), '" '
, case when trim(post)='' then 'selected' else '' end
, '>' , trim(post), '</option>') as POST
from sotrudniki
where lab_id = 100000
order by post
</xmp><xmp>***** 112 record(s) retrieved. Filled 1 parameters: 
POST=<option value="аппаратчик ожижения водорода и гелия" >аппаратчик ожижения водорода и гелия</option><option value="ведущий инженер по охране труда" >ведущий инженер по охране труда</option><option value="ведущий инженер" >ведущий инженер</option><option value="ведущий конструктор" >ведущий конструктор</option><option value="ведущий научный сотрудник" >ведущий научный сотрудник</option><option value="ведущий программист" >ведущий программист</option><option value="ведущий технолог" >ведущий технолог</option><option value="ведущий экономист" >ведущий экономист</option><option value="ведущий электроник" >ведущий электроник</option><option value="гальваник" >гальваник</option><option value="главный инженер лаборатории" >главный инженер лаборатории</option><option value="главный инженер установки" >главный инженер установки</option><option value="главный научный сотрудник" >главный научный сотрудник</option><option value="главный технический специалист" >главный технический специалист</option><option value="гравер" >гравер</option><option value="директор лаборатории" >директор лаборатории</option><option value="заведующий складом" >заведующий складом</option><option value="заведующий техническим архивом" >заведующий техническим архивом</option><option value="заведующий хозяйством" >заведующий хозяйством</option><option value="заместитель главного инженера лаборатории" >заместитель главного инженера лаборатории</option><option value="заместитель директора лаборатории по научной работе" >заместитель директора лаборатории по научной работе</option><option value="заместитель начальника отдела" >заместитель начальника отдела</option><option value="заместитель начальника отделения по научной работе" >заместитель начальника отделения по научной работе</option><option value="заместитель начальника цеха" >заместитель начальника цеха</option><option value="заточник" >заточник</option><option value="и.о.ведущего научного сотрудника" >и.о.ведущего научного сотрудника</option><option value="и.о.научного сотрудника" >и.о.научного сотрудника</option><option value="и.о.начальника сектора" >и.о.начальника сектора</option><option value="и.о.старшего научного сотрудника" >и.о.старшего научного сотрудника</option><option value="инженер" >инженер</option><option value="инженер-конструктор 1 категории" >инженер-конструктор 1 категории</option><option value="инженер-конструктор 2 категории" >инженер-конструктор 2 категории</option><option value="инженер-конструктор 3 категории" >инженер-конструктор 3 категории</option><option value="инженер-конструктор" >инженер-конструктор</option><option value="инженер-программист 1 категории" >инженер-программист 1 категории</option><option value="инженер-программист 2 категории" >инженер-программист 2 категории</option><option value="инженер-программист" >инженер-программист</option><option value="инженер-технолог 1 категории" >инженер-технолог 1 категории</option><option value="инженер-технолог 3 категории" >инженер-технолог 3 категории</option><option value="инженер-технолог" >инженер-технолог</option><option value="инженер-электроник 1 категории" >инженер-электроник 1 категории</option><option value="инженер-электроник 2 категории" >инженер-электроник 2 категории</option><option value="инженер-электроник" >инженер-электроник</option><option value="кладовщик инструментальной кладовой" >кладовщик инструментальной кладовой</option><option value="консультант при дирекции лаборатории" >консультант при дирекции лаборатории</option><option value="консультант" >консультант</option><option value="лаборант обработки фильмовой информации физического эксперимента" >лаборант обработки фильмовой информации физического эксперимента</option><option value="лаборант ускорительной установки" >лаборант ускорительной установки</option><option value="лаборант физической лаборатории" >лаборант физической лаборатории</option><option value="лаборант химико-технологических исследований" >лаборант химико-технологических исследований</option><option value="лаборант" >лаборант</option><option value="маляр" >маляр</option><option value="мастер" >мастер</option><option value="машинист компрессорных установок" >машинист компрессорных установок</option><option value="машинист по стирке и ремонту спецодежды" >машинист по стирке и ремонту спецодежды</option><option value="механик цеха" >механик цеха</option><option value="механик экспериментальных стендов и установок" >механик экспериментальных стендов и установок</option><option value="младший научный сотрудник" >младший научный сотрудник</option><option value="монтажник радиоэлектронной аппаратуры и приборов" >монтажник радиоэлектронной аппаратуры и приборов</option><option value="монтажник санитарно-технических систем и оборудования" >монтажник санитарно-технических систем и оборудования</option><option value="монтажник технологического оборудования и связанных с ним конструкций" >монтажник технологического оборудования и связанных с ним конструкций</option><option value="научный сотрудник" >научный сотрудник</option><option value="начальник бюро" >начальник бюро</option><option value="начальник группы" >начальник группы</option><option value="начальник отдела" >начальник отдела</option><option value="начальник отделения" >начальник отделения</option><option value="начальник сектора" >начальник сектора</option><option value="начальник службы" >начальник службы</option><option value="начальник цеха" >начальник цеха</option><option value="переводчик" >переводчик</option><option value="плотник" >плотник</option><option value="подсобный рабочий" >подсобный рабочий</option><option value="полировщик" >полировщик</option><option value="помощник директора лаборатории по капитальному строительству" >помощник директора лаборатории по капитальному строительству</option><option value="помощник директора лаборатории по общим вопросам" >помощник директора лаборатории по общим вопросам</option><option value="помощник директора лаборатории по финансовым вопросам" >помощник директора лаборатории по финансовым вопросам</option><option value="помощник начальника цеха по хозяйственным вопросам" >помощник начальника цеха по хозяйственным вопросам</option><option value="почетный директор лаборатории" >почетный директор лаборатории</option><option value="сверловщик" >сверловщик</option><option value="слесарь аварийно-восстановительных работ" >слесарь аварийно-восстановительных работ</option><option value="слесарь механосборочных работ" >слесарь механосборочных работ</option><option value="слесарь по контрольно-измерительным приборам и автоматике" >слесарь по контрольно-измерительным приборам и автоматике</option><option value="слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования" >слесарь по ремонту и обслуживанию систем вентиляции и кондиционирования</option><option value="слесарь-ремонтник" >слесарь-ремонтник</option><option value="советник директора лаборатории" >советник директора лаборатории</option><option value="советник при дирекции лаборатории" >советник при дирекции лаборатории</option><option value="советник" >советник</option><option value="станочник широкого профиля" >станочник широкого профиля</option><option value="старший инженер" >старший инженер</option><option value="старший инспектор" >старший инспектор</option><option value="старший лаборант" >старший лаборант</option><option value="старший лаборант, имеющий высшее образование" >старший лаборант, имеющий высшее образование</option><option value="старший мастер" >старший мастер</option><option value="старший научный сотрудник" >старший научный сотрудник</option><option value="старший переводчик" >старший переводчик</option><option value="старший техник" >старший техник</option><option value="старший товаровед" >старший товаровед</option><option value="старший экономист" >старший экономист</option><option value="столяр" >столяр</option><option value="техник" >техник</option><option value="токарь" >токарь</option><option value="токарь-расточник" >токарь-расточник</option><option value="тракторист" >тракторист</option><option value="уборщик производственных помещений" >уборщик производственных помещений</option><option value="уборщик служебных помещений" >уборщик служебных помещений</option><option value="ученый секретарь лаборатории" >ученый секретарь лаборатории</option><option value="фрезеровщик" >фрезеровщик</option><option value="художник" >художник</option><option value="электрогазосварщик" >электрогазосварщик</option><option value="электромонтер по обслуживанию электрооборудования" >электромонтер по обслуживанию электрооборудования</option><option value="электромонтер по ремонту и обслуживанию электрооборудования" >электромонтер по ремонту и обслуживанию электрооборудования</option><option value="электросварщик ручной сварки" >электросварщик ручной сварки</option></xmp>------ SQL done, 17ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (2) ]:</b><xmp>select distinct concat('<option value="', trim(category), '" '
, case when trim(category)='' then 'selected' else '' end
, '>' , trim(category), '</option>')as CATEGORIES
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
CATEGORIES=<option value="Научные и научно-педагогические работники" >Научные и научно-педагогические работники</option><option value="Специалисты" >Специалисты</option><option value="Рабочие" >Рабочие</option><option value="Руководители" >Руководители</option></xmp>------ SQL done, 14ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (3) ]:</b><xmp>select distinct concat('<option value="', trim(stepen), '" '
, case when stepen='' then 'selected' else '' end
, '>' , trim(stepen), '</option>')as STEPEN
from sotrudniki
where lab_id = 100000
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
STEPEN=<option value="" selected></option><option value="Доктор наук" >Доктор наук</option><option value="Кандидат наук" >Кандидат наук</option></xmp>------ SQL done, 11ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (4) ]:</b><xmp>select distinct concat('<option value="', trim(grazhdan), '" '
, case when trim(grazhdan)='' then 'selected' else '' end
, '>' , trim(grazhdan), '</option>')as GRAZHDAN
from sotrudniki
where lab_id = 100000
order by grazhdan
</xmp><xmp>***** 20 record(s) retrieved. Filled 1 parameters: 
GRAZHDAN=<option value="АЗЕРБАЙДЖАН" >АЗЕРБАЙДЖАН</option><option value="АРМЕНИЯ" >АРМЕНИЯ</option><option value="БЕЛАРУСЬ" >БЕЛАРУСЬ</option><option value="БОЛГАРИЯ" >БОЛГАРИЯ</option><option value="ГЕРМАНИЯ" >ГЕРМАНИЯ</option><option value="ГРУЗИЯ" >ГРУЗИЯ</option><option value="КАЗАХСТАН" >КАЗАХСТАН</option><option value="КУБА" >КУБА</option><option value="ЛИТВА" >ЛИТВА</option><option value="МОЛДОВА, РЕСПУБЛИКА" >МОЛДОВА, РЕСПУБЛИКА</option><option value="МОНГОЛИЯ" >МОНГОЛИЯ</option><option value="НИГЕРИЯ" >НИГЕРИЯ</option><option value="ПОЛЬША" >ПОЛЬША</option><option value="РОССИЯ" >РОССИЯ</option><option value="РУМЫНИЯ" >РУМЫНИЯ</option><option value="СЛОВАКИЯ" >СЛОВАКИЯ</option><option value="УЗБЕКИСТАН" >УЗБЕКИСТАН</option><option value="УКРАИНА" >УКРАИНА</option><option value="ЧЕШСКАЯ РЕСПУБЛИКА" >ЧЕШСКАЯ РЕСПУБЛИКА</option></xmp>------ SQL done, 13ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (5) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №1 материального учета и контроля" >Группа №1 материального учета и контроля</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем" >Научно-экспериментальный отдел ускорительных систем</option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно-экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 5ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (6) ]:</b><xmp>select distinct concat('<option value="', trim(name), '" '
, case when trim(name)='' then 'selected' else '' end
, '>' , trim(name), '</option>')as OTDELENIE
from struktura
where pid = 100000
order by OTDELENIE
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTDELENIE=<option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option></xmp>------ SQL done, 409ms.<br><BR>
<br> <b>SQL: [utils.cfg[dropdowns] (7) ]:</b><xmp>select distinct  concat(' "', name,'" "', name,'"  "',hex(name),' "')   as OTD
from struktura
where pid = 100000
order by OTD
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
OTD= "Административно-хозяйственное подразделение" "Административно-хозяйственное подразделение"  "D090D0B4D0BCD0B8D0BDD0B8D181D182D180D0B0D182D0B8D0B2D0BDD0BE2DD185D0BED0B7D18FD0B9D181D182D0B2D0B5D0BDD0BDD0BED0B520D0BFD0BED0B4D180D0B0D0B7D0B4D0B5D0BBD0B5D0BDD0B8D0B5 " "Группа советников и консультантов" "Группа советников и консультантов"  "D093D180D183D0BFD0BFD0B020D181D0BED0B2D0B5D182D0BDD0B8D0BAD0BED0B220D0B820D0BAD0BED0BDD181D183D0BBD18CD182D0B0D0BDD182D0BED0B2 " "Инженерный энерготехнологический отдел" "Инженерный энерготехнологический отдел"  "D098D0BDD0B6D0B5D0BDD0B5D180D0BDD18BD0B920D18DD0BDD0B5D180D0B3D0BED182D0B5D185D0BDD0BED0BBD0BED0B3D0B8D187D0B5D181D0BAD0B8D0B920D0BED182D0B4D0B5D0BB " "Отделение №1 Ускорительное" "Отделение №1 Ускорительное"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963120D0A3D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0B5 " "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" "Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963220D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D183D181D0BAD0BED180D0B8D182D0B5D0BBD18CD0BDD0BED0BC20D0BAD0BED0BCD0BFD0BBD0B5D0BAD181D0B520D09DD183D0BAD0BBD0BED182D180D0BED0BD2D4E494341 " "Отделение №3 Физики адронов" "Отделение №3 Физики адронов"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963320D0A4D0B8D0B7D0B8D0BAD0B820D0B0D0B4D180D0BED0BDD0BED0B2 " "Отделение №4 Физики на встречных пучках" "Отделение №4 Физики на встречных пучках"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963420D0A4D0B8D0B7D0B8D0BAD0B820D0BDD0B020D0B2D181D182D180D0B5D187D0BDD18BD18520D0BFD183D187D0BAD0B0D185 " "Отделение №5 Научно–методических исследований и инноваций" "Отделение №5 Научно–методических исследований и инноваций"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963520D09DD0B0D183D187D0BDD0BEE28093D0BCD0B5D182D0BED0B4D0B8D187D0B5D181D0BAD0B8D18520D0B8D181D181D0BBD0B5D0B4D0BED0B2D0B0D0BDD0B8D0B920D0B820D0B8D0BDD0BDD0BED0B2D0B0D186D0B8D0B9 " "Отделение №6 Главного инженера" "Отделение №6 Главного инженера"  "D09ED182D0B4D0B5D0BBD0B5D0BDD0B8D0B520E284963620D093D0BBD0B0D0B2D0BDD0BED0B3D0BE20D0B8D0BDD0B6D0B5D0BDD0B5D180D0B0 " "Планово-финансовое бюро" "Планово-финансовое бюро"  "D09FD0BBD0B0D0BDD0BED0B2D0BE2DD184D0B8D0BDD0B0D0BDD181D0BED0B2D0BED0B520D0B1D18ED180D0BE " "Руководство" "Руководство"  "D0A0D183D0BAD0BED0B2D0BED0B4D181D182D0B2D0BE "</xmp>------ SQL done, 3ms.<br><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("fill_otdel1514312066600");'> $CALL_SERVICE: <b>tab_reports.cfg => fill_otdel</b> (request:HR_LHEP_1218)</span><div id='fill_otdel1514312066600' class='ss'><b>$INCLUDE </b>[scripts]<BR>
<br> <b>SQL: [[get otdels] (1) ]:</b><xmp>select distinct concat('<option value="', short_name, '" '
, case when short_name='' then 'selected' else '' end
, '>' , short_name, '</option>')as OTDEL
from struktura str
where str.pid  in (select id from struktura where pid = 100000)
order by otdel
</xmp><xmp>***** 41 record(s) retrieved. Filled 1 parameters: 
OTDEL=<option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option></xmp>------ SQL done, 6ms.<br><BR>
<br> <b>SQL: [[get otdels] (2) ]:</b><xmp></xmp></div><span class='ss_back pt'  onClick='toggleDiv("fill_otdel1514312066600");'> BACK: <b>fill_otdel => tab_reports.cfg; (13ms.)</b></span><BR>
<br><span class='ss_start pt'  onClick='toggleDiv("tab_reports_chart1514312066620");'> $CALL_SERVICE: <b>tab_reports.cfg => tab_reports_chart</b> (request:HR_LHEP_1218)</span><div id='tab_reports_chart1514312066620' class='ss'><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 55ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option><br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie <option value="Административно-хозяйственное подразделение" >Административно-хозяйственное подразделение</option><option value="Группа советников и консультантов" >Группа советников и консультантов</option><option value="Инженерный энерготехнологический отдел" >Инженерный энерготехнологический отдел</option><option value="Отделение №1 Ускорительное" >Отделение №1 Ускорительное</option><option value="Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA" >Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA</option><option value="Отделение №3 Физики адронов" >Отделение №3 Физики адронов</option><option value="Отделение №4 Физики на встречных пучках" >Отделение №4 Физики на встречных пучках</option><option value="Отделение №5 Научно–методических исследований и инноваций" >Отделение №5 Научно–методических исследований и инноваций</option><option value="Отделение №6 Главного инженера" >Отделение №6 Главного инженера</option><option value="Планово-финансовое бюро" >Планово-финансовое бюро</option><option value="Руководство" >Руководство</option> otdel <option value="Административное бюро" >Административное бюро</option><option value="Гр. №1 мат. учета и контроля" >Гр. №1 мат. учета и контроля</option><option value="Группа №1 высоковольтного оборудования" >Группа №1 высоковольтного оборудования</option><option value="Группа №2 низковольтного оборудования" >Группа №2 низковольтного оборудования</option><option value="Группа №2 планово- экономическая" >Группа №2 планово- экономическая</option><option value="Группа №3 обеспечения и контроля закупок" >Группа №3 обеспечения и контроля закупок</option><option value="Группа №3 тепловодоснабжения и вентиляции" >Группа №3 тепловодоснабжения и вентиляции</option><option value="Группа №4 электротехническая - высоковольтного оборудования" >Группа №4 электротехническая - высоковольтного оборудования</option><option value="Диспетчерская служба Нуклотрона" >Диспетчерская служба Нуклотрона</option><option value="Инженерный энерготехнологический отдел " >Инженерный энерготехнологический отдел </option><option value="Конструкторский отдел" >Конструкторский отдел</option><option value="Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA" >Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA</option><option value="Научно-инженерный отдел систем электропитания Нуклотрона" >Научно-инженерный отдел систем электропитания Нуклотрона</option><option value="Научно-исследовательский криогенный отдел" >Научно-исследовательский криогенный отдел</option><option value="Научно-методический отдел кремниевых трековых систем" >Научно-методический отдел кремниевых трековых систем</option><option value="Научно-технический отдел пучков" >Научно-технический отдел пучков</option><option value="Научно-экспериментальный отдел инжекции и кольца Нуклотрона" >Научно-экспериментальный отдел инжекции и кольца Нуклотрона</option><option value="Научно-экспериментальный отдел инженерно-физических проблем ускорителей" >Научно-экспериментальный отдел инженерно-физических проблем ускорителей</option><option value="Научно-экспериментальный отдел многоцелевого детектора (MPD)" >Научно-экспериментальный отдел многоцелевого детектора (MPD)</option><option value="Научно-экспериментальный отдел радиоэлектронных систем" >Научно-экспериментальный отдел радиоэлектронных систем</option><option value="Научно-экспериментальный отдел сверхпроводящих магнитов и технологий" >Научно-экспериментальный отдел сверхпроводящих магнитов и технологий</option><option value="Научно-экспериментальный отдел спиновой физики малонуклонных систем" >Научно-экспериментальный отдел спиновой физики малонуклонных систем</option><option value="Научно-экспериментальный отдел ускорительных систем  " >Научно-экспериментальный отдел ускорительных систем  </option><option value="Научно-экспериментальный отдел физики легких кварков и лептонов" >Научно-экспериментальный отдел физики легких кварков и лептонов</option><option value="Научно-экспериментальный отдел физики на CMS" >Научно-экспериментальный отдел физики на CMS</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на LHC" >Научно-экспериментальный отдел физики тяжелых ионов на LHC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов на RHIC" >Научно-экспериментальный отдел физики тяжелых ионов на RHIC</option><option value="Научно-экспериментальный отдел физики тяжелых ионов" >Научно-экспериментальный отдел физики тяжелых ионов</option><option value="Научно–экспериментальный отдел автоматизации физических исследований" >Научно–экспериментальный отдел автоматизации физических исследований</option><option value="Сектор детекторных систем" >Сектор детекторных систем</option><option value="Сектор криофизических исследований" >Сектор криофизических исследований</option><option value="Сектор полупроводниковых детекторов" >Сектор полупроводниковых детекторов</option><option value="Сектор прикладных радиационных технологий" >Сектор прикладных радиационных технологий</option><option value="Сектор рентгеновской спектроскопии" >Сектор рентгеновской спектроскопии</option><option value="Сектор строу-детекторов" >Сектор строу-детекторов</option><option value="Сектор структуры частиц" >Сектор структуры частиц</option><option value="Сектор физики на АТЛАС" >Сектор физики на АТЛАС</option><option value="Сектор физики странных кварков в ядрах" >Сектор физики странных кварков в ядрах</option><option value="Серпуховской научно-экспериментальный отдел" >Серпуховской научно-экспериментальный отдел</option><option value="Хозяйственный отдел" >Хозяйственный отдел</option><option value="Цех опытно-экспериментального производства" >Цех опытно-экспериментального производства</option> SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 61ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='ss_back pt'  onClick='toggleDiv("tab_reports_chart1514312066620");'> BACK: <b>tab_reports_chart => tab_reports.cfg; (1077ms.)</b></span><BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1218");'>Request_HR_LHEP_1218 (tab_reports) DONE! (1691ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1219");'> Request_HR_LHEP_1219 [26.12 21:15:5] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1219' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 14ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 65ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 17ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 60ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1219");'>Request_HR_LHEP_1219 (tab_reports_chart) DONE! (1152ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1220");'> Request_HR_LHEP_1220 [26.12 21:15:35] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1220' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 16ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 78ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 79ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1220");'>Request_HR_LHEP_1220 (tab_reports_chart) DONE! (1205ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1221");'> Request_HR_LHEP_1221 [26.12 21:16:47] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1221' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 84ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 66ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1221");'>Request_HR_LHEP_1221 (tab_reports_chart) DONE! (1184ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1222");'> Request_HR_LHEP_1222 [26.12 21:17:30] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1222' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 14ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 72ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 58ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1222");'>Request_HR_LHEP_1222 (tab_reports_chart) DONE! (1180ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1223");'> Request_HR_LHEP_1223 [26.12 21:18:23] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1223' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 64ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1223");'>Request_HR_LHEP_1223 (tab_reports_chart) DONE! (1158ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1224");'> Request_HR_LHEP_1224 [26.12 21:19:45] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1224' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 97ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 56ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1224");'>Request_HR_LHEP_1224 (tab_reports_chart) DONE! (1145ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1225");'> Request_HR_LHEP_1225 [26.12 21:20:5] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1225' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 21ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 171ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 15ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 14ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1225");'>Request_HR_LHEP_1225 (tab_reports_chart) DONE! (1274ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1226");'> Request_HR_LHEP_1226 [26.12 21:21:4] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1226' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 9ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 68ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 15ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1226");'>Request_HR_LHEP_1226 (tab_reports_chart) DONE! (1170ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1227");'> Request_HR_LHEP_1227 [26.12 21:21:33] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1227' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 9ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 74ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 13ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1227");'>Request_HR_LHEP_1227 (tab_reports_chart) DONE! (1171ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1228");'> Request_HR_LHEP_1228 [26.12 21:28:9] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1228' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 27ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 33ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 23ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 88ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 56ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1228");'>Request_HR_LHEP_1228 (tab_reports_chart) DONE! (1189ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1229");'> Request_HR_LHEP_1229 [26.12 21:28:54] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1229' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 21ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 78ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 63ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1229");'>Request_HR_LHEP_1229 (tab_reports_chart) DONE! (1200ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1230");'> Request_HR_LHEP_1230 [26.12 21:30:32] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1230' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 77ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 60ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1230");'>Request_HR_LHEP_1230 (tab_reports_chart) DONE! (1197ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1231");'> Request_HR_LHEP_1231 [26.12 21:31:26] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1231' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 22ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 16ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 9ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 84ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 14ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 56ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1231");'>Request_HR_LHEP_1231 (tab_reports_chart) DONE! (1233ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1232");'> Request_HR_LHEP_1232 [26.12 21:32:58] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1232' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 86ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 273ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1232");'>Request_HR_LHEP_1232 (tab_reports_chart) DONE! (1414ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1233");'> Request_HR_LHEP_1233 [26.12 21:34:1] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1233' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 21ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 20ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 77ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 79ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1233");'>Request_HR_LHEP_1233 (tab_reports_chart) DONE! (1187ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1234");'> Request_HR_LHEP_1234 [26.12 21:39:23] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1234' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 16ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 88ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 61ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1234");'>Request_HR_LHEP_1234 (tab_reports_chart) DONE! (1176ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1235");'> Request_HR_LHEP_1235 [26.12 21:44:25] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1235' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 14ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 87ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1235");'>Request_HR_LHEP_1235 (tab_reports_chart) DONE! (1182ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1236");'> Request_HR_LHEP_1236 [26.12 21:45:41] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1236' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 78ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 56ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1236");'>Request_HR_LHEP_1236 (tab_reports_chart) DONE! (1135ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1237");'> Request_HR_LHEP_1237 [26.12 21:46:39] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1237' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 16ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 76ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 74ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1237");'>Request_HR_LHEP_1237 (tab_reports_chart) DONE! (1197ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1238");'> Request_HR_LHEP_1238 [26.12 21:47:7] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1238' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 228ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 10ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 61ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1238");'>Request_HR_LHEP_1238 (tab_reports_chart) DONE! (1340ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1239");'> Request_HR_LHEP_1239 [26.12 21:47:56] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1239' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 22ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 9ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 75ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 58ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1239");'>Request_HR_LHEP_1239 (tab_reports_chart) DONE! (1189ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1240");'> Request_HR_LHEP_1240 [26.12 21:48:19] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1240' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 9ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 70ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1240");'>Request_HR_LHEP_1240 (tab_reports_chart) DONE! (1225ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1241");'> Request_HR_LHEP_1241 [26.12 21:48:42] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1241' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 16ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category)/10,
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:33.0000},{ pname:'Рабочие', v1:22, v2:56, v3:26.9000},{ pname:'Руководители', v1:50, v2:57, v3:5.8000},{ pname:'Специалисты', v1:28, v2:47, v3:49.3000},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 8ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 73ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1241");'>Request_HR_LHEP_1241 (tab_reports_chart) DONE! (1140ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1242");'> Request_HR_LHEP_1242 [26.12 21:49:29] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1242' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category),
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:330},{ pname:'Рабочие', v1:22, v2:56, v3:269},{ pname:'Руководители', v1:50, v2:57, v3:58},{ pname:'Специалисты', v1:28, v2:47, v3:493},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 6ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 78ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 4ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 57ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1242");'>Request_HR_LHEP_1242 (tab_reports_chart) DONE! (1188ms)</span> <BR>
<b>$INCLUDE </b>dat/common.dat[rowLinks]<BR>
$$$$$$$$$$ prevSetLink=<a class=page href="javascript:; goToRow();"> <<< предыд. </a></div><br><span class='req_start pt' onClick='toggleDiv("Request_HR_LHEP_1243");'> Request_HR_LHEP_1243 [26.12 21:50:19] 2309: 0:0:0:0:0:0:0:1 c=tab_reports_chart</span><div id='Request_HR_LHEP_1243' class='req'> queryString:c=tab_reports_chart&srn=1&srt=sotr.FIO&rpp=20&ajax=Y; log=true; session inactive=min;<br><b>$INCLUDE </b>[total table]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie,
sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as sum_otdelenie, sotr.TopParent_Name, count(sotr.TopParent_Name) as ppls,
sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0))/count(sotr.TopParent_Name) as mean
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 4 parameters: 
sum_otdelenie=1514630.00262200.001732750.0011501118.003132710.005592225.004194780.003689235.003013550.00733720.001757500.00
TopParent_Name=Административно-хозяйственное подразделениеГруппа советников и консультантовИнженерный энерготехнологический отделОтделение №1 Ускорительное Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICAОтделение №3 Физики адроновОтделение №4 Физики на встречных пучкахОтделение №5 Научно–методических исследований и инновацийОтделение №6 Главного инженераПланово-финансовое бюроРуководство
ppls=77570362991681201121001918
mean=19670.51948152440.00000024753.57142931771.04419931643.53535433287.05357134956.50000032939.59821430135.50000038616.84210597638.888889</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (3) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.TopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.TopParent_Name),
", v3:",count(sotr.TopParent_Name),
"},")
as d_otdelenie_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie_age_salary={ pname:'Административно-хозяйственное подразделение', v1:19, v2:57, v3:77},{ pname:'Группа советников и консультантов', v1:52, v2:77, v3:5},{ pname:'Инженерный энерготехнологический отдел', v1:24, v2:55, v3:70},{ pname:'Отделение №1 Ускорительное ', v1:31, v2:50, v3:362},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', v1:31, v2:51, v3:99},{ pname:'Отделение №3 Физики адронов', v1:32, v2:49, v3:168},{ pname:'Отделение №4 Физики на встречных пучках', v1:34, v2:56, v3:120},{ pname:'Отделение №5 Научно–методических исследований и инноваций', v1:32, v2:52, v3:112},{ pname:'Отделение №6 Главного инженера', v1:30, v2:54, v3:100},{ pname:'Планово-финансовое бюро', v1:38, v2:46, v3:19},{ pname:'Руководство', v1:96, v2:63, v3:18},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (4) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.subTopParent_Name)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.subTopParent_Name),
", v3:",count(sotr.subTopParent_Name),
"},")
as d_otdel_age_salary
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel_age_salary={ pname:'', v1:70, v2:64, v3:41},{ pname:'Административное бюро', v1:31, v2:53, v3:16},{ pname:'Гр. №1 мат. учета и контроля', v1:31, v2:44, v3:10},{ pname:'Группа №1 высоковольтного оборудования', v1:28, v2:57, v3:12},{ pname:'Группа №2 низковольтного оборудования', v1:24, v2:57, v3:16},{ pname:'Группа №2 планово- экономическая', v1:51, v2:52, v3:4},{ pname:'Группа №3 обеспечения и контроля закупок', v1:41, v2:44, v3:5},{ pname:'Группа №3 тепловодоснабжения и вентиляции', v1:22, v2:53, v3:37},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', v1:28, v2:63, v3:4},{ pname:'Диспетчерская служба Нуклотрона', v1:26, v2:69, v3:9},{ pname:'Конструкторский отдел', v1:31, v2:52, v3:29},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', v1:38, v2:41, v3:27},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', v1:30, v2:50, v3:45},{ pname:'Научно-исследовательский криогенный отдел', v1:32, v2:53, v3:43},{ pname:'Научно-методический отдел кремниевых трековых систем', v1:31, v2:50, v3:45},{ pname:'Научно-технический отдел пучков', v1:34, v2:56, v3:45},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', v1:32, v2:51, v3:79},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', v1:32, v2:61, v3:20},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', v1:33, v2:45, v3:71},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', v1:33, v2:51, v3:23},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', v1:28, v2:37, v3:77},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', v1:29, v2:48, v3:34},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', v1:34, v2:62, v3:11},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', v1:32, v2:51, v3:40},{ pname:'Научно-экспериментальный отдел физики на CMS', v1:39, v2:52, v3:28},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', v1:31, v2:52, v3:46},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', v1:31, v2:60, v3:48},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', v1:36, v2:53, v3:35},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', v1:35, v2:48, v3:26},{ pname:'Сектор детекторных систем', v1:27, v2:62, v3:8},{ pname:'Сектор криофизических исследований', v1:32, v2:61, v3:8},{ pname:'Сектор рентгеновской спектроскопии', v1:33, v2:54, v3:9},{ pname:'Сектор строу-детекторов', v1:29, v2:54, v3:15},{ pname:'Сектор физики на АТЛАС', v1:28, v2:57, v3:9},{ pname:'Сектор физики странных кварков в ядрах', v1:31, v2:54, v3:18},{ pname:'Серпуховской научно-экспериментальный отдел', v1:26, v2:62, v3:29},{ pname:'Хозяйственный отдел', v1:16, v2:58, v3:61},{ pname:'Цех опытно-экспериментального производства', v1:28, v2:54, v3:67},</xmp>------ SQL done, 19ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (5) ]:</b><xmp>select concat("{ pname:'",sotr.TopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdelenie
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.TopParent_Name
</xmp><xmp>***** 11 record(s) retrieved. Filled 1 parameters: 
d_otdelenie={ pname:'Административно-хозяйственное подразделение', value:1504},{ pname:'Группа советников и консультантов', value:262},{ pname:'Инженерный энерготехнологический отдел', value:1732},{ pname:'Отделение №1 Ускорительное ', value:11431},{ pname:'Отделение №2 Физики на ускорительном комплексе Нуклотрон-NICA', value:3125},{ pname:'Отделение №3 Физики адронов', value:5533},{ pname:'Отделение №4 Физики на встречных пучках', value:4181},{ pname:'Отделение №5 Научно–методических исследований и инноваций', value:3638},{ pname:'Отделение №6 Главного инженера', value:3013},{ pname:'Планово-финансовое бюро', value:725},{ pname:'Руководство', value:1735},</xmp>------ SQL done, 17ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (6) ]:</b><xmp>select concat("{ pname:'",sotr.subTopParent_Name,  "', value:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div 1000,"},")
as d_otdel
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.subTopParent_Name
</xmp><xmp>***** 38 record(s) retrieved. Filled 1 parameters: 
d_otdel={ pname:'', value:2875},{ pname:'Административное бюро', value:509},{ pname:'Гр. №1 мат. учета и контроля', value:314},{ pname:'Группа №1 высоковольтного оборудования', value:343},{ pname:'Группа №2 низковольтного оборудования', value:384},{ pname:'Группа №2 планово- экономическая', value:205},{ pname:'Группа №3 обеспечения и контроля закупок', value:205},{ pname:'Группа №3 тепловодоснабжения и вентиляции', value:848},{ pname:'Группа №4 электротехническая - высоковольтного оборудования', value:114},{ pname:'Диспетчерская служба Нуклотрона', value:236},{ pname:'Конструкторский отдел', value:909},{ pname:'Научно - экспериментальный отдел физики столкновений тяжелых ионов на комплексе NICA', value:1037},{ pname:'Научно-инженерный отдел систем электропитания Нуклотрона', value:1350},{ pname:'Научно-исследовательский криогенный отдел', value:1383},{ pname:'Научно-методический отдел кремниевых трековых систем', value:1402},{ pname:'Научно-технический отдел пучков', value:1538},{ pname:'Научно-экспериментальный отдел инжекции и кольца Нуклотрона', value:2553},{ pname:'Научно-экспериментальный отдел инженерно-физических проблем ускорителей', value:656},{ pname:'Научно-экспериментальный отдел многоцелевого детектора (MPD)', value:2380},{ pname:'Научно-экспериментальный отдел радиоэлектронных систем', value:765},{ pname:'Научно-экспериментальный отдел сверхпроводящих магнитов и технологий', value:2176},{ pname:'Научно-экспериментальный отдел спиновой физики малонуклонных систем', value:1014},{ pname:'Научно-экспериментальный отдел ускорительных систем  ', value:381},{ pname:'Научно-экспериментальный отдел физики легких кварков и лептонов', value:1289},{ pname:'Научно-экспериментальный отдел физики на CMS', value:1103},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов', value:1463},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на LHC', value:1532},{ pname:'Научно-экспериментальный отдел физики тяжелых ионов на RHIC', value:1286},{ pname:'Научно–экспериментальный отдел автоматизации физических исследований', value:917},{ pname:'Сектор детекторных систем', value:218},{ pname:'Сектор криофизических исследований', value:262},{ pname:'Сектор рентгеновской спектроскопии', value:305},{ pname:'Сектор строу-детекторов', value:442},{ pname:'Сектор физики на АТЛАС', value:259},{ pname:'Сектор физики странных кварков в ядрах', value:559},{ pname:'Серпуховской научно-экспериментальный отдел', value:767},{ pname:'Хозяйственный отдел', value:995},{ pname:'Цех опытно-экспериментального производства', value:1891},</xmp>------ SQL done, 18ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (7) ]:</b><xmp>select concat("{ pname:'",sotr.category,"'",
", v1:",sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)) div (count(sotr.category)*1000),
", v2:",sum(((year(now())-year(sotr.dr)))) div count(sotr.category),
", v3:",count(sotr.category),
"},")
as d_category
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
group by sotr.category
</xmp><xmp>***** 4 record(s) retrieved. Filled 1 parameters: 
d_category={ pname:'Научные и научно-педагогические работники', v1:41, v2:55, v3:330},{ pname:'Рабочие', v1:22, v2:56, v3:269},{ pname:'Руководители', v1:50, v2:57, v3:58},{ pname:'Специалисты', v1:28, v2:47, v3:493},</xmp>------ SQL done, 15ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (8) ]:</b><xmp>delete from tmp_age
</xmp> DONE! 1150 record(s) affected------ SQL done, 7ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (9) ]:</b><xmp>insert into tmp_age  (
select ((year(now())-year(sotr.dr)) div  10) * 10 as yo, oklad.oklad as oklad
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
)
</xmp> DONE! 1150 record(s) affected------ SQL done, 75ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (10) ]:</b><xmp>select concat("{ pname:' ",yo,"-", yo+10,  "', value:",  sum(oklad) div(count(yo)*1000),  ", cnt:", count(yo),"},") as d_age
from tmp_age
group by yo
</xmp><xmp>***** 8 record(s) retrieved. Filled 1 parameters: 
d_age={ pname:' 10-20', value:10, cnt:2},{ pname:' 20-30', value:27, cnt:146},{ pname:' 30-40', value:31, cnt:167},{ pname:' 40-50', value:31, cnt:138},{ pname:' 50-60', value:31, cnt:215},{ pname:' 60-70', value:34, cnt:285},{ pname:' 70-80', value:34, cnt:157},{ pname:' 80-90', value:32, cnt:40},</xmp>------ SQL done, 3ms.<br><BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (11) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [[get full] (12) ]:</b><xmp></xmp><b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (1) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDEL
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDEL=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (2) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_OTDELENIE
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_OTDELENIE=37124418.00</xmp>------ SQL done, 12ms.<br><BR>
otdelenie  otdel<br> <b>SQL: [[get Totals] (3) ]:</b><xmp>select sum(ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0)) as SUM_CATEGORY
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp><xmp>***** 1 record(s) retrieved. Filled 1 parameters: 
SUM_CATEGORY=37124418.00</xmp>------ SQL done, 11ms.<br><BR>
otdelenie  otdel SQL: [SQL]<BR>
<b>$INCLUDE </b>utils.cfg[criteria]<BR>
<br> <b>SQL: [SQL]:</b><xmp>select sotr.topparent_name,sotr.subtopparent_name,sotr.person_id, sotr.tab_n, sotr.F, sotr.I, sotr.O, sotr.FIO, sotr.otdel
, sotr.division, sotr.shtat_direct, sotr.post, sotr.category, oklad.year
, oklad.oklad, oklad.kompens, oklad.dopl_stepen, oklad.personal_nadbav
, oklad.perconal_imen_nadbav, oklad.premija_rabochim, oklad.sovmeshenie
, ifnull(oklad.oklad,0)+ifnull(oklad.kompens,0)+ifnull(oklad.dopl_stepen,0)
+ifnull(oklad.personal_nadbav,0)+ifnull(oklad.perconal_imen_nadbav,0)
+ifnull(oklad.premija_rabochim+oklad.sovmeshenie,0) as itogo
from sotrudniki sotr
left join oklad on sotr.tab_n=oklad.tab_n
where lab_id = 100000
order by sotr.FIO
</xmp> <b> Processed in 58ms. </b><br> <b> NumTableRows=200; </b><BR>
<b>$INCLUDE </b>dat/common.dat[rpp]<BR>
</div><span class='req_end pt' onClick='toggleDiv("Request_HR_LHEP_1243");'>Request_HR_LHEP_1243 (tab_reports_chart) DONE! (1174ms)</span> <BR>
